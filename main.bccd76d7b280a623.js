(self.webpackChunkproyecto_final=self.webpackChunkproyecto_final||[]).push([[179],{2011:(Ze,q,R)=>{"use strict";R.d(q,{Dh:()=>z,GT:()=>H,cc:()=>Ee,hO:()=>De,on:()=>G,pX:()=>B,xv:()=>le});var c=R(4650),P=R(127),A=R(5813);Ze=R.hmd(Ze);const L=["ngOnDestroy"],B=(pe,ke,Ne,Pe={})=>new Proxy(pe,{get:(Fe,fe)=>Ne.runOutsideAngular(()=>{var Le;if(pe[fe])return!(null===(Le=Pe?.spy)||void 0===Le)&&Le.get&&Pe.spy.get(fe,pe[fe]),pe[fe];if(L.indexOf(fe)>-1)return()=>{};const ie=ke.toPromise().then(U=>{const me=U&&U[fe];return"function"==typeof me?me.bind(U):me&&me.then?me.then(J=>Ne.run(()=>J)):Ne.run(()=>me)});return new Proxy(()=>{},{get:(U,me)=>ie[me],apply:(U,me,J)=>ie.then(ne=>{var ae;const ce=ne&&ne(...J);return!(null===(ae=Pe?.spy)||void 0===ae)&&ae.apply&&Pe.spy.apply(fe,J,ce),ce})})})}),H=(pe,ke)=>{ke.forEach(Ne=>{Object.getOwnPropertyNames(Ne.prototype||Ne).forEach(Pe=>{Object.defineProperty(pe.prototype,Pe,Object.getOwnPropertyDescriptor(Ne.prototype||Ne,Pe))})})};class Q{constructor(ke){return ke}}const z=new c.OlP("angularfire2.app.options"),le=new c.OlP("angularfire2.app.name");function G(pe,ke,Ne){const Fe="object"==typeof Ne&&Ne||{};Fe.name=Fe.name||"string"==typeof Ne&&Ne||"[DEFAULT]";const Le=P.Z.apps.filter(ie=>ie&&ie.name===Fe.name)[0]||ke.runOutsideAngular(()=>P.Z.initializeApp(pe,Fe));try{JSON.stringify(pe)!==JSON.stringify(Le.options)&&W("error",`${Le.name} Firebase App already initialized with different options${Ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Q(Le)}const W=(pe,...ke)=>{(0,c.X6Q)()&&typeof console<"u"&&console[pe](...ke)},te={provide:Q,useFactory:G,deps:[z,c.R0b,[new c.FiY,le]]};let De=(()=>{class pe{constructor(Ne){P.Z.registerVersion("angularfire",A.q4.full,"core"),P.Z.registerVersion("angularfire",A.q4.full,"app-compat"),P.Z.registerVersion("angular",c.q4F.full,Ne.toString())}static initializeApp(Ne,Pe){return{ngModule:pe,providers:[{provide:z,useValue:Ne},{provide:le,useValue:Pe}]}}}return pe.\u0275fac=function(Ne){return new(Ne||pe)(c.LFG(c.Lbi))},pe.\u0275mod=c.oAB({type:pe}),pe.\u0275inj=c.cJS({providers:[te]}),pe})();function Ee(pe,ke,Ne,Pe,Fe){const[,fe,Le]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===pe)||[];if(fe)return function Te(pe,ke){try{return pe.toString()===ke.toString()}catch{return pe===ke}}(Fe,Le)||(he("error",`${ke} was already initialized on the ${Ne} Firebase App with different settings.${$e?" You may need to reload as Firebase is not HMR aware.":""}`),he("warn",{is:Fe,was:Le})),fe;{const ie=Pe();return globalThis.\u0275AngularfireInstanceCache.push([pe,ie,Fe]),ie}}const $e=!!Ze.hot,he=(pe,...ke)=>{(0,c.X6Q)()&&typeof console<"u"&&console[pe](...ke)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ze,q,R)=>{"use strict";R.d(q,{q4:()=>Rr,iC:()=>Zo,HU:()=>Zl,vb:()=>Wl,JM:()=>Xr,u3:()=>Ma});var c=R(4650),P=R(5867),A=R(5861),L=R(9681),B=R(2090),H=R(4859),Q=R(1877),z=R(8766);const le="@firebase/installations",G="0.5.9",te=`w:${G}`,De="FIS_v2",ke=new B.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ne(D){return D instanceof B.ZR&&D.code.includes("request-failed")}function Pe({projectId:D}){return`https://firebaseinstallations.googleapis.com/v1/projects/${D}/installations`}function Fe(D){return{token:D.token,requestStatus:2,expiresIn:ne(D.expiresIn),creationTime:Date.now()}}function fe(D,x){return Le.apply(this,arguments)}function Le(){return(Le=(0,A.Z)(function*(D,x){const Y=(yield x.json()).error;return ke.create("request-failed",{requestName:D,serverCode:Y.code,serverMessage:Y.message,serverStatus:Y.status})})).apply(this,arguments)}function ie({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function U(D,{refreshToken:x}){const F=ie(D);return F.append("Authorization",function ae(D){return`${De} ${D}`}(x)),F}function me(D){return J.apply(this,arguments)}function J(){return(J=(0,A.Z)(function*(D){const x=yield D();return x.status>=500&&x.status<600?D():x})).apply(this,arguments)}function ne(D){return Number(D.replace("s","000"))}function ce(D,x){return _e.apply(this,arguments)}function _e(){return(_e=(0,A.Z)(function*({appConfig:D,heartbeatServiceProvider:x},{fid:F}){const Y=Pe(D),ge=ie(D),Ie=x.getImmediate({optional:!0});if(Ie){const ft=yield Ie.getHeartbeatsHeader();ft&&ge.append("x-firebase-client",ft)}const rt={method:"POST",headers:ge,body:JSON.stringify({fid:F,authVersion:De,appId:D.appId,sdkVersion:te})},Vt=yield me(()=>fetch(Y,rt));if(Vt.ok){const ft=yield Vt.json();return{fid:ft.fid||F,registrationStatus:2,refreshToken:ft.refreshToken,authToken:Fe(ft.authToken)}}throw yield fe("Create Installation",Vt)})).apply(this,arguments)}function ze(D){return new Promise(x=>{setTimeout(x,D)})}const Kt=/^[cdef][\w-]{21}$/;function Qe(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const F=function Ft(D){return function gt(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Kt.test(F)?F:""}catch{return""}}function on(D){return`${D.appName}!${D.appId}`}const an=new Map;function Ht(D,x){const F=on(D);en(F,x),function Pn(D,x){const F=function _n(){return!Rn&&"BroadcastChannel"in self&&(Rn=new BroadcastChannel("[Firebase] FID Change"),Rn.onmessage=D=>{en(D.data.key,D.data.fid)}),Rn}();F&&F.postMessage({key:D,fid:x}),function oi(){0===an.size&&Rn&&(Rn.close(),Rn=null)}()}(F,x)}function en(D,x){const F=an.get(D);if(F)for(const Y of F)Y(x)}let Rn=null;const jn="firebase-installations-store";let Dr=null;function at(){return Dr||(Dr=(0,z.X3)("firebase-installations-database",1,{upgrade:(D,x)=>{0===x&&D.createObjectStore(jn)}})),Dr}function Fn(D,x){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,A.Z)(function*(D,x){const F=on(D),ge=(yield at()).transaction(jn,"readwrite"),Ie=ge.objectStore(jn),Ue=yield Ie.get(F);return yield Ie.put(x,F),yield ge.done,(!Ue||Ue.fid!==x.fid)&&Ht(D,x.fid),x})).apply(this,arguments)}function kt(D){return sr.apply(this,arguments)}function sr(){return(sr=(0,A.Z)(function*(D){const x=on(D),Y=(yield at()).transaction(jn,"readwrite");yield Y.objectStore(jn).delete(x),yield Y.done})).apply(this,arguments)}function nr(D,x){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,A.Z)(function*(D,x){const F=on(D),ge=(yield at()).transaction(jn,"readwrite"),Ie=ge.objectStore(jn),Ue=yield Ie.get(F),rt=x(Ue);return void 0===rt?yield Ie.delete(F):yield Ie.put(rt,F),yield ge.done,rt&&(!Ue||Ue.fid!==rt.fid)&&Ht(D,rt.fid),rt})).apply(this,arguments)}function wt(D){return En.apply(this,arguments)}function En(){return(En=(0,A.Z)(function*(D){let x;const F=yield nr(D.appConfig,Y=>{const ge=Ar(Y),Ie=Bt(D,ge);return x=Ie.registrationPromise,Ie.installationEntry});return""===F.fid?{installationEntry:yield x}:{installationEntry:F,registrationPromise:x}})).apply(this,arguments)}function Ar(D){return Ur(D||{fid:Qe(),registrationStatus:0})}function Bt(D,x){if(0===x.registrationStatus){if(!navigator.onLine)return{installationEntry:x,registrationPromise:Promise.reject(ke.create("app-offline"))};const F={fid:x.fid,registrationStatus:1,registrationTime:Date.now()},Y=function Ye(D,x){return tt.apply(this,arguments)}(D,F);return{installationEntry:F,registrationPromise:Y}}return 1===x.registrationStatus?{installationEntry:x,registrationPromise:ai(D)}:{installationEntry:x}}function tt(){return(tt=(0,A.Z)(function*(D,x){try{const F=yield ce(D,x);return Fn(D.appConfig,F)}catch(F){throw Ne(F)&&409===F.customData.serverCode?yield kt(D.appConfig):yield Fn(D.appConfig,{fid:x.fid,registrationStatus:0}),F}})).apply(this,arguments)}function ai(D){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,A.Z)(function*(D){let x=yield mt(D.appConfig);for(;1===x.registrationStatus;)yield ze(100),x=yield mt(D.appConfig);if(0===x.registrationStatus){const{installationEntry:F,registrationPromise:Y}=yield wt(D);return Y||F}return x})).apply(this,arguments)}function mt(D){return nr(D,x=>{if(!x)throw ke.create("installation-not-found");return Ur(x)})}function Ur(D){return function An(D){return 1===D.registrationStatus&&D.registrationTime+1e4<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Cn(D,x){return se.apply(this,arguments)}function se(){return(se=(0,A.Z)(function*({appConfig:D,heartbeatServiceProvider:x},F){const Y=re(D,F),ge=U(D,F),Ie=x.getImmediate({optional:!0});if(Ie){const ft=yield Ie.getHeartbeatsHeader();ft&&ge.append("x-firebase-client",ft)}const rt={method:"POST",headers:ge,body:JSON.stringify({installation:{sdkVersion:te,appId:D.appId}})},Vt=yield me(()=>fetch(Y,rt));if(Vt.ok)return Fe(yield Vt.json());throw yield fe("Generate Auth Token",Vt)})).apply(this,arguments)}function re(D,{fid:x}){return`${Pe(D)}/${x}/authTokens:generate`}function ue(D){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,A.Z)(function*(D,x=!1){let F;const Y=yield nr(D.appConfig,Ie=>{if(!St(Ie))throw ke.create("not-registered");const Ue=Ie.authToken;if(!x&&yn(Ue))return Ie;if(1===Ue.requestStatus)return F=Z(D,x),Ie;{if(!navigator.onLine)throw ke.create("app-offline");const rt=Zn(Ie);return F=ot(D,rt),rt}});return F?yield F:Y.authToken})).apply(this,arguments)}function Z(D,x){return ve.apply(this,arguments)}function ve(){return(ve=(0,A.Z)(function*(D,x){let F=yield Ge(D.appConfig);for(;1===F.authToken.requestStatus;)yield ze(100),F=yield Ge(D.appConfig);const Y=F.authToken;return 0===Y.requestStatus?ue(D,x):Y})).apply(this,arguments)}function Ge(D){return nr(D,x=>{if(!St(x))throw ke.create("not-registered");return function Ce(D){return 1===D.requestStatus&&D.requestTime+1e4<Date.now()}(x.authToken)?Object.assign(Object.assign({},x),{authToken:{requestStatus:0}}):x})}function ot(D,x){return Et.apply(this,arguments)}function Et(){return(Et=(0,A.Z)(function*(D,x){try{const F=yield Cn(D,x),Y=Object.assign(Object.assign({},x),{authToken:F});return yield Fn(D.appConfig,Y),F}catch(F){if(!Ne(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const Y=Object.assign(Object.assign({},x),{authToken:{requestStatus:0}});yield Fn(D.appConfig,Y)}else yield kt(D.appConfig);throw F}})).apply(this,arguments)}function St(D){return void 0!==D&&2===D.registrationStatus}function yn(D){return 2===D.requestStatus&&!function Rt(D){const x=Date.now();return x<D.creationTime||D.creationTime+D.expiresIn<x+36e5}(D)}function Zn(D){const x={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:x})}function ee(){return(ee=(0,A.Z)(function*(D){const x=D,{installationEntry:F,registrationPromise:Y}=yield wt(x);return Y?Y.catch(console.error):ue(x).catch(console.error),F.fid})).apply(this,arguments)}function Je(){return(Je=(0,A.Z)(function*(D,x=!1){const F=D;return yield bt(F),(yield ue(F,x)).token})).apply(this,arguments)}function bt(D){return Be.apply(this,arguments)}function Be(){return(Be=(0,A.Z)(function*(D){const{registrationPromise:x}=yield wt(D);x&&(yield x)})).apply(this,arguments)}function xi(D){return ke.create("missing-app-config-values",{valueName:D})}const et="installations",Ds=D=>{const x=D.getProvider("app").getImmediate(),F=function Js(D){if(!D||!D.options)throw xi("App Configuration");if(!D.name)throw xi("App Name");const x=["projectId","apiKey","appId"];for(const F of x)if(!D.options[F])throw xi(F);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(x);return{app:x,appConfig:F,heartbeatServiceProvider:(0,L._getProvider)(x,"heartbeat"),_delete:()=>Promise.resolve()}},Mo=D=>{const x=D.getProvider("app").getImmediate(),F=(0,L._getProvider)(x,et).getImmediate();return{getId:()=>function X(D){return ee.apply(this,arguments)}(F),getToken:ge=>function Re(D){return Je.apply(this,arguments)}(F,ge)}};(function rs(){(0,L._registerComponent)(new H.wA(et,Ds,"PUBLIC")),(0,L._registerComponent)(new H.wA("installations-internal",Mo,"PRIVATE"))})(),(0,L.registerVersion)(le,G),(0,L.registerVersion)(le,G,"esm2017");const ar="@firebase/remote-config",$n=new B.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class pa{constructor(x,F,Y,ge){this.client=x,this.storage=F,this.storageCache=Y,this.logger=ge}isCachedDataFresh(x,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Y=Date.now()-F,ge=Y<=x;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Y}. Cache max age millis (minimumFetchIntervalMillis setting): ${x}. Is cache hit: ${ge}.`),ge}fetch(x){var F=this;return(0,A.Z)(function*(){const[Y,ge]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(ge&&F.isCachedDataFresh(x.cacheMaxAgeMillis,Y))return ge;x.eTag=ge&&ge.eTag;const Ie=yield F.client.fetch(x),Ue=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Ie.status&&Ue.push(F.storage.setLastSuccessfulFetchResponse(Ie)),yield Promise.all(Ue),Ie})()}}function Zi(D=navigator){return D.languages&&D.languages[0]||D.language}class Ms{constructor(x,F,Y,ge,Ie,Ue){this.firebaseInstallations=x,this.sdkVersion=F,this.namespace=Y,this.projectId=ge,this.apiKey=Ie,this.appId=Ue}fetch(x){var F=this;return(0,A.Z)(function*(){const[Y,ge]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),Ue=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,rt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":x.eTag||"*"},Vt={sdk_version:F.sdkVersion,app_instance_id:Y,app_instance_id_token:ge,app_id:F.appId,language_code:Zi()},ft={method:"POST",headers:rt,body:JSON.stringify(Vt)},rn=fetch(Ue,ft),jt=new Promise((Di,Pr)=>{x.signal.addEventListener(()=>{const Qt=new Error("The operation was aborted.");Qt.name="AbortError",Pr(Qt)})});let Hr;try{yield Promise.race([rn,jt]),Hr=yield rn}catch(Di){let Pr="fetch-client-network";throw"AbortError"===Di.name&&(Pr="fetch-timeout"),$n.create(Pr,{originalErrorMessage:Di.message})}let Ln=Hr.status;const Ra=Hr.headers.get("ETag")||void 0;let fu,vo;if(200===Hr.status){let Di;try{Di=yield Hr.json()}catch(Pr){throw $n.create("fetch-client-parse",{originalErrorMessage:Pr.message})}fu=Di.entries,vo=Di.state}if("INSTANCE_STATE_UNSPECIFIED"===vo?Ln=500:"NO_CHANGE"===vo?Ln=304:("NO_TEMPLATE"===vo||"EMPTY_CONFIG"===vo)&&(fu={}),304!==Ln&&200!==Ln)throw $n.create("fetch-status",{httpStatus:Ln});return{status:Ln,eTag:Ra,config:fu}})()}}class Ki{constructor(x,F){this.client=x,this.storage=F}fetch(x){var F=this;return(0,A.Z)(function*(){const Y=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(x,Y)})()}attemptFetch(x,{throttleEndTimeMillis:F,backoffCount:Y}){var ge=this;return(0,A.Z)(function*(){yield function Kr(D,x){return new Promise((F,Y)=>{const ge=Math.max(x-Date.now(),0),Ie=setTimeout(F,ge);D.addEventListener(()=>{clearTimeout(Ie),Y($n.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}(x.signal,F);try{const Ie=yield ge.client.fetch(x);return yield ge.storage.deleteThrottleMetadata(),Ie}catch(Ie){if(!function Fl(D){if(!(D instanceof B.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}(Ie))throw Ie;const Ue={throttleEndTimeMillis:Date.now()+(0,B.$s)(Y),backoffCount:Y+1};return yield ge.storage.setThrottleMetadata(Ue),ge.attemptFetch(x,Ue)}})()}}class Qc{constructor(x,F,Y,ge,Ie){this.app=x,this._client=F,this._storageCache=Y,this._storage=ge,this._logger=Ie,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ro(D,x){const F=D.target.error||void 0;return $n.create(x,{originalErrorMessage:F&&F.message})}const Xs="app_namespace_store";class ga{constructor(x,F,Y,ge=function eo(){return new Promise((D,x)=>{try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=Y=>{x(Ro(Y,"storage-open"))},F.onsuccess=Y=>{D(Y.target.result)},F.onupgradeneeded=Y=>{0===Y.oldVersion&&Y.target.result.createObjectStore(Xs,{keyPath:"compositeKey"})}}catch(F){x($n.create("storage-open",{originalErrorMessage:F}))}})}()){this.appId=x,this.appName=F,this.namespace=Y,this.openDbPromise=ge}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(x){return this.set("last_fetch_status",x)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(x){return this.set("last_successful_fetch_timestamp_millis",x)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(x){return this.set("last_successful_fetch_response",x)}getActiveConfig(){return this.get("active_config")}setActiveConfig(x){return this.set("active_config",x)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(x){return this.set("active_config_etag",x)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(x){return this.set("throttle_metadata",x)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(x){var F=this;return(0,A.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ge,Ie)=>{const rt=Y.transaction([Xs],"readonly").objectStore(Xs),Vt=F.createCompositeKey(x);try{const ft=rt.get(Vt);ft.onerror=rn=>{Ie(Ro(rn,"storage-get"))},ft.onsuccess=rn=>{const jt=rn.target.result;ge(jt?jt.value:void 0)}}catch(ft){Ie($n.create("storage-get",{originalErrorMessage:ft&&ft.message}))}})})()}set(x,F){var Y=this;return(0,A.Z)(function*(){const ge=yield Y.openDbPromise;return new Promise((Ie,Ue)=>{const Vt=ge.transaction([Xs],"readwrite").objectStore(Xs),ft=Y.createCompositeKey(x);try{const rn=Vt.put({compositeKey:ft,value:F});rn.onerror=jt=>{Ue(Ro(jt,"storage-set"))},rn.onsuccess=()=>{Ie()}}catch(rn){Ue($n.create("storage-set",{originalErrorMessage:rn&&rn.message}))}})})()}delete(x){var F=this;return(0,A.Z)(function*(){const Y=yield F.openDbPromise;return new Promise((ge,Ie)=>{const rt=Y.transaction([Xs],"readwrite").objectStore(Xs),Vt=F.createCompositeKey(x);try{const ft=rt.delete(Vt);ft.onerror=rn=>{Ie(Ro(rn,"storage-delete"))},ft.onsuccess=()=>{ge()}}catch(ft){Ie($n.create("storage-delete",{originalErrorMessage:ft&&ft.message}))}})})()}createCompositeKey(x){return[this.appId,this.appName,this.namespace,x].join()}}class ss{constructor(x){this.storage=x}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var x=this;return(0,A.Z)(function*(){const F=x.storage.getLastFetchStatus(),Y=x.storage.getLastSuccessfulFetchTimestampMillis(),ge=x.storage.getActiveConfig(),Ie=yield F;Ie&&(x.lastFetchStatus=Ie);const Ue=yield Y;Ue&&(x.lastSuccessfulFetchTimestampMillis=Ue);const rt=yield ge;rt&&(x.activeConfig=rt)})()}setLastFetchStatus(x){return this.lastFetchStatus=x,this.storage.setLastFetchStatus(x)}setLastSuccessfulFetchTimestampMillis(x){return this.lastSuccessfulFetchTimestampMillis=x,this.storage.setLastSuccessfulFetchTimestampMillis(x)}setActiveConfig(x){return this.activeConfig=x,this.storage.setActiveConfig(x)}}function _h(){return gi.apply(this,arguments)}function gi(){return(gi=(0,A.Z)(function*(){if(!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch{return!1}})).apply(this,arguments)}!function Xa(){(0,L._registerComponent)(new H.wA("remote-config",function D(x,{instanceIdentifier:F}){const Y=x.getProvider("app").getImmediate(),ge=x.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw $n.create("registration-window");if(!(0,B.hl)())throw $n.create("indexed-db-unavailable");const{projectId:Ie,apiKey:Ue,appId:rt}=Y.options;if(!Ie)throw $n.create("registration-project-id");if(!Ue)throw $n.create("registration-api-key");if(!rt)throw $n.create("registration-app-id");const Vt=new ga(rt,Y.name,F=F||"firebase"),ft=new ss(Vt),rn=new Q.Yd(ar);rn.logLevel=Q.in.ERROR;const jt=new Ms(ge,L.SDK_VERSION,F,Ie,Ue,rt),Hr=new Ki(jt,Vt),Ln=new pa(Hr,Vt,ft,rn),Ra=new Qc(Y,Ln,ft,Vt,rn);return function is(D){const x=(0,B.m9)(D);x._initializePromise||(x._initializePromise=x._storageCache.loadFromStorage().then(()=>{x._isInitializationComplete=!0}))}(Ra),Ra},"PUBLIC").setMultipleInstances(!0)),(0,L.registerVersion)(ar,"0.3.8"),(0,L.registerVersion)(ar,"0.3.8","esm2017")}();const Ni="/firebase-messaging-sw.js",os="/firebase-cloud-messaging-push-scope",Rs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ma="google.c.a.c_id",ya="google.c.a.c_l",Fu="google.c.a.ts",no="google.c.a.e";var mi=(()=>{return(D=mi||(mi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",mi;var D})();function Hn(D){const x=new Uint8Array(D);return btoa(String.fromCharCode(...x)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function va(D){const F=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Y=atob(F),ge=new Uint8Array(Y.length);for(let Ie=0;Ie<Y.length;++Ie)ge[Ie]=Y.charCodeAt(Ie);return ge}const Po="fcm_token_details_db",_a="fcm_token_object_Store";function Jc(D){return ro.apply(this,arguments)}function ro(){return ro=(0,A.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Ie=>Ie.name).includes(Po))return null;let x=null;return(yield(0,z.X3)(Po,5,{upgrade:(Y=(0,A.Z)(function*(ge,Ie,Ue,rt){var Vt;if(Ie<2||!ge.objectStoreNames.contains(_a))return;const ft=rt.objectStore(_a),rn=yield ft.index("fcmSenderId").get(D);if(yield ft.clear(),rn)if(2===Ie){const jt=rn;if(!jt.auth||!jt.p256dh||!jt.endpoint)return;x={token:jt.fcmToken,createTime:null!==(Vt=jt.createTime)&&void 0!==Vt?Vt:Date.now(),subscriptionOptions:{auth:jt.auth,p256dh:jt.p256dh,endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:"string"==typeof jt.vapidKey?jt.vapidKey:Hn(jt.vapidKey)}}}else if(3===Ie){const jt=rn;x={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:Hn(jt.auth),p256dh:Hn(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:Hn(jt.vapidKey)}}}else if(4===Ie){const jt=rn;x={token:jt.fcmToken,createTime:jt.createTime,subscriptionOptions:{auth:Hn(jt.auth),p256dh:Hn(jt.p256dh),endpoint:jt.endpoint,swScope:jt.swScope,vapidKey:Hn(jt.vapidKey)}}}}),function(Ie,Ue,rt,Vt){return Y.apply(this,arguments)})})).close(),yield(0,z.Lj)(Po),yield(0,z.Lj)("fcm_vapid_details_db"),yield(0,z.Lj)("undefined"),eu(x)?x:null;var Y}),ro.apply(this,arguments)}function eu(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:x}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof x.auth&&x.auth.length>0&&"string"==typeof x.p256dh&&x.p256dh.length>0&&"string"==typeof x.endpoint&&x.endpoint.length>0&&"string"==typeof x.swScope&&x.swScope.length>0&&"string"==typeof x.vapidKey&&x.vapidKey.length>0}const pn="firebase-messaging-store";let io=null;function ba(){return io||(io=(0,z.X3)("firebase-messaging-database",1,{upgrade:(D,x)=>{0===x&&D.createObjectStore(pn)}})),io}function xn(D){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,A.Z)(function*(D){const x=ks(D),Y=yield(yield ba()).transaction(pn).objectStore(pn).get(x);if(Y)return Y;{const ge=yield Jc(D.appConfig.senderId);if(ge)return yield Ns(D,ge),ge}})).apply(this,arguments)}function Ns(D,x){return yi.apply(this,arguments)}function yi(){return(yi=(0,A.Z)(function*(D,x){const F=ks(D),ge=(yield ba()).transaction(pn,"readwrite");return yield ge.objectStore(pn).put(x,F),yield ge.done,x})).apply(this,arguments)}function jr(D){return vi.apply(this,arguments)}function vi(){return(vi=(0,A.Z)(function*(D){const x=ks(D),Y=(yield ba()).transaction(pn,"readwrite");yield Y.objectStore(pn).delete(x),yield Y.done})).apply(this,arguments)}function ks({appConfig:D}){return D.appId}const un=new B.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function tu(D,x){return as.apply(this,arguments)}function as(){return(as=(0,A.Z)(function*(D,x){const F=yield ki(D),Y=oo(x),ge={method:"POST",headers:F,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(Pt(D.appConfig),ge)).json()}catch(Ue){throw un.create("token-subscribe-failed",{errorInfo:Ue})}if(Ie.error)throw un.create("token-subscribe-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw un.create("token-subscribe-no-token");return Ie.token})).apply(this,arguments)}function Vu(D,x){return cr.apply(this,arguments)}function cr(){return(cr=(0,A.Z)(function*(D,x){const F=yield ki(D),Y=oo(x.subscriptionOptions),ge={method:"PATCH",headers:F,body:JSON.stringify(Y)};let Ie;try{Ie=yield(yield fetch(`${Pt(D.appConfig)}/${x.token}`,ge)).json()}catch(Ue){throw un.create("token-update-failed",{errorInfo:Ue})}if(Ie.error)throw un.create("token-update-failed",{errorInfo:Ie.error.message});if(!Ie.token)throw un.create("token-update-no-token");return Ie.token})).apply(this,arguments)}function Os(D,x){return us.apply(this,arguments)}function us(){return(us=(0,A.Z)(function*(D,x){const Y={method:"DELETE",headers:yield ki(D)};try{const Ie=yield(yield fetch(`${Pt(D.appConfig)}/${x}`,Y)).json();if(Ie.error)throw un.create("token-unsubscribe-failed",{errorInfo:Ie.error.message})}catch(ge){throw un.create("token-unsubscribe-failed",{errorInfo:ge})}})).apply(this,arguments)}function Pt({projectId:D}){return`https://fcmregistrations.googleapis.com/v1/projects/${D}/registrations`}function ki(D){return so.apply(this,arguments)}function so(){return(so=(0,A.Z)(function*({appConfig:D,installations:x}){const F=yield x.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function oo({p256dh:D,auth:x,endpoint:F,vapidKey:Y}){const ge={web:{endpoint:F,auth:x,p256dh:D}};return Y!==Rs&&(ge.web.applicationPubKey=Y),ge}const ao=6048e5;function nu(D){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,A.Z)(function*(D){const x=yield ir(D.swRegistration,D.vapidKey),F={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:x.endpoint,auth:Hn(x.getKey("auth")),p256dh:Hn(x.getKey("p256dh"))},Y=yield xn(D.firebaseDependencies);if(Y){if(cs(Y.subscriptionOptions,F))return Date.now()>=Y.createTime+ao?He(D,{token:Y.token,createTime:Date.now(),subscriptionOptions:F}):Y.token;try{yield Os(D.firebaseDependencies,Y.token)}catch(ge){console.warn(ge)}return wi(D.firebaseDependencies,F)}return wi(D.firebaseDependencies,F)})).apply(this,arguments)}function No(D){return ko.apply(this,arguments)}function ko(){return(ko=(0,A.Z)(function*(D){const x=yield xn(D.firebaseDependencies);x&&(yield Os(D.firebaseDependencies,x.token),yield jr(D.firebaseDependencies));const F=yield D.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function He(D,x){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,A.Z)(function*(D,x){try{const F=yield Vu(D.firebaseDependencies,x),Y=Object.assign(Object.assign({},x),{token:F,createTime:Date.now()});return yield Ns(D.firebaseDependencies,Y),F}catch(F){throw yield No(D),F}})).apply(this,arguments)}function wi(D,x){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,A.Z)(function*(D,x){const Y={token:yield tu(D,x),createTime:Date.now(),subscriptionOptions:x};return yield Ns(D,Y),Y.token})).apply(this,arguments)}function ir(D,x){return ls.apply(this,arguments)}function ls(){return(ls=(0,A.Z)(function*(D,x){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:va(x)})})).apply(this,arguments)}function cs(D,x){return x.vapidKey===D.vapidKey&&x.endpoint===D.endpoint&&x.auth===D.auth&&x.p256dh===D.p256dh}function $r(D){const x={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Oo(D,x){if(!x.notification)return;D.notification={};const F=x.notification.title;F&&(D.notification.title=F);const Y=x.notification.body;Y&&(D.notification.body=Y);const ge=x.notification.image;ge&&(D.notification.image=ge)}(x,D),function Ea(D,x){!x.data||(D.data=x.data)}(x,D),function Uu(D,x){if(!x.fcmOptions)return;D.fcmOptions={};const F=x.fcmOptions.link;F&&(D.fcmOptions.link=F);const Y=x.fcmOptions.analytics_label;Y&&(D.fcmOptions.analyticsLabel=Y)}(x,D),x}function Ul(D){return"object"==typeof D&&!!D&&ma in D}function Bl(D,x){const F=[];for(let Y=0;Y<D.length;Y++)F.push(D.charAt(Y)),Y<x.length&&F.push(x.charAt(Y));return F.join("")}function dr(D){return un.create("missing-app-config-values",{valueName:D})}Bl("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Bl("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bi{constructor(x,F,Y){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ge=function Vs(D){if(!D||!D.options)throw dr("App Configuration Object");if(!D.name)throw dr("App Name");const x=["projectId","apiKey","appId","messagingSenderId"],{options:F}=D;for(const Y of x)if(!F[Y])throw dr(Y);return{appName:D.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(x);this.firebaseDependencies={app:x,appConfig:ge,installations:F,analyticsProvider:Y}}_delete(){return Promise.resolve()}}function Ca(D){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,A.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ni,{scope:os}),D.swRegistration.update().catch(()=>{})}catch(x){throw un.create("failed-service-worker-registration",{browserErrorMessage:x.message})}})).apply(this,arguments)}function Yi(D,x){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,A.Z)(function*(D,x){if(!x&&!D.swRegistration&&(yield Ca(D)),x||!D.swRegistration){if(!(x instanceof ServiceWorkerRegistration))throw un.create("invalid-sw-registration");D.swRegistration=x}})).apply(this,arguments)}function Lo(D,x){return uo.apply(this,arguments)}function uo(){return(uo=(0,A.Z)(function*(D,x){x?D.vapidKey=x:D.vapidKey||(D.vapidKey=Rs)})).apply(this,arguments)}function Us(){return(Us=(0,A.Z)(function*(D,x){if(!navigator)throw un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw un.create("permission-blocked");return yield Lo(D,x?.vapidKey),yield Yi(D,x?.serviceWorkerRegistration),nu(D)})).apply(this,arguments)}function ru(D,x,F){return lo.apply(this,arguments)}function lo(){return(lo=(0,A.Z)(function*(D,x,F){const Y=Vo(x);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(Y,{message_id:F[ma],message_name:F[ya],message_time:F[Fu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vo(D){switch(D){case mi.NOTIFICATION_CLICKED:return"notification_open";case mi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ds(){return(ds=(0,A.Z)(function*(D,x){const F=x.data;if(!F.isFirebaseMessaging)return;D.onMessageHandler&&F.messageType===mi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler($r(F)):D.onMessageHandler.next($r(F)));const Y=F.data;Ul(Y)&&"1"===Y[no]&&(yield ru(D,F.messageType,Y))})).apply(this,arguments)}const Qi="@firebase/messaging",Ji=D=>{const x=new bi(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function jl(D,x){return ds.apply(this,arguments)}(x,F)),x},ju=D=>{const x=D.getProvider("messaging").getImmediate();return{getToken:Y=>function Bu(D,x){return Us.apply(this,arguments)}(x,Y)}};function Ia(){return co.apply(this,arguments)}function co(){return(co=(0,A.Z)(function*(){try{yield(0,B.eu)()}catch{return!1}return typeof window<"u"&&(0,B.hl)()&&(0,B.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $u(){(0,L._registerComponent)(new H.wA("messaging",Ji,"PUBLIC")),(0,L._registerComponent)(new H.wA("messaging-internal",ju,"PRIVATE")),(0,L.registerVersion)(Qi,"0.9.13"),(0,L.registerVersion)(Qi,"0.9.13","esm2017")}();const su="analytics",ou="firebase_id",Bo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",au="https://www.googletagmanager.com/gtag/js",Qn=new Q.Yd("@firebase/analytics");function uu(D){return Promise.all(D.map(x=>x.catch(F=>F)))}function fs(D,x){const F=document.createElement("script");F.src=`${au}?l=${D}&id=${x}`,F.async=!0,document.head.appendChild(F)}function Gu(D,x,F,Y,ge,Ie){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,A.Z)(function*(D,x,F,Y,ge,Ie){const Ue=Y[ge];try{if(Ue)yield x[Ue];else{const Vt=(yield uu(F)).find(ft=>ft.measurementId===ge);Vt&&(yield x[Vt.appId])}}catch(rt){Qn.error(rt)}D("config",ge,Ie)})).apply(this,arguments)}function Yr(D,x,F,Y,ge){return jo.apply(this,arguments)}function jo(){return(jo=(0,A.Z)(function*(D,x,F,Y,ge){try{let Ie=[];if(ge&&ge.send_to){let Ue=ge.send_to;Array.isArray(Ue)||(Ue=[Ue]);const rt=yield uu(F);for(const Vt of Ue){const ft=rt.find(jt=>jt.measurementId===Vt),rn=ft&&x[ft.appId];if(!rn){Ie=[];break}Ie.push(rn)}}0===Ie.length&&(Ie=Object.values(x)),yield Promise.all(Ie),D("event",Y,ge||{})}catch(Ie){Qn.error(Ie)}})).apply(this,arguments)}function Eh(){const D=window.document.getElementsByTagName("script");for(const x of Object.values(D))if(x.src&&x.src.includes(au))return x;return null}const vr=new B.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),I=new class b{constructor(x={},F=1e3){this.throttleMetadata=x,this.intervalMillis=F}getThrottleMetadata(x){return this.throttleMetadata[x]}setThrottleMetadata(x,F){this.throttleMetadata[x]=F}deleteThrottleMetadata(x){delete this.throttleMetadata[x]}};function T(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function K(D){return xe.apply(this,arguments)}function xe(){return(xe=(0,A.Z)(function*(D){var x;const{appId:F,apiKey:Y}=D,ge={method:"GET",headers:T(Y)},Ie=Bo.replace("{app-id}",F),Ue=yield fetch(Ie,ge);if(200!==Ue.status&&304!==Ue.status){let rt="";try{const Vt=yield Ue.json();null!==(x=Vt.error)&&void 0!==x&&x.message&&(rt=Vt.error.message)}catch{}throw vr.create("config-fetch-failed",{httpStatus:Ue.status,responseMessage:rt})}return Ue.json()})).apply(this,arguments)}function ht(D){return wn.apply(this,arguments)}function wn(){return(wn=(0,A.Z)(function*(D,x=I,F){const{appId:Y,apiKey:ge,measurementId:Ie}=D.options;if(!Y)throw vr.create("no-app-id");if(!ge){if(Ie)return{measurementId:Ie,appId:Y};throw vr.create("no-api-key")}const Ue=x.getThrottleMetadata(Y)||{backoffCount:0,throttleEndTimeMillis:Date.now()},rt=new Fi;return setTimeout((0,A.Z)(function*(){rt.abort()}),void 0!==F?F:6e4),Yt({appId:Y,apiKey:ge,measurementId:Ie},Ue,rt,x)})).apply(this,arguments)}function Yt(D,x,F){return kn.apply(this,arguments)}function kn(){return(kn=(0,A.Z)(function*(D,{throttleEndTimeMillis:x,backoffCount:F},Y,ge=I){const{appId:Ie,measurementId:Ue}=D;try{yield yt(Y,x)}catch(rt){if(Ue)return Qn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${rt.message}]`),{appId:Ie,measurementId:Ue};throw rt}try{const rt=yield K(D);return ge.deleteThrottleMetadata(Ie),rt}catch(rt){if(!Sr(rt)){if(ge.deleteThrottleMetadata(Ie),Ue)return Qn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ue} provided in the "measurementId" field in the local Firebase config. [${rt.message}]`),{appId:Ie,measurementId:Ue};throw rt}const Vt=503===Number(rt.customData.httpStatus)?(0,B.$s)(F,ge.intervalMillis,30):(0,B.$s)(F,ge.intervalMillis),ft={throttleEndTimeMillis:Date.now()+Vt,backoffCount:F+1};return ge.setThrottleMetadata(Ie,ft),Qn.debug(`Calling attemptFetch again in ${Vt} millis`),Yt(D,ft,Y,ge)}})).apply(this,arguments)}function yt(D,x){return new Promise((F,Y)=>{const ge=Math.max(x-Date.now(),0),Ie=setTimeout(F,ge);D.addEventListener(()=>{clearTimeout(Ie),Y(vr.create("fetch-throttle",{throttleEndTimeMillis:x}))})})}function Sr(D){if(!(D instanceof B.ZR&&D.customData))return!1;const x=Number(D.customData.httpStatus);return 429===x||500===x||503===x||504===x}class Fi{constructor(){this.listeners=[]}addEventListener(x){this.listeners.push(x)}abort(){this.listeners.forEach(x=>x())}}function qn(){return Da.apply(this,arguments)}function Da(){return(Da=(0,A.Z)(function*(){if(!(0,B.hl)())return Qn.warn(vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,B.eu)()}catch(D){return Qn.warn(vr.create("indexeddb-unavailable",{errorInfo:D}).message),!1}return!0})).apply(this,arguments)}function js(){return(js=(0,A.Z)(function*(D,x,F,Y,ge,Ie,Ue){var rt;const Vt=ht(D);Vt.then(Ln=>{F[Ln.measurementId]=Ln.appId,D.options.measurementId&&Ln.measurementId!==D.options.measurementId&&Qn.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${Ln.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ln=>Qn.error(Ln)),x.push(Vt);const ft=qn().then(Ln=>{if(Ln)return Y.getId()}),[rn,jt]=yield Promise.all([Vt,ft]);Eh()||fs(Ie,rn.measurementId),ge("js",new Date);const Hr=null!==(rt=Ue?.config)&&void 0!==rt?rt:{};return Hr.origin="firebase",Hr.update=!0,null!=jt&&(Hr[ou]=jt),ge("config",rn.measurementId,Hr),rn.measurementId})).apply(this,arguments)}class Aa{constructor(x){this.app=x}_delete(){return delete Ci[this.app.options.appId],Promise.resolve()}}let Ci={},$o=[];const Ho={};let lu,$s,xt="dataLayer",zu=!1;function Hl(D,x,F){!function Wu(){const D=[];if((0,B.ru)()&&D.push("This is a browser extension environment."),(0,B.zI)()||D.push("Cookies are not available."),D.length>0){const x=D.map((Y,ge)=>`(${ge+1}) ${Y}`).join(" "),F=vr.create("invalid-analytics-context",{errorInfo:x});Qn.warn(F.message)}}();const Y=D.options.appId;if(!Y)throw vr.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw vr.create("no-api-key");Qn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ci[Y])throw vr.create("already-exists",{id:Y});if(!zu){!function fo(D){let x=[];Array.isArray(window[D])?x=window[D]:window[D]=x}(xt);const{wrappedGtag:Ie,gtagCore:Ue}=function ed(D,x,F,Y,ge){let Ie=function(...Ue){window[Y].push(arguments)};return window[ge]&&"function"==typeof window[ge]&&(Ie=window[ge]),window[ge]=function Xc(D,x,F,Y){function Ie(){return(Ie=(0,A.Z)(function*(Ue,rt,Vt){try{"event"===Ue?yield Yr(D,x,F,rt,Vt):"config"===Ue?yield Gu(D,x,F,Y,rt,Vt):D("set",rt)}catch(ft){Qn.error(ft)}})).apply(this,arguments)}return function ge(Ue,rt,Vt){return Ie.apply(this,arguments)}}(Ie,D,x,F),{gtagCore:Ie,wrappedGtag:window[ge]}}(Ci,$o,Ho,xt,"gtag");$s=Ie,lu=Ue,zu=!0}return Ci[Y]=function Ta(D,x,F,Y,ge,Ie,Ue){return js.apply(this,arguments)}(D,$o,Ho,x,lu,xt,F),new Aa(D)}function cu(){return(cu=(0,A.Z)(function*(D,x,F,Y,ge){if(ge&&ge.global)D("event",F,Y);else{const Ie=yield x;D("event",F,Object.assign(Object.assign({},Y),{send_to:Ie}))}})).apply(this,arguments)}function Gl(){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,A.Z)(function*(){if((0,B.ru)()||!(0,B.zI)()||!(0,B.hl)())return!1;try{return yield(0,B.eu)()}catch{return!1}})).apply(this,arguments)}const rd="@firebase/analytics";!function li(){(0,L._registerComponent)(new H.wA(su,(x,{options:F})=>Hl(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,L._registerComponent)(new H.wA("analytics-internal",function D(x){try{const F=x.getProvider(su).getImmediate();return{logEvent:(Y,ge,Ie)=>function Ku(D,x,F,Y){D=(0,B.m9)(D),function td(D,x,F,Y,ge){return cu.apply(this,arguments)}($s,Ci[D.app.options.appId],x,F,Y).catch(ge=>Qn.error(ge))}(F,Y,ge,Ie)}}catch(F){throw vr.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,L.registerVersion)(rd,"0.7.9"),(0,L.registerVersion)(rd,"0.7.9","esm2017")}();var zo=R(4408),Yu=R(7565);const Ih=new class Hs extends Yu.v{}(class wr extends zo.o{constructor(x,F){super(x,F),this.scheduler=x,this.work=F}schedule(x,F=0){return F>0?super.schedule(x,F):(this.delay=F,this.state=x,this.scheduler.flush(this),this)}execute(x,F){return F>0||this.closed?super.execute(x,F):this._execute(x,F)}requestAsyncId(x,F,Y=0){return null!=Y&&Y>0||null==Y&&this.delay>0?super.requestAsyncId(x,F,Y):x.flush(this)}});var Xn=R(4986),xa=R(8306),Jr=R(8505),fr=R(9468),ql=R(5363);const Rr=new c.GfV("7.4.0"),pr="__angularfire_symbol__analyticsIsSupportedValue",Li="__angularfire_symbol__analyticsIsSupported",Vi="__angularfire_symbol__remoteConfigIsSupportedValue",go="__angularfire_symbol__remoteConfigIsSupported",Qu="__angularfire_symbol__messagingIsSupportedValue",zl="__angularfire_symbol__messagingIsSupported";function Xr(D,x,F){if(x){if(1===x.length)return x[0];const Ie=x.filter(Ue=>Ue.app===F);if(1===Ie.length)return Ie[0]}return F.container.getProvider(D).getImmediate({optional:!0})}globalThis[Li]||(globalThis[Li]=Gl().then(D=>globalThis[pr]=D).catch(()=>globalThis[pr]=!1)),globalThis[zl]||(globalThis[zl]=Ia().then(D=>globalThis[Qu]=D).catch(()=>globalThis[Qu]=!1)),globalThis[go]||(globalThis[go]=_h().then(D=>globalThis[Vi]=D).catch(()=>globalThis[Vi]=!1));const Wl=(D,x)=>{const F=x?[x]:(0,P.C6)(),Y=[];return F.forEach(ge=>{ge.container.getProvider(D).instances.forEach(Ue=>{Y.includes(Ue)||Y.push(Ue)})}),Y};function Ii(){}class Ah{constructor(x,F=Ih){this.zone=x,this.delegate=F}now(){return this.delegate.now()}schedule(x,F,Y){const ge=this.zone;return this.delegate.schedule(function(Ue){ge.runGuarded(()=>{x.apply(this,[Ue])})},F,Y)}}class Ju{constructor(x){this.zone=x,this.task=null}call(x,F){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii)),F.pipe((0,Jr.b)({next:Y,complete:Y,error:Y})).subscribe(x).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Zl=(()=>{class D{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new Ah(Zone.current)),this.insideAngular=F.run(()=>new Ah(Zone.current,Xn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(F){return new(F||D)(c.LFG(c.R0b))},D.\u0275prov=c.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function mo(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function Xu(D){return mo().ngZone.runOutsideAngular(()=>D())}function Lt(D){return mo().ngZone.run(()=>D())}function Zo(D){return mo(),function yo(D){return function(F){return(F=F.lift(new Ju(D.ngZone))).pipe((0,fr.R)(D.outsideAngular),(0,ql.Q)(D.insideAngular))}}(mo())(D)}const Ep=(D,x)=>function(){const Y=arguments;return x&&setTimeout(()=>{"scheduled"===x.state&&x.invoke()},10),Lt(()=>D.apply(void 0,Y))},Ma=(D,x)=>function(){let F;const Y=arguments;for(let Ie=0;Ie<arguments.length;Ie++)"function"==typeof Y[Ie]&&(x&&(F||(F=Lt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii)))),Y[Ie]=Ep(Y[Ie],F));const ge=Xu(()=>D.apply(this,Y));if(!x){if(ge instanceof xa.y){const Ie=mo();return ge.pipe((0,fr.R)(Ie.outsideAngular),(0,ql.Q)(Ie.insideAngular))}return Lt(()=>ge)}return ge instanceof xa.y?ge.pipe(Zo):ge instanceof Promise?Lt(()=>new Promise((Ie,Ue)=>ge.then(rt=>Lt(()=>Ie(rt)),rt=>Lt(()=>Ue(rt))))):"function"==typeof ge&&F?function(){return setTimeout(()=>{F&&"scheduled"===F.state&&F.invoke()},10),ge.apply(this,arguments)}:Lt(()=>ge)}},5876:(Ze,q,R)=>{const P=R(532),A=R(7554),L=R(179),B=R(1036);function H(Q,z,le,G,W){const te=[].slice.call(arguments,1),De=te.length,Ee="function"==typeof te[De-1];if(!Ee&&!P())throw new Error("Callback required as last argument");if(!Ee){if(De<1)throw new Error("Too few arguments provided");return 1===De?(le=z,z=G=void 0):2===De&&!z.getContext&&(G=le,le=z,z=void 0),new Promise(function(Te,$e){try{const he=A.create(le,G);Te(Q(he,z,G))}catch(he){$e(he)}})}if(De<2)throw new Error("Too few arguments provided");2===De?(W=le,le=z,z=G=void 0):3===De&&(z.getContext&&typeof W>"u"?(W=G,G=void 0):(W=G,G=le,le=z,z=void 0));try{const Te=A.create(le,G);W(null,Q(Te,z,G))}catch(Te){W(Te)}}q.rT=H.bind(null,L.render),q.hz=H.bind(null,L.renderToDataURL),q.toString=H.bind(null,function(Q,z,le){return B.render(Q,le)})},532:Ze=>{Ze.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},3012:(Ze,q,R)=>{const c=R(4860).getSymbolSize;q.getRowColCoords=function(A){if(1===A)return[];const L=Math.floor(A/7)+2,B=c(A),H=145===B?26:2*Math.ceil((B-13)/(2*L-2)),Q=[B-7];for(let z=1;z<L-1;z++)Q[z]=Q[z-1]-H;return Q.push(6),Q.reverse()},q.getPositions=function(A){const L=[],B=q.getRowColCoords(A),H=B.length;for(let Q=0;Q<H;Q++)for(let z=0;z<H;z++)0===Q&&0===z||0===Q&&z===H-1||Q===H-1&&0===z||L.push([B[Q],B[z]]);return L}},812:(Ze,q,R)=>{const c=R(6906),P=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function A(L){this.mode=c.ALPHANUMERIC,this.data=L}A.getBitsLength=function(B){return 11*Math.floor(B/2)+B%2*6},A.prototype.getLength=function(){return this.data.length},A.prototype.getBitsLength=function(){return A.getBitsLength(this.data.length)},A.prototype.write=function(B){let H;for(H=0;H+2<=this.data.length;H+=2){let Q=45*P.indexOf(this.data[H]);Q+=P.indexOf(this.data[H+1]),B.put(Q,11)}this.data.length%2&&B.put(P.indexOf(this.data[H]),6)},Ze.exports=A},3044:Ze=>{function q(){this.buffer=[],this.length=0}q.prototype={get:function(R){const c=Math.floor(R/8);return 1==(this.buffer[c]>>>7-R%8&1)},put:function(R,c){for(let P=0;P<c;P++)this.putBit(1==(R>>>c-P-1&1))},getLengthInBits:function(){return this.length},putBit:function(R){const c=Math.floor(this.length/8);this.buffer.length<=c&&this.buffer.push(0),R&&(this.buffer[c]|=128>>>this.length%8),this.length++}},Ze.exports=q},1973:Ze=>{function q(R){if(!R||R<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=R,this.data=new Uint8Array(R*R),this.reservedBit=new Uint8Array(R*R)}q.prototype.set=function(R,c,P,A){const L=R*this.size+c;this.data[L]=P,A&&(this.reservedBit[L]=!0)},q.prototype.get=function(R,c){return this.data[R*this.size+c]},q.prototype.xor=function(R,c,P){this.data[R*this.size+c]^=P},q.prototype.isReserved=function(R,c){return this.reservedBit[R*this.size+c]},Ze.exports=q},1824:(Ze,q,R)=>{const c=R(8419),P=R(6906);function A(L){this.mode=P.BYTE,this.data=new Uint8Array(c(L))}A.getBitsLength=function(B){return 8*B},A.prototype.getLength=function(){return this.data.length},A.prototype.getBitsLength=function(){return A.getBitsLength(this.data.length)},A.prototype.write=function(L){for(let B=0,H=this.data.length;B<H;B++)L.put(this.data[B],8)},Ze.exports=A},6194:(Ze,q,R)=>{const c=R(9020),P=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],A=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];q.getBlocksCount=function(B,H){switch(H){case c.L:return P[4*(B-1)+0];case c.M:return P[4*(B-1)+1];case c.Q:return P[4*(B-1)+2];case c.H:return P[4*(B-1)+3];default:return}},q.getTotalCodewordsCount=function(B,H){switch(H){case c.L:return A[4*(B-1)+0];case c.M:return A[4*(B-1)+1];case c.Q:return A[4*(B-1)+2];case c.H:return A[4*(B-1)+3];default:return}}},9020:(Ze,q)=>{q.L={bit:1},q.M={bit:0},q.Q={bit:3},q.H={bit:2},q.isValid=function(P){return P&&typeof P.bit<"u"&&P.bit>=0&&P.bit<4},q.from=function(P,A){if(q.isValid(P))return P;try{return function R(c){if("string"!=typeof c)throw new Error("Param is not a string");switch(c.toLowerCase()){case"l":case"low":return q.L;case"m":case"medium":return q.M;case"q":case"quartile":return q.Q;case"h":case"high":return q.H;default:throw new Error("Unknown EC Level: "+c)}}(P)}catch{return A}}},9172:(Ze,q,R)=>{const c=R(4860).getSymbolSize;q.getPositions=function(L){const B=c(L);return[[0,0],[B-7,0],[0,B-7]]}},611:(Ze,q,R)=>{const c=R(4860),L=c.getBCHDigit(1335);q.getEncodedBits=function(H,Q){const z=H.bit<<3|Q;let le=z<<10;for(;c.getBCHDigit(le)-L>=0;)le^=1335<<c.getBCHDigit(le)-L;return 21522^(z<<10|le)}},7794:(Ze,q)=>{const R=new Uint8Array(512),c=new Uint8Array(256);(function(){let A=1;for(let L=0;L<255;L++)R[L]=A,c[A]=L,A<<=1,256&A&&(A^=285);for(let L=255;L<512;L++)R[L]=R[L-255]})(),q.log=function(A){if(A<1)throw new Error("log("+A+")");return c[A]},q.exp=function(A){return R[A]},q.mul=function(A,L){return 0===A||0===L?0:R[c[A]+c[L]]}},8043:(Ze,q,R)=>{const c=R(6906),P=R(4860);function A(L){this.mode=c.KANJI,this.data=L}A.getBitsLength=function(B){return 13*B},A.prototype.getLength=function(){return this.data.length},A.prototype.getBitsLength=function(){return A.getBitsLength(this.data.length)},A.prototype.write=function(L){let B;for(B=0;B<this.data.length;B++){let H=P.toSJIS(this.data[B]);if(H>=33088&&H<=40956)H-=33088;else{if(!(H>=57408&&H<=60351))throw new Error("Invalid SJIS character: "+this.data[B]+"\nMake sure your charset is UTF-8");H-=49472}H=192*(H>>>8&255)+(255&H),L.put(H,13)}},Ze.exports=A},7135:(Ze,q)=>{q.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function c(P,A,L){switch(P){case q.Patterns.PATTERN000:return(A+L)%2==0;case q.Patterns.PATTERN001:return A%2==0;case q.Patterns.PATTERN010:return L%3==0;case q.Patterns.PATTERN011:return(A+L)%3==0;case q.Patterns.PATTERN100:return(Math.floor(A/2)+Math.floor(L/3))%2==0;case q.Patterns.PATTERN101:return A*L%2+A*L%3==0;case q.Patterns.PATTERN110:return(A*L%2+A*L%3)%2==0;case q.Patterns.PATTERN111:return(A*L%3+(A+L)%2)%2==0;default:throw new Error("bad maskPattern:"+P)}}q.isValid=function(A){return null!=A&&""!==A&&!isNaN(A)&&A>=0&&A<=7},q.from=function(A){return q.isValid(A)?parseInt(A,10):void 0},q.getPenaltyN1=function(A){const L=A.size;let B=0,H=0,Q=0,z=null,le=null;for(let G=0;G<L;G++){H=Q=0,z=le=null;for(let W=0;W<L;W++){let te=A.get(G,W);te===z?H++:(H>=5&&(B+=H-5+3),z=te,H=1),te=A.get(W,G),te===le?Q++:(Q>=5&&(B+=Q-5+3),le=te,Q=1)}H>=5&&(B+=H-5+3),Q>=5&&(B+=Q-5+3)}return B},q.getPenaltyN2=function(A){const L=A.size;let B=0;for(let H=0;H<L-1;H++)for(let Q=0;Q<L-1;Q++){const z=A.get(H,Q)+A.get(H,Q+1)+A.get(H+1,Q)+A.get(H+1,Q+1);(4===z||0===z)&&B++}return 3*B},q.getPenaltyN3=function(A){const L=A.size;let B=0,H=0,Q=0;for(let z=0;z<L;z++){H=Q=0;for(let le=0;le<L;le++)H=H<<1&2047|A.get(z,le),le>=10&&(1488===H||93===H)&&B++,Q=Q<<1&2047|A.get(le,z),le>=10&&(1488===Q||93===Q)&&B++}return 40*B},q.getPenaltyN4=function(A){let L=0;const B=A.data.length;for(let Q=0;Q<B;Q++)L+=A.data[Q];return 10*Math.abs(Math.ceil(100*L/B/5)-10)},q.applyMask=function(A,L){const B=L.size;for(let H=0;H<B;H++)for(let Q=0;Q<B;Q++)L.isReserved(Q,H)||L.xor(Q,H,c(A,Q,H))},q.getBestMask=function(A,L){const B=Object.keys(q.Patterns).length;let H=0,Q=1/0;for(let z=0;z<B;z++){L(z),q.applyMask(z,A);const le=q.getPenaltyN1(A)+q.getPenaltyN2(A)+q.getPenaltyN3(A)+q.getPenaltyN4(A);q.applyMask(z,A),le<Q&&(Q=le,H=z)}return H}},6906:(Ze,q,R)=>{const c=R(2316),P=R(4677);q.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},q.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},q.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},q.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},q.MIXED={bit:-1},q.getCharCountIndicator=function(B,H){if(!B.ccBits)throw new Error("Invalid mode: "+B);if(!c.isValid(H))throw new Error("Invalid version: "+H);return H>=1&&H<10?B.ccBits[0]:H<27?B.ccBits[1]:B.ccBits[2]},q.getBestModeForData=function(B){return P.testNumeric(B)?q.NUMERIC:P.testAlphanumeric(B)?q.ALPHANUMERIC:P.testKanji(B)?q.KANJI:q.BYTE},q.toString=function(B){if(B&&B.id)return B.id;throw new Error("Invalid mode")},q.isValid=function(B){return B&&B.bit&&B.ccBits},q.from=function(B,H){if(q.isValid(B))return B;try{return function A(L){if("string"!=typeof L)throw new Error("Param is not a string");switch(L.toLowerCase()){case"numeric":return q.NUMERIC;case"alphanumeric":return q.ALPHANUMERIC;case"kanji":return q.KANJI;case"byte":return q.BYTE;default:throw new Error("Unknown mode: "+L)}}(B)}catch{return H}}},6002:(Ze,q,R)=>{const c=R(6906);function P(A){this.mode=c.NUMERIC,this.data=A.toString()}P.getBitsLength=function(L){return 10*Math.floor(L/3)+(L%3?L%3*3+1:0)},P.prototype.getLength=function(){return this.data.length},P.prototype.getBitsLength=function(){return P.getBitsLength(this.data.length)},P.prototype.write=function(L){let B,H,Q;for(B=0;B+3<=this.data.length;B+=3)H=this.data.substr(B,3),Q=parseInt(H,10),L.put(Q,10);const z=this.data.length-B;z>0&&(H=this.data.substr(B),Q=parseInt(H,10),L.put(Q,3*z+1))},Ze.exports=P},7793:(Ze,q,R)=>{const c=R(7794);q.mul=function(A,L){const B=new Uint8Array(A.length+L.length-1);for(let H=0;H<A.length;H++)for(let Q=0;Q<L.length;Q++)B[H+Q]^=c.mul(A[H],L[Q]);return B},q.mod=function(A,L){let B=new Uint8Array(A);for(;B.length-L.length>=0;){const H=B[0];for(let z=0;z<L.length;z++)B[z]^=c.mul(L[z],H);let Q=0;for(;Q<B.length&&0===B[Q];)Q++;B=B.slice(Q)}return B},q.generateECPolynomial=function(A){let L=new Uint8Array([1]);for(let B=0;B<A;B++)L=q.mul(L,new Uint8Array([1,c.exp(B)]));return L}},7554:(Ze,q,R)=>{const c=R(4860),P=R(9020),A=R(3044),L=R(1973),B=R(3012),H=R(9172),Q=R(7135),z=R(6194),le=R(8098),G=R(6602),W=R(611),te=R(6906),De=R(9465);function pe(fe,Le,ie){const U=fe.size,me=W.getEncodedBits(Le,ie);let J,ne;for(J=0;J<15;J++)ne=1==(me>>J&1),fe.set(J<6?J:J<8?J+1:U-15+J,8,ne,!0),fe.set(8,J<8?U-J-1:J<9?15-J-1+1:15-J-1,ne,!0);fe.set(U-8,8,1,!0)}function Fe(fe,Le,ie,U){let me;if(Array.isArray(fe))me=De.fromArray(fe);else{if("string"!=typeof fe)throw new Error("Invalid data");{let _e=Le;if(!_e){const ze=De.rawSplit(fe);_e=G.getBestVersionForData(ze,ie)}me=De.fromString(fe,_e||40)}}const J=G.getBestVersionForData(me,ie);if(!J)throw new Error("The amount of data is too big to be stored in a QR Code");if(Le){if(Le<J)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+J+".\n")}else Le=J;const ne=function Ne(fe,Le,ie){const U=new A;ie.forEach(function(ce){U.put(ce.mode.bit,4),U.put(ce.getLength(),te.getCharCountIndicator(ce.mode,fe)),ce.write(U)});const ne=8*(c.getSymbolTotalCodewords(fe)-z.getTotalCodewordsCount(fe,Le));for(U.getLengthInBits()+4<=ne&&U.put(0,4);U.getLengthInBits()%8!=0;)U.putBit(0);const ae=(ne-U.getLengthInBits())/8;for(let ce=0;ce<ae;ce++)U.put(ce%2?17:236,8);return function Pe(fe,Le,ie){const U=c.getSymbolTotalCodewords(Le),J=U-z.getTotalCodewordsCount(Le,ie),ne=z.getBlocksCount(Le,ie),ce=ne-U%ne,_e=Math.floor(U/ne),ze=Math.floor(J/ne),gt=ze+1,Kt=_e-ze,$t=new le(Kt);let Qe=0;const Ft=new Array(ne),on=new Array(ne);let an=0;const Ht=new Uint8Array(fe.buffer);for(let Rn=0;Rn<ne;Rn++){const _n=Rn<ce?ze:gt;Ft[Rn]=Ht.slice(Qe,Qe+_n),on[Rn]=$t.encode(Ft[Rn]),Qe+=_n,an=Math.max(an,_n)}const Mt=new Uint8Array(U);let en,Pn,Gt=0;for(en=0;en<an;en++)for(Pn=0;Pn<ne;Pn++)en<Ft[Pn].length&&(Mt[Gt++]=Ft[Pn][en]);for(en=0;en<Kt;en++)for(Pn=0;Pn<ne;Pn++)Mt[Gt++]=on[Pn][en];return Mt}(U,fe,Le)}(Le,ie,me),ae=c.getSymbolSize(Le),ce=new L(ae);return function Ee(fe,Le){const ie=fe.size,U=H.getPositions(Le);for(let me=0;me<U.length;me++){const J=U[me][0],ne=U[me][1];for(let ae=-1;ae<=7;ae++)if(!(J+ae<=-1||ie<=J+ae))for(let ce=-1;ce<=7;ce++)ne+ce<=-1||ie<=ne+ce||fe.set(J+ae,ne+ce,ae>=0&&ae<=6&&(0===ce||6===ce)||ce>=0&&ce<=6&&(0===ae||6===ae)||ae>=2&&ae<=4&&ce>=2&&ce<=4,!0)}}(ce,Le),function Te(fe){const Le=fe.size;for(let ie=8;ie<Le-8;ie++){const U=ie%2==0;fe.set(ie,6,U,!0),fe.set(6,ie,U,!0)}}(ce),function $e(fe,Le){const ie=B.getPositions(Le);for(let U=0;U<ie.length;U++){const me=ie[U][0],J=ie[U][1];for(let ne=-2;ne<=2;ne++)for(let ae=-2;ae<=2;ae++)fe.set(me+ne,J+ae,-2===ne||2===ne||-2===ae||2===ae||0===ne&&0===ae,!0)}}(ce,Le),pe(ce,ie,0),Le>=7&&function he(fe,Le){const ie=fe.size,U=G.getEncodedBits(Le);let me,J,ne;for(let ae=0;ae<18;ae++)me=Math.floor(ae/3),J=ae%3+ie-8-3,ne=1==(U>>ae&1),fe.set(me,J,ne,!0),fe.set(J,me,ne,!0)}(ce,Le),function ke(fe,Le){const ie=fe.size;let U=-1,me=ie-1,J=7,ne=0;for(let ae=ie-1;ae>0;ae-=2)for(6===ae&&ae--;;){for(let ce=0;ce<2;ce++)if(!fe.isReserved(me,ae-ce)){let _e=!1;ne<Le.length&&(_e=1==(Le[ne]>>>J&1)),fe.set(me,ae-ce,_e),J--,-1===J&&(ne++,J=7)}if(me+=U,me<0||ie<=me){me-=U,U=-U;break}}}(ce,ne),isNaN(U)&&(U=Q.getBestMask(ce,pe.bind(null,ce,ie))),Q.applyMask(U,ce),pe(ce,ie,U),{modules:ce,version:Le,errorCorrectionLevel:ie,maskPattern:U,segments:me}}q.create=function(Le,ie){if(typeof Le>"u"||""===Le)throw new Error("No input text");let me,J,U=P.M;return typeof ie<"u"&&(U=P.from(ie.errorCorrectionLevel,P.M),me=G.from(ie.version),J=Q.from(ie.maskPattern),ie.toSJISFunc&&c.setToSJISFunction(ie.toSJISFunc)),Fe(Le,me,U,J)}},8098:(Ze,q,R)=>{const c=R(7793);function P(A){this.genPoly=void 0,this.degree=A,this.degree&&this.initialize(this.degree)}P.prototype.initialize=function(L){this.degree=L,this.genPoly=c.generateECPolynomial(this.degree)},P.prototype.encode=function(L){if(!this.genPoly)throw new Error("Encoder not initialized");const B=new Uint8Array(L.length+this.degree);B.set(L);const H=c.mod(B,this.genPoly),Q=this.degree-H.length;if(Q>0){const z=new Uint8Array(this.degree);return z.set(H,Q),z}return H},Ze.exports=P},4677:(Ze,q)=>{const R="[0-9]+";let P="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";P=P.replace(/u/g,"\\u");const A="(?:(?![A-Z0-9 $%*+\\-./:]|"+P+")(?:.|[\r\n]))+";q.KANJI=new RegExp(P,"g"),q.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),q.BYTE=new RegExp(A,"g"),q.NUMERIC=new RegExp(R,"g"),q.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const L=new RegExp("^"+P+"$"),B=new RegExp("^"+R+"$"),H=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");q.testKanji=function(z){return L.test(z)},q.testNumeric=function(z){return B.test(z)},q.testAlphanumeric=function(z){return H.test(z)}},9465:(Ze,q,R)=>{const c=R(6906),P=R(6002),A=R(812),L=R(1824),B=R(8043),H=R(4677),Q=R(4860),z=R(4901);function le(he){return unescape(encodeURIComponent(he)).length}function G(he,pe,ke){const Ne=[];let Pe;for(;null!==(Pe=he.exec(ke));)Ne.push({data:Pe[0],index:Pe.index,mode:pe,length:Pe[0].length});return Ne}function W(he){const pe=G(H.NUMERIC,c.NUMERIC,he),ke=G(H.ALPHANUMERIC,c.ALPHANUMERIC,he);let Ne,Pe;return Q.isKanjiModeEnabled()?(Ne=G(H.BYTE,c.BYTE,he),Pe=G(H.KANJI,c.KANJI,he)):(Ne=G(H.BYTE_KANJI,c.BYTE,he),Pe=[]),pe.concat(ke,Ne,Pe).sort(function(fe,Le){return fe.index-Le.index}).map(function(fe){return{data:fe.data,mode:fe.mode,length:fe.length}})}function te(he,pe){switch(pe){case c.NUMERIC:return P.getBitsLength(he);case c.ALPHANUMERIC:return A.getBitsLength(he);case c.KANJI:return B.getBitsLength(he);case c.BYTE:return L.getBitsLength(he)}}function $e(he,pe){let ke;const Ne=c.getBestModeForData(he);if(ke=c.from(pe,Ne),ke!==c.BYTE&&ke.bit<Ne.bit)throw new Error('"'+he+'" cannot be encoded with mode '+c.toString(ke)+".\n Suggested mode is: "+c.toString(Ne));switch(ke===c.KANJI&&!Q.isKanjiModeEnabled()&&(ke=c.BYTE),ke){case c.NUMERIC:return new P(he);case c.ALPHANUMERIC:return new A(he);case c.KANJI:return new B(he);case c.BYTE:return new L(he)}}q.fromArray=function(pe){return pe.reduce(function(ke,Ne){return"string"==typeof Ne?ke.push($e(Ne,null)):Ne.data&&ke.push($e(Ne.data,Ne.mode)),ke},[])},q.fromString=function(pe,ke){const Pe=function Ee(he){const pe=[];for(let ke=0;ke<he.length;ke++){const Ne=he[ke];switch(Ne.mode){case c.NUMERIC:pe.push([Ne,{data:Ne.data,mode:c.ALPHANUMERIC,length:Ne.length},{data:Ne.data,mode:c.BYTE,length:Ne.length}]);break;case c.ALPHANUMERIC:pe.push([Ne,{data:Ne.data,mode:c.BYTE,length:Ne.length}]);break;case c.KANJI:pe.push([Ne,{data:Ne.data,mode:c.BYTE,length:le(Ne.data)}]);break;case c.BYTE:pe.push([{data:Ne.data,mode:c.BYTE,length:le(Ne.data)}])}}return pe}(W(pe,Q.isKanjiModeEnabled())),Fe=function Te(he,pe){const ke={},Ne={start:{}};let Pe=["start"];for(let Fe=0;Fe<he.length;Fe++){const fe=he[Fe],Le=[];for(let ie=0;ie<fe.length;ie++){const U=fe[ie],me=""+Fe+ie;Le.push(me),ke[me]={node:U,lastCount:0},Ne[me]={};for(let J=0;J<Pe.length;J++){const ne=Pe[J];ke[ne]&&ke[ne].node.mode===U.mode?(Ne[ne][me]=te(ke[ne].lastCount+U.length,U.mode)-te(ke[ne].lastCount,U.mode),ke[ne].lastCount+=U.length):(ke[ne]&&(ke[ne].lastCount=U.length),Ne[ne][me]=te(U.length,U.mode)+4+c.getCharCountIndicator(U.mode,pe))}}Pe=Le}for(let Fe=0;Fe<Pe.length;Fe++)Ne[Pe[Fe]].end=0;return{map:Ne,table:ke}}(Pe,ke),fe=z.find_path(Fe.map,"start","end"),Le=[];for(let ie=1;ie<fe.length-1;ie++)Le.push(Fe.table[fe[ie]].node);return q.fromArray(function De(he){return he.reduce(function(pe,ke){const Ne=pe.length-1>=0?pe[pe.length-1]:null;return Ne&&Ne.mode===ke.mode?(pe[pe.length-1].data+=ke.data,pe):(pe.push(ke),pe)},[])}(Le))},q.rawSplit=function(pe){return q.fromArray(W(pe,Q.isKanjiModeEnabled()))}},4860:(Ze,q)=>{let R;const c=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];q.getSymbolSize=function(A){if(!A)throw new Error('"version" cannot be null or undefined');if(A<1||A>40)throw new Error('"version" should be in range from 1 to 40');return 4*A+17},q.getSymbolTotalCodewords=function(A){return c[A]},q.getBCHDigit=function(P){let A=0;for(;0!==P;)A++,P>>>=1;return A},q.setToSJISFunction=function(A){if("function"!=typeof A)throw new Error('"toSJISFunc" is not a valid function.');R=A},q.isKanjiModeEnabled=function(){return typeof R<"u"},q.toSJIS=function(A){return R(A)}},2316:(Ze,q)=>{q.isValid=function(c){return!isNaN(c)&&c>=1&&c<=40}},6602:(Ze,q,R)=>{const c=R(4860),P=R(6194),A=R(9020),L=R(6906),B=R(2316),Q=c.getBCHDigit(7973);function le(te,De){return L.getCharCountIndicator(te,De)+4}function G(te,De){let Ee=0;return te.forEach(function(Te){Ee+=le(Te.mode,De)+Te.getBitsLength()}),Ee}q.from=function(De,Ee){return B.isValid(De)?parseInt(De,10):Ee},q.getCapacity=function(De,Ee,Te){if(!B.isValid(De))throw new Error("Invalid QR Code version");typeof Te>"u"&&(Te=L.BYTE);const pe=8*(c.getSymbolTotalCodewords(De)-P.getTotalCodewordsCount(De,Ee));if(Te===L.MIXED)return pe;const ke=pe-le(Te,De);switch(Te){case L.NUMERIC:return Math.floor(ke/10*3);case L.ALPHANUMERIC:return Math.floor(ke/11*2);case L.KANJI:return Math.floor(ke/13);default:return Math.floor(ke/8)}},q.getBestVersionForData=function(De,Ee){let Te;const $e=A.from(Ee,A.M);if(Array.isArray(De)){if(De.length>1)return function W(te,De){for(let Ee=1;Ee<=40;Ee++)if(G(te,Ee)<=q.getCapacity(Ee,De,L.MIXED))return Ee}(De,$e);if(0===De.length)return 1;Te=De[0]}else Te=De;return function z(te,De,Ee){for(let Te=1;Te<=40;Te++)if(De<=q.getCapacity(Te,Ee,te))return Te}(Te.mode,Te.getLength(),$e)},q.getEncodedBits=function(De){if(!B.isValid(De)||De<7)throw new Error("Invalid QR Code version");let Ee=De<<12;for(;c.getBCHDigit(Ee)-Q>=0;)Ee^=7973<<c.getBCHDigit(Ee)-Q;return De<<12|Ee}},179:(Ze,q,R)=>{const c=R(714);q.render=function(B,H,Q){let z=Q,le=H;typeof z>"u"&&(!H||!H.getContext)&&(z=H,H=void 0),H||(le=function A(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),z=c.getOptions(z);const G=c.getImageWidth(B.modules.size,z),W=le.getContext("2d"),te=W.createImageData(G,G);return c.qrToImageData(te.data,B,z),function P(L,B,H){L.clearRect(0,0,B.width,B.height),B.style||(B.style={}),B.height=H,B.width=H,B.style.height=H+"px",B.style.width=H+"px"}(W,le,G),W.putImageData(te,0,0),le},q.renderToDataURL=function(B,H,Q){let z=Q;return typeof z>"u"&&(!H||!H.getContext)&&(z=H,H=void 0),z||(z={}),q.render(B,H,z).toDataURL(z.type||"image/png",(z.rendererOpts||{}).quality)}},1036:(Ze,q,R)=>{const c=R(714);function P(B,H){const Q=B.a/255,z=H+'="'+B.hex+'"';return Q<1?z+" "+H+'-opacity="'+Q.toFixed(2).slice(1)+'"':z}function A(B,H,Q){let z=B+H;return typeof Q<"u"&&(z+=" "+Q),z}q.render=function(H,Q,z){const le=c.getOptions(Q),G=H.modules.size,W=H.modules.data,te=G+2*le.margin,De=le.color.light.a?"<path "+P(le.color.light,"fill")+' d="M0 0h'+te+"v"+te+'H0z"/>':"",Ee="<path "+P(le.color.dark,"stroke")+' d="'+function L(B,H,Q){let z="",le=0,G=!1,W=0;for(let te=0;te<B.length;te++){const De=Math.floor(te%H),Ee=Math.floor(te/H);!De&&!G&&(G=!0),B[te]?(W++,te>0&&De>0&&B[te-1]||(z+=G?A("M",De+Q,.5+Ee+Q):A("m",le,0),le=0,G=!1),De+1<H&&B[te+1]||(z+=A("h",W),W=0)):le++}return z}(W,G,le.margin)+'"/>',he='<svg xmlns="http://www.w3.org/2000/svg" '+(le.width?'width="'+le.width+'" height="'+le.width+'" ':"")+'viewBox="0 0 '+te+" "+te+'" shape-rendering="crispEdges">'+De+Ee+"</svg>\n";return"function"==typeof z&&z(null,he),he}},714:(Ze,q)=>{function R(c){if("number"==typeof c&&(c=c.toString()),"string"!=typeof c)throw new Error("Color should be defined as hex string");let P=c.slice().replace("#","").split("");if(P.length<3||5===P.length||P.length>8)throw new Error("Invalid hex color: "+c);(3===P.length||4===P.length)&&(P=Array.prototype.concat.apply([],P.map(function(L){return[L,L]}))),6===P.length&&P.push("F","F");const A=parseInt(P.join(""),16);return{r:A>>24&255,g:A>>16&255,b:A>>8&255,a:255&A,hex:"#"+P.slice(0,6).join("")}}q.getOptions=function(P){P||(P={}),P.color||(P.color={});const L=P.width&&P.width>=21?P.width:void 0;return{width:L,scale:L?4:P.scale||4,margin:typeof P.margin>"u"||null===P.margin||P.margin<0?4:P.margin,color:{dark:R(P.color.dark||"#000000ff"),light:R(P.color.light||"#ffffffff")},type:P.type,rendererOpts:P.rendererOpts||{}}},q.getScale=function(P,A){return A.width&&A.width>=P+2*A.margin?A.width/(P+2*A.margin):A.scale},q.getImageWidth=function(P,A){const L=q.getScale(P,A);return Math.floor((P+2*A.margin)*L)},q.qrToImageData=function(P,A,L){const B=A.modules.size,H=A.modules.data,Q=q.getScale(B,L),z=Math.floor((B+2*L.margin)*Q),le=L.margin*Q,G=[L.color.light,L.color.dark];for(let W=0;W<z;W++)for(let te=0;te<z;te++){let De=4*(W*z+te),Ee=L.color.light;W>=le&&te>=le&&W<z-le&&te<z-le&&(Ee=G[H[Math.floor((W-le)/Q)*B+Math.floor((te-le)/Q)]?1:0]),P[De++]=Ee.r,P[De++]=Ee.g,P[De++]=Ee.b,P[De]=Ee.a}}},2587:(Ze,q,R)=>{"use strict";R.d(q,{$:()=>Pt,A:()=>W,B:()=>Ee,G:()=>Mo,H:()=>Nn,J:()=>Ki,L:()=>yn,M:()=>gi,N:()=>Ou,P:()=>pr,Q:()=>ma,R:()=>li,T:()=>ya,U:()=>Rs,V:()=>mi,W:()=>Hn,X:()=>Jc,Y:()=>_i,Z:()=>tu,_:()=>Vu,a:()=>ps,a0:()=>nu,a1:()=>No,a2:()=>He,a3:()=>wi,a4:()=>ir,a5:()=>cs,a6:()=>Oo,a7:()=>Ea,a8:()=>Ul,a9:()=>Bl,aA:()=>Pr,aB:()=>Ln,aC:()=>Ma,aD:()=>Ep,aE:()=>Kn,aI:()=>T,aL:()=>no,aa:()=>Ca,ab:()=>Yi,ac:()=>Lo,af:()=>ru,ag:()=>Vo,ah:()=>jl,ak:()=>pn,al:()=>hr,an:()=>au,ao:()=>Ei,ap:()=>fn,aq:()=>me,ar:()=>Tt,as:()=>bt,at:()=>Ne,au:()=>tc,av:()=>Ko,aw:()=>Pe,ax:()=>ie,ay:()=>ne,az:()=>Rt,b:()=>vr,c:()=>Th,d:()=>Ah,e:()=>Wl,f:()=>F,g:()=>Vt,h:()=>Ie,i:()=>Hl,j:()=>jt,k:()=>Gs,l:()=>Ih,m:()=>Ap,n:()=>Jm,o:()=>z,r:()=>Xn,s:()=>Yu,u:()=>ql});var c=R(5861),P=R(2090),A=R(9681),L=R(655),B=R(1877),H=R(4859);const z={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ee=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Te=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$e=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),pe=new B.Yd("@firebase/auth");function ke(v,...p){pe.logLevel<=B.in.ERROR&&pe.error(`Auth (${A.SDK_VERSION}): ${v}`,...p)}function Ne(v,...p){throw Le(v,...p)}function Pe(v,...p){return Le(v,...p)}function Fe(v,p,m){const E=Object.assign(Object.assign({},Te()),{[p]:m});return new P.LL("auth","Firebase",E).create(p,{appName:v.name})}function fe(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ne(v,"argument-error"),Fe(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Le(v,...p){if("string"!=typeof v){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return $e.create(v,...p)}function ie(v,p,...m){if(!v)throw Le(p,...m)}function U(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ke(p),new Error(p)}function me(v,p){v||U(p)}const J=new Map;function ne(v){me(v instanceof Function,"Expected a class definition");let p=J.get(v);return p?(me(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,J.set(v,p),p)}function _e(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function ze(){return"http:"===gt()||"https:"===gt()}function gt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Qe{constructor(p,m){this.shortDelay=p,this.longDelay=m,me(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ze()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ft(v,p){me(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class on{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void U("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void U("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void U("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const an={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ht=new Qe(3e4,6e4);function Mt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Gt(v,p,m,E){return en.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(v,p,m,E,N={}){return Pn(v,N,(0,c.Z)(function*(){let j={},we={};E&&("GET"===p?we=E:j={body:JSON.stringify(E)});const je=(0,P.xO)(Object.assign({key:v.config.apiKey},we)).slice(1),ct=yield v._getAdditionalHeaders();return ct["Content-Type"]="application/json",v.languageCode&&(ct["X-Firebase-Locale"]=v.languageCode),on.fetch()(Lr(v,v.config.apiHost,m,je),Object.assign({method:p,headers:ct,referrerPolicy:"no-referrer"},j))}))})).apply(this,arguments)}function Pn(v,p,m){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,c.Z)(function*(v,p,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},an),p);try{const N=new Vr(v),j=yield Promise.race([m(),N.promise]);N.clearNetworkTimeout();const we=yield j.json();if("needConfirmation"in we)throw jn(v,"account-exists-with-different-credential",we);if(j.ok&&!("errorMessage"in we))return we;{const je=j.ok?we.errorMessage:we.error.message,[ct,Dt]=je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ct)throw jn(v,"credential-already-in-use",we);if("EMAIL_EXISTS"===ct)throw jn(v,"email-already-in-use",we);if("USER_DISABLED"===ct)throw jn(v,"user-disabled",we);const Xt=E[ct]||ct.toLowerCase().replace(/[_\s]+/g,"-");if(Dt)throw Fe(v,Xt,Dt);Ne(v,Xt)}}catch(N){if(N instanceof P.ZR)throw N;Ne(v,"network-request-failed")}})).apply(this,arguments)}function _n(v,p,m,E){return oi.apply(this,arguments)}function oi(){return(oi=(0,c.Z)(function*(v,p,m,E,N={}){const j=yield Gt(v,p,m,E,N);return"mfaPendingCredential"in j&&Ne(v,"multi-factor-auth-required",{_serverResponse:j}),j})).apply(this,arguments)}function Lr(v,p,m,E){const N=`${p}${m}?${E}`;return v.config.emulator?Ft(v.config,N):`${v.config.apiScheme}://${N}`}class Vr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Pe(this.auth,"network-request-failed")),Ht.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(v,p,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const N=Pe(v,p,E);return N.customData._tokenResponse=m,N}function at(){return(at=(0,c.Z)(function*(v,p){return Gt(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function Fn(v,p){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(v,p){return Gt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function kt(v,p){return sr.apply(this,arguments)}function sr(){return(sr=(0,c.Z)(function*(v,p){return Gt(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function nr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function En(){return(En=(0,c.Z)(function*(v,p=!1){const m=(0,P.m9)(v),E=yield m.getIdToken(p),N=Bt(E);ie(N&&N.exp&&N.auth_time&&N.iat,m.auth,"internal-error");const j="object"==typeof N.firebase?N.firebase:void 0,we=j?.sign_in_provider;return{claims:N,token:E,authTime:nr(Ar(N.auth_time)),issuedAtTime:nr(Ar(N.iat)),expirationTime:nr(Ar(N.exp)),signInProvider:we||null,signInSecondFactor:j?.sign_in_second_factor||null}})).apply(this,arguments)}function Ar(v){return 1e3*Number(v)}function Bt(v){const[p,m,E]=v.split(".");if(void 0===p||void 0===m||void 0===E)return ke("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,P.tV)(m);return N?JSON.parse(N):(ke("Failed to decode base64 JWT payload"),null)}catch(N){return ke("Caught error parsing JWT payload as JSON",N),null}}function tt(v,p){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof P.ZR&&Vn(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Vn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class mt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const N=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Ur{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=nr(this.lastLoginAt),this.creationTime=nr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function An(v){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,c.Z)(function*(v){var p;const m=v.auth,E=yield v.getIdToken(),N=yield tt(v,kt(m,{idToken:E}));ie(N?.users.length,m,"internal-error");const j=N.users[0];v._notifyReloadListener(j);const we=null!==(p=j.providerUserInfo)&&void 0!==p&&p.length?Oe(j.providerUserInfo):[],je=ue(v.providerData,we),Xt=!!v.isAnonymous&&!(v.email&&j.passwordHash||je?.length),Mn={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:je,metadata:new Ur(j.createdAt,j.lastLoginAt),isAnonymous:Xt};Object.assign(v,Mn)})).apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(v){const p=(0,P.m9)(v);yield An(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ue(v,p){return[...v.filter(E=>!p.some(N=>N.providerId===E.providerId)),...p]}function Oe(v){return v.map(p=>{var{providerId:m}=p,E=(0,L._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ve(){return(ve=(0,c.Z)(function*(v,p){const m=yield Pn(v,{},(0,c.Z)(function*(){const E=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:j}=v.config,we=Lr(v,N,"/v1/token",`key=${j}`),je=yield v._getAdditionalHeaders();return je["Content-Type"]="application/x-www-form-urlencoded",on.fetch()(we,{method:"POST",headers:je,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ge{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){ie(p.idToken,"internal-error"),ie(typeof p.idToken<"u","internal-error"),ie(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Ye(v){const p=Bt(v);return ie(p,"internal-error"),ie(typeof p.exp<"u","internal-error"),ie(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,c.Z)(function*(){return ie(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,c.Z)(function*(){const{accessToken:N,refreshToken:j,expiresIn:we}=yield function Z(v,p){return ve.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(N,j,Number(we))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:N,expirationTime:j}=m,we=new Ge;return E&&(ie("string"==typeof E,"internal-error",{appName:p}),we.refreshToken=E),N&&(ie("string"==typeof N,"internal-error",{appName:p}),we.accessToken=N),j&&(ie("number"==typeof j,"internal-error",{appName:p}),we.expirationTime=j),we}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ge,this.toJSON())}_performRefresh(){return U("not implemented")}}function ot(v,p){ie("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Et{constructor(p){var{uid:m,auth:E,stsTokenManager:N}=p,j=(0,L._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=j.displayName||null,this.email=j.email||null,this.emailVerified=j.emailVerified||!1,this.phoneNumber=j.phoneNumber||null,this.photoURL=j.photoURL||null,this.isAnonymous=j.isAnonymous||!1,this.tenantId=j.tenantId||null,this.providerData=j.providerData?[...j.providerData]:[],this.metadata=new Ur(j.createdAt||void 0,j.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const E=yield tt(m,m.stsTokenManager.getToken(m.auth,p));return ie(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function wt(v){return En.apply(this,arguments)}(this,p)}reload(){return function se(v){return re.apply(this,arguments)}(this)}_assign(p){this!==p&&(ie(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Et(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,c.Z)(function*(){let N=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),N=!0),m&&(yield An(E)),yield E.auth._persistUserIfCurrent(E),N&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield tt(p,function Dr(v,p){return at.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,N,j,we,je,ct,Dt,Xt;const Mn=null!==(E=m.displayName)&&void 0!==E?E:void 0,Ui=null!==(N=m.email)&&void 0!==N?N:void 0,ei=null!==(j=m.phoneNumber)&&void 0!==j?j:void 0,Eo=null!==(we=m.photoURL)&&void 0!==we?we:void 0,xh=null!==(je=m.tenantId)&&void 0!==je?je:void 0,ic=null!==(ct=m._redirectEventId)&&void 0!==ct?ct:void 0,ld=null!==(Dt=m.createdAt)&&void 0!==Dt?Dt:void 0,Xm=null!==(Xt=m.lastLoginAt)&&void 0!==Xt?Xt:void 0,{uid:rl,emailVerified:Mh,isAnonymous:cd,providerData:sc,stsTokenManager:oc}=m;ie(rl&&oc,p,"internal-error");const ey=Ge.fromJSON(this.name,oc);ie("string"==typeof rl,p,"internal-error"),ot(Mn,p.name),ot(Ui,p.name),ie("boolean"==typeof Mh,p,"internal-error"),ie("boolean"==typeof cd,p,"internal-error"),ot(ei,p.name),ot(Eo,p.name),ot(xh,p.name),ot(ic,p.name),ot(ld,p.name),ot(Xm,p.name);const ty=new Et({uid:rl,auth:p,email:Ui,emailVerified:Mh,displayName:Mn,isAnonymous:cd,photoURL:Eo,phoneNumber:ei,tenantId:xh,stsTokenManager:ey,createdAt:ld,lastLoginAt:Xm});return sc&&Array.isArray(sc)&&(ty.providerData=sc.map(ny=>Object.assign({},ny))),ic&&(ty._redirectEventId=ic),ty}static _fromIdTokenResponse(p,m,E=!1){return(0,c.Z)(function*(){const N=new Ge;N.updateFromServerResponse(m);const j=new Et({uid:m.localId,auth:p,stsTokenManager:N,isAnonymous:E});return yield An(j),j})()}}const yn=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,E){var N=this;return(0,c.Z)(function*(){N.storage[m]=E})()}_get(m){var E=this;return(0,c.Z)(function*(){const N=E.storage[m];return void 0===N?null:N})()}_remove(m){var E=this;return(0,c.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function Rt(v,p,m){return`firebase:${v}:${p}:${m}`}class Zn{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:N,name:j}=this.auth;this.fullUserKey=Rt(this.userKey,N.apiKey,j),this.fullPersistenceKey=Rt("persistence",N.apiKey,j),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Et._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,c.Z)(function*(){if(!m.length)return new Zn(ne(yn),p,E);const N=(yield Promise.all(m.map(function(){var Dt=(0,c.Z)(function*(Xt){if(yield Xt._isAvailable())return Xt});return function(Xt){return Dt.apply(this,arguments)}}()))).filter(Dt=>Dt);let j=N[0]||ne(yn);const we=Rt(E,p.config.apiKey,p.name);let je=null;for(const Dt of m)try{const Xt=yield Dt._get(we);if(Xt){const Mn=Et._fromJSON(p,Xt);Dt!==j&&(je=Mn),j=Dt;break}}catch{}const ct=N.filter(Dt=>Dt._shouldAllowMigration);return j._shouldAllowMigration&&ct.length?(j=ct[0],je&&(yield j._set(we,je.toJSON())),yield Promise.all(m.map(function(){var Dt=(0,c.Z)(function*(Xt){if(Xt!==j)try{yield Xt._remove(we)}catch{}});return function(Xt){return Dt.apply(this,arguments)}}())),new Zn(j,p,E)):new Zn(j,p,E)})()}}function Ce(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Je(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(X(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Be(p))return"Blackberry";if(ut(p))return"Webos";if(ee(p))return"Safari";if((p.includes("chrome/")||Re(p))&&!p.includes("edge/"))return"Chrome";if(bt(p))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function X(v=(0,P.z$)()){return/firefox\//i.test(v)}function ee(v=(0,P.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Re(v=(0,P.z$)()){return/crios\//i.test(v)}function Je(v=(0,P.z$)()){return/iemobile/i.test(v)}function bt(v=(0,P.z$)()){return/android/i.test(v)}function Be(v=(0,P.z$)()){return/blackberry/i.test(v)}function ut(v=(0,P.z$)()){return/webos/i.test(v)}function Tt(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)}function fn(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function rr(v=(0,P.z$)()){return Tt(v)||bt(v)||ut(v)||Be(v)||/windows phone/i.test(v)||Je(v)}function Js(v,p=[]){let m;switch(v){case"Browser":m=Ce((0,P.z$)());break;case"Worker":m=`${Ce((0,P.z$)())}-${v}`;break;default:m=v}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${A.SDK_VERSION}/${E}`}class xi{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=j=>new Promise((we,je)=>{try{we(p(j))}catch(ct){je(ct)}});E.onAbort=m,this.queue.push(E);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===p)return;const E=[];try{for(const N of m.queue)yield N(p),N.onAbort&&E.push(N.onAbort)}catch(N){E.reverse();for(const j of E)try{j()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:N.message})}})()}}class et{constructor(p,m,E){this.app=p,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ds(this),this.idTokenSubscription=new Ds(this),this.beforeStateQueue=new xi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=ne(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var N,j;if(!E._deleted&&(E.persistenceManager=yield Zn.create(E,p),!E._deleted)){if(null!==(N=E._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(j=E.currentUser)||void 0===j?void 0:j.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var E;const N=yield m.assertedPersistence.getCurrentUser();let j=N,we=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const je=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,ct=j?._redirectEventId,Dt=yield m.tryRedirectSignIn(p);(!je||je===ct)&&Dt?.user&&(j=Dt.user,we=!0)}if(!j)return m.directlySetCurrentUser(null);if(!j._redirectEventId){if(we)try{yield m.beforeStateQueue.runMiddleware(j)}catch(je){j=N,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(je))}return j?m.reloadAndSetCurrentUserOrClear(j):m.directlySetCurrentUser(null)}return ie(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===j._redirectEventId?m.directlySetCurrentUser(j):m.reloadAndSetCurrentUserOrClear(j)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield An(p)}catch(E){if("auth/network-request-failed"!==E.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function $t(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const E=p?(0,P.m9)(p):null;return E&&ie(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,c.Z)(function*(){if(!E._deleted)return p&&ie(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,c.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(ne(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,c.Z)(function*(){const N=yield E.getOrInitRedirectPersistenceManager(m);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&ne(p)||m._popupRedirectResolver;ie(E,m,"argument-error"),m.redirectPersistenceManager=yield Zn.create(m,[ne(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var E,N;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(N=m.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,N){if(this._deleted)return()=>{};const j="function"==typeof m?m:m.next.bind(m),we=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(we,this,"internal-error"),we.then(()=>j(this.currentUser)),"function"==typeof m?p.addObserver(m,E,N):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Js(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const N=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return N&&(E["X-Firebase-Client"]=N),E})()}}function Kn(v){return(0,P.m9)(v)}class Ds{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Mo(v,p,m){const E=Kn(v);ie(E._canInitEmulator,E,"emulator-config-failed"),ie(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const N=!!m?.disableWarnings,j=rs(p),{host:we,port:je}=function ar(v){const p=rs(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(E);if(N){const j=N[1];return{host:j,port:Ts(E.substr(j.length+1))}}{const[j,we]=E.split(":");return{host:j,port:Ts(we)}}}(p);E.config.emulator={url:`${j}//${we}${null===je?"":`:${je}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:we,port:je,protocol:j.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function Mi(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function rs(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Ts(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class Nn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return U("not implemented")}_getIdTokenResponse(p){return U("not implemented")}_linkToIdToken(p,m){return U("not implemented")}_getReauthenticationResolver(p){return U("not implemented")}}function Wi(v,p){return $n.apply(this,arguments)}function $n(){return($n=(0,c.Z)(function*(v,p){return Gt(v,"POST","/v1/accounts:resetPassword",Mt(v,p))})).apply(this,arguments)}function qt(v,p){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,c.Z)(function*(v,p){return Gt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function kl(v,p){return As.apply(this,arguments)}function As(){return(As=(0,c.Z)(function*(v,p){return Gt(v,"POST","/v1/accounts:update",Mt(v,p))})).apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(v,p){return _n(v,"POST","/v1/accounts:signInWithPassword",Mt(v,p))})).apply(this,arguments)}function Ss(v,p){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,c.Z)(function*(v,p){return Gt(v,"POST","/v1/accounts:sendOobCode",Mt(v,p))})).apply(this,arguments)}function ur(v,p){return is.apply(this,arguments)}function is(){return(is=(0,c.Z)(function*(v,p){return Ss(v,p)})).apply(this,arguments)}function Br(v,p){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(v,p){return Ss(v,p)})).apply(this,arguments)}function fa(v,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(v,p){return Ss(v,p)})).apply(this,arguments)}function Qa(v,p){return ui.apply(this,arguments)}function ui(){return(ui=(0,c.Z)(function*(v,p){return Ss(v,p)})).apply(this,arguments)}function Pu(){return(Pu=(0,c.Z)(function*(v,p){return _n(v,"POST","/v1/accounts:signInWithEmailLink",Mt(v,p))})).apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(v,p){return _n(v,"POST","/v1/accounts:signInWithEmailLink",Mt(v,p))})).apply(this,arguments)}class Zi extends Nn{constructor(p,m,E,N=null){super("password",E),this._email=p,this._password=m,this._tenantId=N}static _fromEmailAndPassword(p,m){return new Zi(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new Zi(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){switch(m.signInMethod){case"password":return function ha(v,p){return Ri.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ja(v,p){return Pu.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ne(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,c.Z)(function*(){switch(E.signInMethod){case"password":return qt(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ol(v,p){return pa.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:Ne(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ms(v,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(v,p){return _n(v,"POST","/v1/accounts:signInWithIdp",Mt(v,p))})).apply(this,arguments)}class Ki extends Nn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Ki(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ne("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:N}=m,j=(0,L._T)(m,["providerId","signInMethod"]);if(!E||!N)return null;const we=new Ki(E,N);return we.idToken=j.idToken||void 0,we.accessToken=j.accessToken||void 0,we.secret=j.secret,we.nonce=j.nonce,we.pendingToken=j.pendingToken||null,we}_getIdTokenResponse(p){return Ms(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Ms(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ms(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,P.xO)(m)}return p}}function Yc(v,p){return Nu.apply(this,arguments)}function Nu(){return(Nu=(0,c.Z)(function*(v,p){return Gt(v,"POST","/v1/accounts:sendVerificationCode",Mt(v,p))})).apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(v,p){return _n(v,"POST","/v1/accounts:signInWithPhoneNumber",Mt(v,p))})).apply(this,arguments)}function ku(){return(ku=(0,c.Z)(function*(v,p){const m=yield _n(v,"POST","/v1/accounts:signInWithPhoneNumber",Mt(v,p));if(m.temporaryProof)throw jn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ll={USER_NOT_FOUND:"user-not-found"};function ga(){return(ga=(0,c.Z)(function*(v,p){return _n(v,"POST","/v1/accounts:signInWithPhoneNumber",Mt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ll)})).apply(this,arguments)}class ss extends Nn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new ss({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new ss({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Qc(v,p){return Ro.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Xs(v,p){return ku.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function eo(v,p){return ga.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:N}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:N,temporaryProof:j}=p;return E||m||N||j?new ss({verificationId:m,verificationCode:E,phoneNumber:N,temporaryProof:j}):null}}class to{constructor(p){var m,E,N,j,we,je;const ct=(0,P.zd)((0,P.pd)(p)),Dt=null!==(m=ct.apiKey)&&void 0!==m?m:null,Xt=null!==(E=ct.oobCode)&&void 0!==E?E:null,Mn=function Xa(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=ct.mode)&&void 0!==N?N:null);ie(Dt&&Xt&&Mn,"argument-error"),this.apiKey=Dt,this.operation=Mn,this.code=Xt,this.continueUrl=null!==(j=ct.continueUrl)&&void 0!==j?j:null,this.languageCode=null!==(we=ct.languageCode)&&void 0!==we?we:null,this.tenantId=null!==(je=ct.tenantId)&&void 0!==je?je:null}static parseLink(p){const m=function vh(v){const p=(0,P.zd)((0,P.pd)(v)).link,m=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,E=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(E?(0,P.zd)((0,P.pd)(E)).link:null)||E||m||p||v}(p);try{return new to(m)}catch{return null}}}let gi=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return Zi._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const N=to.parseLink(E);return ie(N,"argument-error"),Zi._fromEmailAndCode(m,N.code,N.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ni{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class os extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Rs extends os{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return ie("providerId"in m&&"signInMethod"in m,"argument-error"),Ki._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return ie(p.idToken||p.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Rs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Rs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:N,pendingToken:j,nonce:we,providerId:je}=p;if(!E&&!N&&!m&&!j||!je)return null;try{return new Rs(je)._credential({idToken:m,accessToken:E,nonce:we,pendingToken:j})}catch{return null}}}let Ou=(()=>{class v extends os{constructor(){super("facebook.com")}static credential(m){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ma=(()=>{class v extends os{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:N}=m;if(!E&&!N)return null;try{return v.credential(E,N)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ya=(()=>{class v extends os{constructor(){super("github.com")}static credential(m){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class no extends Nn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Ms(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Ms(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ms(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:N,pendingToken:j}=m;return E&&N&&j&&E===N?new no(E,j):null}static _create(p,m){return new no(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mi extends Ni{constructor(p){ie(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return mi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return mi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=no.fromJSON(p);return ie(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return no._create(E,m)}catch{return null}}}let Hn=(()=>{class v extends os{constructor(){super("twitter.com")}static credential(m,E){return Ki._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:N}=m;if(!E||!N)return null;try{return v.credential(E,N)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function va(v,p){return Po.apply(this,arguments)}function Po(){return(Po=(0,c.Z)(function*(v,p){return _n(v,"POST","/v1/accounts:signUp",Mt(v,p))})).apply(this,arguments)}class Gn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,N=!1){return(0,c.Z)(function*(){const j=yield Et._fromIdTokenResponse(p,E,N),we=_a(E);return new Gn({user:j,providerId:we,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const N=_a(E);return new Gn({user:p,providerId:N,_tokenResponse:E,operationType:m})})()}}function _a(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Jc(v){return ro.apply(this,arguments)}function ro(){return(ro=(0,c.Z)(function*(v){var p;const m=Kn(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Gn({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield va(m,{returnSecureToken:!0}),N=yield Gn._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class eu extends P.ZR{constructor(p,m,E,N){var j;super(m.code,m.message),this.operationType=E,this.user=N,Object.setPrototypeOf(this,eu.prototype),this.customData={appName:p.name,tenantId:null!==(j=p.tenantId)&&void 0!==j?j:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,N){return new eu(p,m,E,N)}}function wa(v,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(j=>{throw"auth/multi-factor-auth-required"===j.code?eu._fromErrorAndOperation(v,j,p,E):j})}function Vl(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function pn(v,p){return io.apply(this,arguments)}function io(){return(io=(0,c.Z)(function*(v,p){const m=(0,P.m9)(v);yield Ps(!0,m,p);const{providerUserInfo:E}=yield Fn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),N=Vl(E||[]);return m.providerData=m.providerData.filter(j=>N.has(j.providerId)),N.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ba(v,p){return xn.apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(v,p,m=!1){const E=yield tt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Gn._forOperation(v,"link",E)})).apply(this,arguments)}function Ps(v,p,m){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,c.Z)(function*(v,p,m){yield An(p);const N=!1===v?"provider-already-linked":"no-such-provider";ie(Vl(p.providerData).has(m)===v,p.auth,N)})).apply(this,arguments)}function yi(v,p){return jr.apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(v,p,m=!1){const{auth:E}=v,N="reauthenticate";try{const j=yield tt(v,wa(E,N,p,v),m);ie(j.idToken,E,"internal-error");const we=Bt(j.idToken);ie(we,E,"internal-error");const{sub:je}=we;return ie(v.uid===je,E,"user-mismatch"),Gn._forOperation(v,N,j)}catch(j){throw"auth/user-not-found"===j?.code&&Ne(E,"user-mismatch"),j}})).apply(this,arguments)}function vi(v,p){return ks.apply(this,arguments)}function ks(){return(ks=(0,c.Z)(function*(v,p,m=!1){const E="signIn",N=yield wa(v,E,p),j=yield Gn._fromIdTokenResponse(v,E,N);return m||(yield v._updateCurrentUser(j.user)),j})).apply(this,arguments)}function _i(v,p){return un.apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(v,p){return vi(Kn(v),p)})).apply(this,arguments)}function tu(v,p){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(v,p){const m=(0,P.m9)(v);return yield Ps(!1,m,p.providerId),ba(m,p)})).apply(this,arguments)}function Vu(v,p){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(v,p){return yi((0,P.m9)(v),p)})).apply(this,arguments)}function Os(v,p){return us.apply(this,arguments)}function us(){return(us=(0,c.Z)(function*(v,p){return _n(v,"POST","/v1/accounts:signInWithCustomToken",Mt(v,p))})).apply(this,arguments)}function Pt(v,p){return ki.apply(this,arguments)}function ki(){return(ki=(0,c.Z)(function*(v,p){const m=Kn(v),E=yield Os(m,{token:p,returnSecureToken:!0}),N=yield Gn._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(N.user),N})).apply(this,arguments)}class so{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?oo._fromServerResponse(p,m):Ne(p,"internal-error")}}class oo extends so{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new oo(m)}}function ao(v,p,m){var E;ie((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),ie(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(ie(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(ie(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function nu(v,p,m){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(v,p,m){const E=(0,P.m9)(v),N={requestType:"PASSWORD_RESET",email:p};m&&ao(E,N,m),yield Br(E,N)})).apply(this,arguments)}function No(v,p,m){return ko.apply(this,arguments)}function ko(){return(ko=(0,c.Z)(function*(v,p,m){yield Wi((0,P.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function He(v,p){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,c.Z)(function*(v,p){yield kl((0,P.m9)(v),{oobCode:p})})).apply(this,arguments)}function wi(v,p){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(v,p){const m=(0,P.m9)(v),E=yield Wi(m,{oobCode:p}),N=E.requestType;switch(ie(N,m,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(E.mfaInfo,m,"internal-error");default:ie(E.email,m,"internal-error")}let j=null;return E.mfaInfo&&(j=so._fromServerResponse(Kn(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:j},operation:N}})).apply(this,arguments)}function ir(v,p){return ls.apply(this,arguments)}function ls(){return(ls=(0,c.Z)(function*(v,p){const{data:m}=yield wi((0,P.m9)(v),p);return m.email})).apply(this,arguments)}function cs(v,p,m){return $r.apply(this,arguments)}function $r(){return($r=(0,c.Z)(function*(v,p,m){const E=Kn(v),N=yield va(E,{returnSecureToken:!0,email:p,password:m}),j=yield Gn._fromIdTokenResponse(E,"signIn",N);return yield E._updateCurrentUser(j.user),j})).apply(this,arguments)}function Oo(v,p,m){return _i((0,P.m9)(v),gi.credential(p,m))}function Ea(v,p,m){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,c.Z)(function*(v,p,m){const E=(0,P.m9)(v),N={requestType:"EMAIL_SIGNIN",email:p};ie(m.handleCodeInApp,E,"argument-error"),m&&ao(E,N,m),yield fa(E,N)})).apply(this,arguments)}function Ul(v,p){return"EMAIL_SIGNIN"===to.parseLink(p)?.operation}function Bl(v,p,m){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(v,p,m){const E=(0,P.m9)(v),N=gi.credentialWithLink(p,m||_e());return ie(N._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),_i(E,N)})).apply(this,arguments)}function dr(v,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,c.Z)(function*(v,p){return Gt(v,"POST","/v1/accounts:createAuthUri",Mt(v,p))})).apply(this,arguments)}function Ca(v,p){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(v,p){const E={identifier:p,continueUri:ze()?_e():"http://localhost"},{signinMethods:N}=yield dr((0,P.m9)(v),E);return N||[]})).apply(this,arguments)}function Yi(v,p){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,c.Z)(function*(v,p){const m=(0,P.m9)(v),N={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&ao(m.auth,N,p);const{email:j}=yield ur(m.auth,N);j!==v.email&&(yield v.reload())})).apply(this,arguments)}function Lo(v,p,m){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(v,p,m){const E=(0,P.m9)(v),j={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&ao(E.auth,j,m);const{email:we}=yield Qa(E.auth,j);we!==v.email&&(yield v.reload())})).apply(this,arguments)}function Bu(v,p){return Us.apply(this,arguments)}function Us(){return(Us=(0,c.Z)(function*(v,p){return Gt(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ru(v,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,P.m9)(v),j={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},we=yield tt(E,Bu(E.auth,j));E.displayName=we.displayName||null,E.photoURL=we.photoUrl||null;const je=E.providerData.find(({providerId:ct})=>"password"===ct);je&&(je.displayName=E.displayName,je.photoURL=E.photoURL),yield E._updateTokensIfNecessary(we)})).apply(this,arguments)}function Vo(v,p){return ds((0,P.m9)(v),p,null)}function jl(v,p){return ds((0,P.m9)(v),null,p)}function ds(v,p,m){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,c.Z)(function*(v,p,m){const{auth:E}=v,j={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(j.email=p),m&&(j.password=m);const we=yield tt(v,qt(E,j));yield v._updateTokensIfNecessary(we,!0)})).apply(this,arguments)}class Ji{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class ju extends Ji{constructor(p,m,E,N){super(p,m,E),this.username=N}}class $u extends Ji{constructor(p,m){super(p,"facebook.com",m)}}class Ia extends ju{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class co extends Ji{constructor(p,m){super(p,"google.com",m)}}class Hu extends ju{constructor(p,m,E){super(p,"twitter.com",m,E)}}function hr(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Uo(v){var p,m;if(!v)return null;const{providerId:E}=v,N=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},j=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const we=null===(m=null===(p=Bt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(we)return new Ji(j,"anonymous"!==we&&"custom"!==we?we:null)}if(!E)return null;switch(E){case"facebook.com":return new $u(j,N);case"github.com":return new Ia(j,N);case"google.com":return new co(j,N);case"twitter.com":return new Hu(j,N,v.screenName||null);case"custom":case"anonymous":return new Ji(j,null);default:return new Ji(j,E,N)}}(m)}class Xi{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Xi("enroll",p)}static _fromMfaPendingCredential(p){return new Xi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Xi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return Xi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Bo{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=Kn(p),N=m.customData._serverResponse,j=(N.mfaInfo||[]).map(je=>so._fromServerResponse(E,je));ie(N.mfaPendingCredential,E,"internal-error");const we=Xi._fromMfaPendingCredential(N.mfaPendingCredential);return new Bo(we,j,function(){var je=(0,c.Z)(function*(ct){const Dt=yield ct._process(E,we);delete N.mfaInfo,delete N.mfaPendingCredential;const Xt=Object.assign(Object.assign({},N),{idToken:Dt.idToken,refreshToken:Dt.refreshToken});switch(m.operationType){case"signIn":const Mn=yield Gn._fromIdTokenResponse(E,m.operationType,Xt);return yield E._updateCurrentUser(Mn.user),Mn;case"reauthenticate":return ie(m.user,E,"internal-error"),Gn._forOperation(m.user,m.operationType,Xt);default:Ne(E,"internal-error")}});return function(ct){return je.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function au(v,p){var m;const E=(0,P.m9)(v),N=p;return ie(p.customData.operationType,E,"argument-error"),ie(null===(m=N.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Bo._fromError(E,N)}function Qn(v,p){return Gt(v,"POST","/v2/accounts/mfaEnrollment:start",Mt(v,p))}class fo{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>so._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new fo(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Xi._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var E=this;return(0,c.Z)(function*(){const N=p,j=yield E.getSession(),we=yield tt(E.user,N._process(E.user.auth,j,m));return yield E.user._updateTokensIfNecessary(we),E.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const E="string"==typeof p?p:p.uid,N=yield m.user.getIdToken(),j=yield tt(m.user,function fs(v,p){return Gt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(v,p))}(m.user.auth,{idToken:N,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:we})=>we!==E),yield m.user._updateTokensIfNecessary(j);try{yield m.user.reload()}catch(we){if("auth/user-token-expired"!==we.code)throw we}})()}}const Gu=new WeakMap;function Ei(v){const p=(0,P.m9)(v);return Gu.has(p)||Gu.set(p,fo._fromUser(p)),Gu.get(p)}const Yr="__sak";class jo{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Yr,"1"),this.storage.removeItem(Yr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const vr=(()=>{class v extends jo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xc(){const v=(0,P.z$)();return ee(v)||Tt(v)}()&&function Sn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=rr(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const N=this.storage.getItem(E),j=this.localCache[E];N!==j&&m(E,j,N)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((je,ct,Dt)=>{this.notifyListeners(je,Dt)});const N=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const je=this.storage.getItem(N);if(m.newValue!==je)null!==m.newValue?this.storage.setItem(N,m.newValue):this.storage.removeItem(N);else if(this.localCache[N]===m.newValue&&!E)return}const j=()=>{const je=this.storage.getItem(N);!E&&this.localCache[N]===je||this.notifyListeners(N,je)},we=this.storage.getItem(N);!function Ct(){return(0,P.w1)()&&10===document.documentMode}()||we===m.newValue||m.newValue===m.oldValue?j():setTimeout(j,10)}notifyListeners(m,E){this.localCache[m]=E;const N=this.listeners[m];if(N)for(const j of Array.from(N))j(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var N=()=>super._set,j=this;return(0,c.Z)(function*(){yield N().call(j,m,E),j.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,N=this;return(0,c.Z)(function*(){const j=yield E().call(N,m);return N.localCache[m]=JSON.stringify(j),j})()}_remove(m){var E=()=>super._remove,N=this;return(0,c.Z)(function*(){yield E().call(N,m),delete N.localCache[m]})()}}return v.type="LOCAL",v})(),ps=(()=>{class v extends jo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let I=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(j=>j.isListeningto(m));if(E)return E;const N=new v(m);return this.receivers.push(N),N}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,c.Z)(function*(){const N=m,{eventId:j,eventType:we,data:je}=N.data,ct=E.handlersMap[we];if(!ct?.size)return;N.ports[0].postMessage({status:"ack",eventId:j,eventType:we});const Dt=Array.from(ct).map(function(){var Mn=(0,c.Z)(function*(Ui){return Ui(N.origin,je)});return function(Ui){return Mn.apply(this,arguments)}}()),Xt=yield function b(v){return Promise.all(v.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(Dt);N.ports[0].postMessage({status:"done",eventId:j,eventType:we,response:Xt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function T(v="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return v+m}class K{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var N=this;return(0,c.Z)(function*(){const j=typeof MessageChannel<"u"?new MessageChannel:null;if(!j)throw new Error("connection_unavailable");let we,je;return new Promise((ct,Dt)=>{const Xt=T("",20);j.port1.start();const Mn=setTimeout(()=>{Dt(new Error("unsupported_event"))},E);je={messageChannel:j,onMessage(Ui){const ei=Ui;if(ei.data.eventId===Xt)switch(ei.data.status){case"ack":clearTimeout(Mn),we=setTimeout(()=>{Dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(we),ct(ei.data.response);break;default:clearTimeout(Mn),clearTimeout(we),Dt(new Error("invalid_response"))}}},N.handlers.add(je),j.port1.addEventListener("message",je.onMessage),N.target.postMessage({eventType:p,eventId:Xt,data:m},[j.port2])}).finally(()=>{je&&N.removeMessageHandler(je)})})()}}function xe(){return window}function wn(){return typeof xe().WorkerGlobalScope<"u"&&"function"==typeof xe().importScripts}function kn(){return(kn=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Fi="firebaseLocalStorageDb",Da="firebaseLocalStorage",Ta="fbase_key";class js{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Aa(v,p){return v.transaction([Da],p?"readwrite":"readonly").objectStore(Da)}function $o(){const v=indexedDB.open(Fi,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Da,{keyPath:Ta})}catch(N){m(N)}}),v.addEventListener("success",(0,c.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Da)?p(E):(E.close(),yield function Ci(){const v=indexedDB.deleteDatabase(Fi);return new js(v).toPromise()}(),p(yield $o()))}))})}function Ho(v,p,m){return xt.apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(v,p,m){const E=Aa(v,!0).put({[Ta]:p,value:m});return new js(E).toPromise()})).apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(v,p){const m=Aa(v,!1).get(p),E=yield new js(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function $s(v,p){const m=Aa(v,!0).delete(p);return new js(m).toPromise()}const Hl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield $o()),m.db})()}_withRetries(m){var E=this;return(0,c.Z)(function*(){let N=0;for(;;)try{const j=yield E._openDb();return yield m(j)}catch(j){if(N++>3)throw j;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return wn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=I._getInstance(function Sr(){return wn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,c.Z)(function*(N,j){return{keyProcessed:(yield m._poll()).includes(j.key)}});return function(N,j){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,c.Z)(function*(N,j){return["keyChanged"]});return function(N,j){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var E,N;if(m.activeServiceWorker=yield function Yt(){return kn.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new K(m.activeServiceWorker);const j=yield m.sender._send("ping",{},800);!j||(null===(E=j[0])||void 0===E?void 0:E.fulfilled)&&(null===(N=j[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,c.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function yt(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield $o();return yield Ho(m,Yr,"1"),yield $s(m,Yr),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,c.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var N=this;return(0,c.Z)(function*(){return N._withPendingWrite((0,c.Z)(function*(){return yield N._withRetries(j=>Ho(j,m,E)),N.localCache[m]=E,N.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,c.Z)(function*(){const N=yield E._withRetries(j=>function $l(v,p){return lu.apply(this,arguments)}(j,m));return E.localCache[m]=N,N})()}_remove(m){var E=this;return(0,c.Z)(function*(){return E._withPendingWrite((0,c.Z)(function*(){return yield E._withRetries(N=>$s(N,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const E=yield m._withRetries(we=>{const je=Aa(we,!1).getAll();return new js(je).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const N=[],j=new Set;for(const{fbase_key:we,value:je}of E)j.add(we),JSON.stringify(m.localCache[we])!==JSON.stringify(je)&&(m.notifyListeners(we,je),N.push(we));for(const we of Object.keys(m.localCache))m.localCache[we]&&!j.has(we)&&(m.notifyListeners(we,null),N.push(we));return N})()}notifyListeners(m,E){this.localCache[m]=E;const N=this.listeners[m];if(N)for(const j of Array.from(N))j(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function td(v,p){return Gt(v,"POST","/v2/accounts/mfaSignIn:start",Mt(v,p))}function gs(){return(gs=(0,c.Z)(function*(v){return(yield Gt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ms(v){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=p,E.onerror=N=>{const j=Pe("internal-error");j.customData=N,m(j)},E.type="text/javascript",E.charset="UTF-8",function nd(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(E)})}function Sa(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Qr=1e12;class po{constructor(p){this.auth=p,this.counter=Qr,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new es(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||Qr;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||Qr))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var E;return null===(E=m._widgets.get(p||Qr))||void 0===E||E.execute(),""})()}}class es{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;ie(N,"argument-error",{appName:m}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Gl(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Jn=Sa("rcb"),qo=new Qe(3e4,6e4);class _r{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xe().grecaptcha}load(p,m=""){return ie(function tn(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(xe().grecaptcha):new Promise((E,N)=>{const j=xe().setTimeout(()=>{N(Pe(p,"network-request-failed"))},qo.get());xe()[Jn]=()=>{xe().clearTimeout(j),delete xe()[Jn];const je=xe().grecaptcha;if(!je)return void N(Pe(p,"internal-error"));const ct=je.render;je.render=(Dt,Xt)=>{const Mn=ct(Dt,Xt);return this.counter++,Mn},this.hostLanguage=m,E(je)},ms(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:Jn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(j),N(Pe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!xe().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ku{load(p){return(0,c.Z)(function*(){return new po(p)})()}clearedOneInstance(){}}const rd="recaptcha",du={theme:"light",type:"image"};class li{constructor(p,m=Object.assign({},du),E){this.parameters=m,this.type=rd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(E),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof p?document.getElementById(p):p;ie(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ku:new _r,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(j=>{const we=je=>{!je||(p.tokenChangeListeners.delete(we),j(je))};p.tokenChangeListeners.add(we),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=xe()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){ie(ze()&&!wn(),p.auth,"internal-error"),yield function zo(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Mr(v){return gs.apply(this,arguments)}(p.auth);ie(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class wr{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=ss._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Yu(v,p,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,c.Z)(function*(v,p,m){const E=Kn(v),N=yield Jr(E,p,(0,P.m9)(m));return new wr(N,j=>_i(E,j))})).apply(this,arguments)}function Ih(v,p,m){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,c.Z)(function*(v,p,m){const E=(0,P.m9)(v);yield Ps(!1,E,"phone");const N=yield Jr(E.auth,p,(0,P.m9)(m));return new wr(N,j=>tu(E,j))})).apply(this,arguments)}function Xn(v,p,m){return xa.apply(this,arguments)}function xa(){return(xa=(0,c.Z)(function*(v,p,m){const E=(0,P.m9)(v),N=yield Jr(E.auth,p,(0,P.m9)(m));return new wr(N,j=>Vu(E,j))})).apply(this,arguments)}function Jr(v,p,m){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(v,p,m){var E;const N=yield m.verify();try{let j;if(ie("string"==typeof N,v,"argument-error"),ie(m.type===rd,v,"argument-error"),j="string"==typeof p?{phoneNumber:p}:p,"session"in j){const we=j.session;if("phoneNumber"in j)return ie("enroll"===we.type,v,"internal-error"),(yield Qn(v,{idToken:we.credential,phoneEnrollmentInfo:{phoneNumber:j.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{ie("signin"===we.type,v,"internal-error");const je=(null===(E=j.multiFactorHint)||void 0===E?void 0:E.uid)||j.multiFactorUid;return ie(je,v,"missing-multi-factor-info"),(yield td(v,{mfaPendingCredential:we.credential,mfaEnrollmentId:je,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:we}=yield Yc(v,{phoneNumber:j.phoneNumber,recaptchaToken:N});return we}}finally{m._reset()}})).apply(this,arguments)}function ql(v,p){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,c.Z)(function*(v,p){yield ba((0,P.m9)(v),p)})).apply(this,arguments)}let pr=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Kn(m)}verifyPhoneNumber(m,E){return Jr(this.auth,m,(0,P.m9)(E))}static credential(m,E){return ss._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:N}=m;return E&&N?ss._fromTokenResponse(E,N):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Li(v,p){return p?ne(p):(ie(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Vi extends Nn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ms(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Ms(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Ms(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function go(v){return vi(v.auth,new Vi(v),v.bypassAuthState)}function Qu(v){const{auth:p,user:m}=v;return ie(m,p,"internal-error"),yi(m,new Vi(v),v.bypassAuthState)}function zl(v){return hu.apply(this,arguments)}function hu(){return(hu=(0,c.Z)(function*(v){const{auth:p,user:m}=v;return ie(m,p,"internal-error"),ba(m,new Vi(v),v.bypassAuthState)})).apply(this,arguments)}class wp{constructor(p,m,E,N,j=!1){this.auth=p,this.resolver=E,this.user=N,this.bypassAuthState=j,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(E,N){p.pendingPromise={resolve:E,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(j){p.reject(j)}});return function(E,N){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:E,sessionId:N,postBody:j,tenantId:we,error:je,type:ct}=p;if(je)return void m.reject(je);const Dt={auth:m.auth,requestUri:E,sessionId:N,tenantId:we||void 0,postBody:j||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(ct)(Dt))}catch(Xt){m.reject(Xt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return go;case"linkViaPopup":case"linkViaRedirect":return zl;case"reauthViaPopup":case"reauthViaRedirect":return Qu;default:Ne(this.auth,"internal-error")}}resolve(p){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){me(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gm=new Qe(2e3,1e4);function Th(v,p,m){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(v,p,m){const E=Kn(v);fe(v,p,Ni);const N=Li(E,m);return new Zl(E,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function Wl(v,p,m){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,c.Z)(function*(v,p,m){const E=(0,P.m9)(v);fe(E.auth,p,Ni);const N=Li(E.auth,m);return new Zl(E.auth,"reauthViaPopup",p,N,E).executeNotNull()})).apply(this,arguments)}function Ah(v,p,m){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,c.Z)(function*(v,p,m){const E=(0,P.m9)(v);fe(E.auth,p,Ni);const N=Li(E.auth,m);return new Zl(E.auth,"linkViaPopup",p,N,E).executeNotNull()})).apply(this,arguments)}let Zl=(()=>{class v extends wp{constructor(m,E,N,j,we){super(m,E,j,we),this.provider=N,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const E=yield m.execute();return ie(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,c.Z)(function*(){me(1===m.filter.length,"Popup operations only handle one event");const E=T();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(N=>{m.reject(N)}),m.resolver._isIframeWebStorageSupported(m.auth,N=>{N||m.reject(Pe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,N;this.pollId=null!==(N=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Gm.get())};m()}}return v.currentPopupAction=null,v})();const Xu=new Map;class Lt extends wp{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let E=Xu.get(m.auth._key());if(!E){try{const j=(yield function bp(v,p){return Wo.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(j)}catch(N){E=()=>Promise.reject(N)}Xu.set(m.auth._key(),E)}return m.bypassAuthState||Xu.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const N=yield E.auth._redirectUserForId(p.eventId);if(N)return E.user=N,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Wo(){return(Wo=(0,c.Z)(function*(v,p){const m=x(p),E=D(v);if(!(yield E._isAvailable()))return!1;const N="true"===(yield E._get(m));return yield E._remove(m),N})).apply(this,arguments)}function Zo(v,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(v,p){return D(v)._set(x(p),"true")})).apply(this,arguments)}function Ep(){Xu.clear()}function Ma(v,p){Xu.set(v._key(),p)}function D(v){return ne(v._redirectPersistence)}function x(v){return Rt("pendingRedirect",v.config.apiKey,v.name)}function F(v,p,m){return function Y(v,p,m){return ge.apply(this,arguments)}(v,p,m)}function ge(){return(ge=(0,c.Z)(function*(v,p,m){const E=Kn(v);fe(v,p,Ni);const N=Li(E,m);return yield Zo(N,E),N._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function Ie(v,p,m){return function Ue(v,p,m){return rt.apply(this,arguments)}(v,p,m)}function rt(){return(rt=(0,c.Z)(function*(v,p,m){const E=(0,P.m9)(v);fe(E.auth,p,Ni);const N=Li(E.auth,m);yield Zo(N,E.auth);const j=yield fu(E);return N._openRedirect(E.auth,p,"reauthViaRedirect",j)})).apply(this,arguments)}function Vt(v,p,m){return function ft(v,p,m){return rn.apply(this,arguments)}(v,p,m)}function rn(){return(rn=(0,c.Z)(function*(v,p,m){const E=(0,P.m9)(v);fe(E.auth,p,Ni);const N=Li(E.auth,m);yield Ps(!1,E,p.providerId),yield Zo(N,E.auth);const j=yield fu(E);return N._openRedirect(E.auth,p,"linkViaRedirect",j)})).apply(this,arguments)}function jt(v,p){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,c.Z)(function*(v,p){return yield Kn(v)._initializationPromise,Ln(v,p,!1)})).apply(this,arguments)}function Ln(v,p){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(v,p,m=!1){const E=Kn(v),N=Li(E,p),we=yield new Lt(E,N,m).execute();return we&&!m&&(delete we.user._redirectEventId,yield E._persistUserIfCurrent(we.user),yield E._setRedirectUser(null,p)),we})).apply(this,arguments)}function fu(v){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(v){const p=T(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Pr{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function qm(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _o(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!_o(p)){const N=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Pe(this.auth,N))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qt(p))}saveEventToCache(p){this.cachedEventUids.add(Qt(p)),this.lastProcessedEventTime=Date.now()}}function Qt(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function _o({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Ko(v){return pu.apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(v,p={}){return Gt(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Kl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sh=/^https?/;function el(){return(el=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Ko(v);for(const m of p)try{if(wo(m))return}catch{}Ne(v,"unauthorized-domain")})).apply(this,arguments)}function wo(v){const p=_e(),{protocol:m,hostname:E}=new URL(p);if(v.startsWith("chrome-extension://")){const we=new URL(v);return""===we.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&we.hostname===E}if(!Sh.test(m))return!1;if(Kl.test(v))return E===v;const N=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(E)}const tl=new Qe(3e4,6e4);function Yl(){const v=xe().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let gu=null;function id(v){return gu=gu||function m0(v){return new Promise((p,m)=>{var E,N,j;function we(){Yl(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Yl(),m(Pe(v,"network-request-failed"))},timeout:tl.get()})}if(null!==(N=null===(E=xe().gapi)||void 0===E?void 0:E.iframes)&&void 0!==N&&N.Iframe)p(gapi.iframes.getContext());else{if(null===(j=xe().gapi)||void 0===j||!j.load){const je=Sa("iframefcb");return xe()[je]=()=>{gapi.load?we():m(Pe(v,"network-request-failed"))},ms(`https://apis.google.com/js/api.js?onload=${je}`).catch(ct=>m(ct))}we()}}).catch(p=>{throw gu=null,p})}(v),gu}const Wm=new Qe(5e3,15e3),Km={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ql(v){const p=v.config;ie(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?Ft(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:v.name,v:A.SDK_VERSION},N=sd.get(v.config.apiHost);N&&(E.eid=N);const j=v._getFrameworks();return j.length&&(E.fw=j.join(",")),`${m}?${(0,P.xO)(E).slice(1)}`}function od(){return od=(0,c.Z)(function*(v){const p=yield id(v),m=xe().gapi;return ie(m,v,"internal-error"),p.open({where:document.body,url:Ql(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Km,dontclear:!0},E=>new Promise(function(){var N=(0,c.Z)(function*(j,we){yield E.restyle({setHideOnLeave:!1});const je=Pe(v,"network-request-failed"),ct=xe().setTimeout(()=>{we(je)},Wm.get());function Dt(){xe().clearTimeout(ct),j(E)}E.ping(Dt).then(Dt,()=>{we(je)})});return function(j,we){return N.apply(this,arguments)}}()))}),od.apply(this,arguments)}const y0={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Yo{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tc(v,p,m,E,N,j){ie(v.config.authDomain,v,"auth-domain-config-required"),ie(v.config.apiKey,v,"invalid-api-key");const we={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:A.SDK_VERSION,eventId:N};if(p instanceof Ni){p.setDefaultLanguage(v.languageCode),we.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(we.customParameters=JSON.stringify(p.getCustomParameters()));for(const[ct,Dt]of Object.entries(j||{}))we[ct]=Dt}if(p instanceof os){const ct=p.getScopes().filter(Dt=>""!==Dt);ct.length>0&&(we.scopes=ct.join(","))}v.tenantId&&(we.tid=v.tenantId);const je=we;for(const ct of Object.keys(je))void 0===je[ct]&&delete je[ct];return`${function Pa({config:v}){return v.emulator?Ft(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,P.xO)(je).slice(1)}`}const nc="webStorageSupport",Gs=class Dp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ps,this._completeRedirectFn=Ln,this._overrideRedirectResult=Ma}_openPopup(p,m,E,N){var j=this;return(0,c.Z)(function*(){var we;me(null===(we=j.eventManagers[p._key()])||void 0===we?void 0:we.manager,"_initialize() not called before _openPopup()");const je=tc(p,m,E,_e(),N);return function Qo(v,p,m,E=500,N=600){const j=Math.max((window.screen.availHeight-N)/2,0).toString(),we=Math.max((window.screen.availWidth-E)/2,0).toString();let je="";const ct=Object.assign(Object.assign({},y0),{width:E.toString(),height:N.toString(),top:j,left:we}),Dt=(0,P.z$)().toLowerCase();m&&(je=Re(Dt)?"_blank":m),X(Dt)&&(p=p||"http://localhost",ct.scrollbars="yes");const Xt=Object.entries(ct).reduce((Ui,[ei,Eo])=>`${Ui}${ei}=${Eo},`,"");if(function or(v=(0,P.z$)()){var p;return Tt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Dt)&&"_self"!==je)return function nl(v,p){const m=document.createElement("a");m.href=v,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",je),new Yo(null);const Mn=window.open(p||"",je,Xt);ie(Mn,v,"popup-blocked");try{Mn.focus()}catch{}return new Yo(Mn)}(p,je,T())})()}_openRedirect(p,m,E,N){var j=this;return(0,c.Z)(function*(){return yield j._originValidation(p),function ht(v){xe().location.href=v}(tc(p,m,E,_e(),N)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:N,promise:j}=this.eventManagers[m];return N?Promise.resolve(N):(me(j,"If manager is not set, promise should be"),j)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const E=yield function Ym(v){return od.apply(this,arguments)}(p),N=new Pr(p);return E.register("authEvent",j=>(ie(j?.authEvent,p,"invalid-auth-event"),{status:N.onEvent(j.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:N},m.iframes[p._key()]=E,N})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(nc,{type:nc},N=>{var j;const we=null===(j=N?.[0])||void 0===j?void 0:j[nc];void 0!==we&&m(!!we),Ne(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function zm(v){return el.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return rr()||ee()||Tt()}};class rc extends class Tp{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return U("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new rc(p)}_finalizeEnroll(p,m,E){return function uu(v,p){return Gt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(v,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function cu(v,p){return Gt(v,"POST","/v2/accounts/mfaSignIn:finalize",Mt(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ap=(()=>{class v{constructor(){}static assertion(m){return rc._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var ad="@firebase/auth";class Jo{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{var N;p((null===(N=E)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Jm(v=(0,A.getApp)()){const p=(0,A._getProvider)(v,"auth");return p.isInitialized()?p.getImmediate():function ae(v,p){const m=(0,A._getProvider)(v,"auth");if(m.isInitialized()){const N=m.getImmediate(),j=m.getOptions();if((0,P.vZ)(j,p??{}))return N;Ne(N,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:Gs,persistence:[Hl,vr,ps]})}!function Sp(v){(0,A._registerComponent)(new H.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),N=p.getProvider("heartbeat"),{apiKey:j,authDomain:we}=E.options;return((je,ct)=>{ie(j&&!j.includes(":"),"invalid-api-key",{appName:je.name}),ie(!we?.includes(":"),"argument-error",{appName:je.name});const Dt={apiKey:j,authDomain:we,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Js(v)},Xt=new et(je,ct,Dt);return function ce(v,p){const m=p?.persistence||[],E=(Array.isArray(m)?m:[m]).map(ne);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(E,p?.popupRedirectResolver)}(Xt,m),Xt})(E,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,A._registerComponent)(new H.wA("auth-internal",p=>{const m=Kn(p.getProvider("auth").getImmediate());return new Jo(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,A.registerVersion)(ad,"0.20.2",function bo(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,A.registerVersion)(ad,"0.20.2","esm2017")}("Browser")},2090:(Ze,q,R)=>{"use strict";R.d(q,{$s:()=>mt,BH:()=>De,G6:()=>ie,L:()=>z,LL:()=>_e,Mn:()=>fe,Sg:()=>Ee,UG:()=>he,US:()=>H,ZB:()=>W,ZR:()=>ce,b$:()=>Ne,d:()=>Pe,eu:()=>me,hl:()=>U,jU:()=>pe,m9:()=>Cn,ne:()=>Dr,pd:()=>Vr,r3:()=>Mt,ru:()=>ke,tV:()=>le,uI:()=>$e,vZ:()=>Rn,w1:()=>Fe,xO:()=>oi,xb:()=>en,z$:()=>Te,zI:()=>J,zd:()=>Lr});const L=function(se){const re=[];let ue=0;for(let Oe=0;Oe<se.length;Oe++){let Z=se.charCodeAt(Oe);Z<128?re[ue++]=Z:Z<2048?(re[ue++]=Z>>6|192,re[ue++]=63&Z|128):55296==(64512&Z)&&Oe+1<se.length&&56320==(64512&se.charCodeAt(Oe+1))?(Z=65536+((1023&Z)<<10)+(1023&se.charCodeAt(++Oe)),re[ue++]=Z>>18|240,re[ue++]=Z>>12&63|128,re[ue++]=Z>>6&63|128,re[ue++]=63&Z|128):(re[ue++]=Z>>12|224,re[ue++]=Z>>6&63|128,re[ue++]=63&Z|128)}return re},H={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(se,re){if(!Array.isArray(se))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ue=re?this.byteToCharMapWebSafe_:this.byteToCharMap_,Oe=[];for(let Z=0;Z<se.length;Z+=3){const ve=se[Z],Ge=Z+1<se.length,ot=Ge?se[Z+1]:0,Et=Z+2<se.length,St=Et?se[Z+2]:0;let Zn=(15&ot)<<2|St>>6,Ce=63&St;Et||(Ce=64,Ge||(Zn=64)),Oe.push(ue[ve>>2],ue[(3&ve)<<4|ot>>4],ue[Zn],ue[Ce])}return Oe.join("")},encodeString(se,re){return this.HAS_NATIVE_SUPPORT&&!re?btoa(se):this.encodeByteArray(L(se),re)},decodeString(se,re){return this.HAS_NATIVE_SUPPORT&&!re?atob(se):function(se){const re=[];let ue=0,Oe=0;for(;ue<se.length;){const Z=se[ue++];if(Z<128)re[Oe++]=String.fromCharCode(Z);else if(Z>191&&Z<224){const ve=se[ue++];re[Oe++]=String.fromCharCode((31&Z)<<6|63&ve)}else if(Z>239&&Z<365){const Et=((7&Z)<<18|(63&se[ue++])<<12|(63&se[ue++])<<6|63&se[ue++])-65536;re[Oe++]=String.fromCharCode(55296+(Et>>10)),re[Oe++]=String.fromCharCode(56320+(1023&Et))}else{const ve=se[ue++],Ge=se[ue++];re[Oe++]=String.fromCharCode((15&Z)<<12|(63&ve)<<6|63&Ge)}}return re.join("")}(this.decodeStringToByteArray(se,re))},decodeStringToByteArray(se,re){this.init_();const ue=re?this.charToByteMapWebSafe_:this.charToByteMap_,Oe=[];for(let Z=0;Z<se.length;){const ve=ue[se.charAt(Z++)],ot=Z<se.length?ue[se.charAt(Z)]:0;++Z;const St=Z<se.length?ue[se.charAt(Z)]:64;++Z;const Rt=Z<se.length?ue[se.charAt(Z)]:64;if(++Z,null==ve||null==ot||null==St||null==Rt)throw Error();Oe.push(ve<<2|ot>>4),64!==St&&(Oe.push(ot<<4&240|St>>2),64!==Rt&&Oe.push(St<<6&192|Rt))}return Oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let se=0;se<this.ENCODED_VALS.length;se++)this.byteToCharMap_[se]=this.ENCODED_VALS.charAt(se),this.charToByteMap_[this.byteToCharMap_[se]]=se,this.byteToCharMapWebSafe_[se]=this.ENCODED_VALS_WEBSAFE.charAt(se),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[se]]=se,se>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(se)]=se,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(se)]=se)}}},z=function(se){return function(se){const re=L(se);return H.encodeByteArray(re,!0)}(se).replace(/\./g,"")},le=function(se){try{return H.decodeString(se,!0)}catch(re){console.error("base64Decode failed: ",re)}return null};function W(se,re){if(!(re instanceof Object))return re;switch(re.constructor){case Date:return new Date(re.getTime());case Object:void 0===se&&(se={});break;case Array:se=[];break;default:return re}for(const ue in re)!re.hasOwnProperty(ue)||!te(ue)||(se[ue]=W(se[ue],re[ue]));return se}function te(se){return"__proto__"!==se}class De{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((re,ue)=>{this.resolve=re,this.reject=ue})}wrapCallback(re){return(ue,Oe)=>{ue?this.reject(ue):this.resolve(Oe),"function"==typeof re&&(this.promise.catch(()=>{}),1===re.length?re(ue):re(ue,Oe))}}}function Ee(se,re){if(se.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Oe=re||"demo-project",Z=se.iat||0,ve=se.sub||se.user_id;if(!ve)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${Oe}`,aud:Oe,iat:Z,exp:Z+3600,auth_time:Z,sub:ve,user_id:ve,firebase:{sign_in_provider:"custom",identities:{}}},se);return[z(JSON.stringify({alg:"none",type:"JWT"})),z(JSON.stringify(Ge)),""].join(".")}function Te(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function $e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Te())}function he(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function pe(){return"object"==typeof self&&self.self===self}function ke(){const se="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof se&&void 0!==se.id}function Ne(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pe(){return Te().indexOf("Electron/")>=0}function Fe(){const se=Te();return se.indexOf("MSIE ")>=0||se.indexOf("Trident/")>=0}function fe(){return Te().indexOf("MSAppHost/")>=0}function ie(){return!he()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function U(){return"object"==typeof indexedDB}function me(){return new Promise((se,re)=>{try{let ue=!0;const Oe="validate-browser-context-for-indexeddb-analytics-module",Z=self.indexedDB.open(Oe);Z.onsuccess=()=>{Z.result.close(),ue||self.indexedDB.deleteDatabase(Oe),se(!0)},Z.onupgradeneeded=()=>{ue=!1},Z.onerror=()=>{var ve;re((null===(ve=Z.error)||void 0===ve?void 0:ve.message)||"")}}catch(ue){re(ue)}})}function J(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ce extends Error{constructor(re,ue,Oe){super(ue),this.code=re,this.customData=Oe,this.name="FirebaseError",Object.setPrototypeOf(this,ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_e.prototype.create)}}class _e{constructor(re,ue,Oe){this.service=re,this.serviceName=ue,this.errors=Oe}create(re,...ue){const Oe=ue[0]||{},Z=`${this.service}/${re}`,ve=this.errors[re],Ge=ve?function ze(se,re){return se.replace(gt,(ue,Oe)=>{const Z=re[Oe];return null!=Z?String(Z):`<${Oe}?>`})}(ve,Oe):"Error";return new ce(Z,`${this.serviceName}: ${Ge} (${Z}).`,Oe)}}const gt=/\{\$([^}]+)}/g;function Mt(se,re){return Object.prototype.hasOwnProperty.call(se,re)}function en(se){for(const re in se)if(Object.prototype.hasOwnProperty.call(se,re))return!1;return!0}function Rn(se,re){if(se===re)return!0;const ue=Object.keys(se),Oe=Object.keys(re);for(const Z of ue){if(!Oe.includes(Z))return!1;const ve=se[Z],Ge=re[Z];if(_n(ve)&&_n(Ge)){if(!Rn(ve,Ge))return!1}else if(ve!==Ge)return!1}for(const Z of Oe)if(!ue.includes(Z))return!1;return!0}function _n(se){return null!==se&&"object"==typeof se}function oi(se){const re=[];for(const[ue,Oe]of Object.entries(se))Array.isArray(Oe)?Oe.forEach(Z=>{re.push(encodeURIComponent(ue)+"="+encodeURIComponent(Z))}):re.push(encodeURIComponent(ue)+"="+encodeURIComponent(Oe));return re.length?"&"+re.join("&"):""}function Lr(se){const re={};return se.replace(/^\?/,"").split("&").forEach(Oe=>{if(Oe){const[Z,ve]=Oe.split("=");re[decodeURIComponent(Z)]=decodeURIComponent(ve)}}),re}function Vr(se){const re=se.indexOf("?");if(!re)return"";const ue=se.indexOf("#",re);return se.substring(re,ue>0?ue:void 0)}function Dr(se,re){const ue=new at(se,re);return ue.subscribe.bind(ue)}class at{constructor(re,ue){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ue,this.task.then(()=>{re(this)}).catch(Oe=>{this.error(Oe)})}next(re){this.forEachObserver(ue=>{ue.next(re)})}error(re){this.forEachObserver(ue=>{ue.error(re)}),this.close(re)}complete(){this.forEachObserver(re=>{re.complete()}),this.close()}subscribe(re,ue,Oe){let Z;if(void 0===re&&void 0===ue&&void 0===Oe)throw new Error("Missing Observer.");Z=function Tn(se,re){if("object"!=typeof se||null===se)return!1;for(const ue of re)if(ue in se&&"function"==typeof se[ue])return!0;return!1}(re,["next","error","complete"])?re:{next:re,error:ue,complete:Oe},void 0===Z.next&&(Z.next=kt),void 0===Z.error&&(Z.error=kt),void 0===Z.complete&&(Z.complete=kt);const ve=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Z.error(this.finalError):Z.complete()}catch{}}),this.observers.push(Z),ve}unsubscribeOne(re){void 0===this.observers||void 0===this.observers[re]||(delete this.observers[re],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(re){if(!this.finalized)for(let ue=0;ue<this.observers.length;ue++)this.sendOne(ue,re)}sendOne(re,ue){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[re])try{ue(this.observers[re])}catch(Oe){typeof console<"u"&&console.error&&console.error(Oe)}})}close(re){this.finalized||(this.finalized=!0,void 0!==re&&(this.finalError=re),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kt(){}function mt(se,re=1e3,ue=2){const Oe=re*Math.pow(ue,se),Z=Math.round(.5*Oe*(Math.random()-.5)*2);return Math.min(144e5,Oe+Z)}function Cn(se){return se&&se._delegate?se._delegate:se}},2065:(Ze,q,R)=>{"use strict";var c=R(4650);let P=null;function A(){return P}const Q=new c.OlP("DocumentToken");let z=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function le(){return(0,c.LFG)(W)}()},providedIn:"platform"}),n})();const G=new c.OlP("Location Initialized");let W=(()=>{class n extends z{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return A().getBaseHref(this._doc)}onPopState(t){const r=A().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=A().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,o){te()?this._history.pushState(t,r,o):this.location.hash=o}replaceState(t,r,o){te()?this._history.replaceState(t,r,o):this.location.hash=o}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function De(){return new W((0,c.LFG)(Q))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Ee(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function $e(n){return n&&"?"!==n[0]?"?"+n:n}let he=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function pe(){const n=(0,c.LFG)(Q).location;return new Ne((0,c.LFG)(z),n&&n.origin||"")}()},providedIn:"root"}),n})();const ke=new c.OlP("appBaseHref");let Ne=(()=>{class n extends he{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ee(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$e(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,u){const h=this.prepareExternalUrl(o+$e(u));this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){const h=this.prepareExternalUrl(o+$e(u));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z),c.LFG(ke,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n extends he{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ee(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,u){let h=this.prepareExternalUrl(o+$e(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,o,u){let h=this.prepareExternalUrl(o+$e(u));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(z),c.LFG(ke,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Te(ie(r)),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$e(r))}normalize(t){return n.stripTrailingSlash(function Le(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ie(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$e(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}}return n.normalizeQueryParams=$e,n.joinWithSlash=Ee,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(c.LFG(he))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function fe(){return new Fe((0,c.LFG)(he))}()},providedIn:"root"}),n})();function ie(n){return n.replace(/\/index.html$/,"")}const U={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Percent=1]="Percent",me[me.Currency=2]="Currency",me[me.Scientific=3]="Scientific",me))(),ne=(()=>((ne=ne||{})[ne.Format=0]="Format",ne[ne.Standalone=1]="Standalone",ne))(),ae=(()=>((ae=ae||{})[ae.Narrow=0]="Narrow",ae[ae.Abbreviated=1]="Abbreviated",ae[ae.Wide=2]="Wide",ae[ae.Short=3]="Short",ae))(),ce=(()=>((ce=ce||{})[ce.Short=0]="Short",ce[ce.Medium=1]="Medium",ce[ce.Long=2]="Long",ce[ce.Full=3]="Full",ce))(),_e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Group=1]="Group",_e[_e.List=2]="List",_e[_e.PercentSign=3]="PercentSign",_e[_e.PlusSign=4]="PlusSign",_e[_e.MinusSign=5]="MinusSign",_e[_e.Exponential=6]="Exponential",_e[_e.SuperscriptingExponent=7]="SuperscriptingExponent",_e[_e.PerMille=8]="PerMille",_e[_e.Infinity=9]="Infinity",_e[_e.NaN=10]="NaN",_e[_e.TimeSeparator=11]="TimeSeparator",_e[_e.CurrencyDecimal=12]="CurrencyDecimal",_e[_e.CurrencyGroup=13]="CurrencyGroup",_e))();function Ht(n,e){return Tn((0,c.cg1)(n)[c.wAp.DateFormat],e)}function Mt(n,e){return Tn((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function Gt(n,e){return Tn((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function en(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===_e.CurrencyDecimal)return t[c.wAp.NumberSymbols][_e.Decimal];if(e===_e.CurrencyGroup)return t[c.wAp.NumberSymbols][_e.Group]}return r}function jn(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Tn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function kt(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const wt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,En={},Ar=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Bt=(()=>((Bt=Bt||{})[Bt.Short=0]="Short",Bt[Bt.ShortGMT=1]="ShortGMT",Bt[Bt.Long=2]="Long",Bt[Bt.Extended=3]="Extended",Bt))(),Ye=(()=>((Ye=Ye||{})[Ye.FullYear=0]="FullYear",Ye[Ye.Month=1]="Month",Ye[Ye.Date=2]="Date",Ye[Ye.Hours=3]="Hours",Ye[Ye.Minutes=4]="Minutes",Ye[Ye.Seconds=5]="Seconds",Ye[Ye.FractionalSeconds=6]="FractionalSeconds",Ye[Ye.Day=7]="Day",Ye))(),tt=(()=>((tt=tt||{})[tt.DayPeriods=0]="DayPeriods",tt[tt.Days=1]="Days",tt[tt.Months=2]="Months",tt[tt.Eras=3]="Eras",tt))();function ai(n,e,t,r){let o=function Re(n){if(bt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[o,u=1,h=1]=n.split("-").map(g=>+g);return Vn(o,u-1,h)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(wt))return function Je(n){const e=new Date(0);let t=0,r=0;const o=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const h=Number(n[4]||0)-t,g=Number(n[5]||0)-r,w=Number(n[6]||0),S=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,h,g,w,S),e}(r)}const e=new Date(n);if(!bt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=mt(t,e)||e;let g,h=[];for(;e;){if(g=Ar.exec(e),!g){h.push(e);break}{h=h.concat(g.slice(1));const O=h.pop();if(!O)break;e=O}}let w=o.getTimezoneOffset();r&&(w=Ce(r,w),o=function ee(n,e,t){const r=t?-1:1,o=n.getTimezoneOffset();return function X(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Ce(e,o)-o))}(o,r,!0));let S="";return h.forEach(O=>{const V=function Zn(n){if(Rt[n])return Rt[n];let e;switch(n){case"G":case"GG":case"GGG":e=ue(tt.Eras,ae.Abbreviated);break;case"GGGG":e=ue(tt.Eras,ae.Wide);break;case"GGGGG":e=ue(tt.Eras,ae.Narrow);break;case"y":e=se(Ye.FullYear,1,0,!1,!0);break;case"yy":e=se(Ye.FullYear,2,0,!0,!0);break;case"yyy":e=se(Ye.FullYear,3,0,!1,!0);break;case"yyyy":e=se(Ye.FullYear,4,0,!1,!0);break;case"Y":e=yn(1);break;case"YY":e=yn(2,!0);break;case"YYY":e=yn(3);break;case"YYYY":e=yn(4);break;case"M":case"L":e=se(Ye.Month,1,1);break;case"MM":case"LL":e=se(Ye.Month,2,1);break;case"MMM":e=ue(tt.Months,ae.Abbreviated);break;case"MMMM":e=ue(tt.Months,ae.Wide);break;case"MMMMM":e=ue(tt.Months,ae.Narrow);break;case"LLL":e=ue(tt.Months,ae.Abbreviated,ne.Standalone);break;case"LLLL":e=ue(tt.Months,ae.Wide,ne.Standalone);break;case"LLLLL":e=ue(tt.Months,ae.Narrow,ne.Standalone);break;case"w":e=St(1);break;case"ww":e=St(2);break;case"W":e=St(1,!0);break;case"d":e=se(Ye.Date,1);break;case"dd":e=se(Ye.Date,2);break;case"c":case"cc":e=se(Ye.Day,1);break;case"ccc":e=ue(tt.Days,ae.Abbreviated,ne.Standalone);break;case"cccc":e=ue(tt.Days,ae.Wide,ne.Standalone);break;case"ccccc":e=ue(tt.Days,ae.Narrow,ne.Standalone);break;case"cccccc":e=ue(tt.Days,ae.Short,ne.Standalone);break;case"E":case"EE":case"EEE":e=ue(tt.Days,ae.Abbreviated);break;case"EEEE":e=ue(tt.Days,ae.Wide);break;case"EEEEE":e=ue(tt.Days,ae.Narrow);break;case"EEEEEE":e=ue(tt.Days,ae.Short);break;case"a":case"aa":case"aaa":e=ue(tt.DayPeriods,ae.Abbreviated);break;case"aaaa":e=ue(tt.DayPeriods,ae.Wide);break;case"aaaaa":e=ue(tt.DayPeriods,ae.Narrow);break;case"b":case"bb":case"bbb":e=ue(tt.DayPeriods,ae.Abbreviated,ne.Standalone,!0);break;case"bbbb":e=ue(tt.DayPeriods,ae.Wide,ne.Standalone,!0);break;case"bbbbb":e=ue(tt.DayPeriods,ae.Narrow,ne.Standalone,!0);break;case"B":case"BB":case"BBB":e=ue(tt.DayPeriods,ae.Abbreviated,ne.Format,!0);break;case"BBBB":e=ue(tt.DayPeriods,ae.Wide,ne.Format,!0);break;case"BBBBB":e=ue(tt.DayPeriods,ae.Narrow,ne.Format,!0);break;case"h":e=se(Ye.Hours,1,-12);break;case"hh":e=se(Ye.Hours,2,-12);break;case"H":e=se(Ye.Hours,1);break;case"HH":e=se(Ye.Hours,2);break;case"m":e=se(Ye.Minutes,1);break;case"mm":e=se(Ye.Minutes,2);break;case"s":e=se(Ye.Seconds,1);break;case"ss":e=se(Ye.Seconds,2);break;case"S":e=se(Ye.FractionalSeconds,1);break;case"SS":e=se(Ye.FractionalSeconds,2);break;case"SSS":e=se(Ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Z(Bt.Short);break;case"ZZZZZ":e=Z(Bt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Z(Bt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Z(Bt.Long);break;default:return null}return Rt[n]=e,e}(O);S+=V?V(o,t,w):"''"===O?"'":O.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),S}function Vn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function mt(n,e){const t=function gt(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(En[t]=En[t]||{},En[t][e])return En[t][e];let r="";switch(e){case"shortDate":r=Ht(n,ce.Short);break;case"mediumDate":r=Ht(n,ce.Medium);break;case"longDate":r=Ht(n,ce.Long);break;case"fullDate":r=Ht(n,ce.Full);break;case"shortTime":r=Mt(n,ce.Short);break;case"mediumTime":r=Mt(n,ce.Medium);break;case"longTime":r=Mt(n,ce.Long);break;case"fullTime":r=Mt(n,ce.Full);break;case"short":const o=mt(n,"shortTime"),u=mt(n,"shortDate");r=Ur(Gt(n,ce.Short),[o,u]);break;case"medium":const h=mt(n,"mediumTime"),g=mt(n,"mediumDate");r=Ur(Gt(n,ce.Medium),[h,g]);break;case"long":const w=mt(n,"longTime"),S=mt(n,"longDate");r=Ur(Gt(n,ce.Long),[w,S]);break;case"full":const O=mt(n,"fullTime"),V=mt(n,"fullDate");r=Ur(Gt(n,ce.Full),[O,V])}return r&&(En[t][e]=r),r}function Ur(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function An(n,e,t="-",r,o){let u="";(n<0||o&&n<=0)&&(o?n=1-n:(n=-n,u=t));let h=String(n);for(;h.length<e;)h="0"+h;return r&&(h=h.slice(h.length-e)),u+h}function se(n,e,t=0,r=!1,o=!1){return function(u,h){let g=function re(n,e){switch(n){case Ye.FullYear:return e.getFullYear();case Ye.Month:return e.getMonth();case Ye.Date:return e.getDate();case Ye.Hours:return e.getHours();case Ye.Minutes:return e.getMinutes();case Ye.Seconds:return e.getSeconds();case Ye.FractionalSeconds:return e.getMilliseconds();case Ye.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||g>-t)&&(g+=t),n===Ye.Hours)0===g&&-12===t&&(g=12);else if(n===Ye.FractionalSeconds)return function Cn(n,e){return An(n,3).substring(0,e)}(g,e);const w=en(h,_e.MinusSign);return An(g,e,w,r,o)}}function ue(n,e,t=ne.Format,r=!1){return function(o,u){return function Oe(n,e,t,r,o,u){switch(t){case tt.Months:return function Qe(n,e,t){const r=(0,c.cg1)(n),u=Tn([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],e);return Tn(u,t)}(e,o,r)[n.getMonth()];case tt.Days:return function $t(n,e,t){const r=(0,c.cg1)(n),u=Tn([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],e);return Tn(u,t)}(e,o,r)[n.getDay()];case tt.DayPeriods:const h=n.getHours(),g=n.getMinutes();if(u){const S=function Dr(n){const e=(0,c.cg1)(n);return jn(e),(e[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?kt(r):[kt(r[0]),kt(r[1])])}(e),O=function at(n,e,t){const r=(0,c.cg1)(n);jn(r);const u=Tn([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],e)||[];return Tn(u,t)||[]}(e,o,r),V=S.findIndex(de=>{if(Array.isArray(de)){const[be,Me]=de,nt=h>=be.hours&&g>=be.minutes,_t=h<Me.hours||h===Me.hours&&g<Me.minutes;if(be.hours<Me.hours){if(nt&&_t)return!0}else if(nt||_t)return!0}else if(de.hours===h&&de.minutes===g)return!0;return!1});if(-1!==V)return O[V]}return function Kt(n,e,t){const r=(0,c.cg1)(n),u=Tn([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],e);return Tn(u,t)}(e,o,r)[h<12?0:1];case tt.Eras:return function Ft(n,e){return Tn((0,c.cg1)(n)[c.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(o,u,n,e,t,r)}}function Z(n){return function(e,t,r){const o=-1*r,u=en(t,_e.MinusSign),h=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case Bt.Short:return(o>=0?"+":"")+An(h,2,u)+An(Math.abs(o%60),2,u);case Bt.ShortGMT:return"GMT"+(o>=0?"+":"")+An(h,1,u);case Bt.Long:return"GMT"+(o>=0?"+":"")+An(h,2,u)+":"+An(Math.abs(o%60),2,u);case Bt.Extended:return 0===r?"Z":(o>=0?"+":"")+An(h,2,u)+":"+An(Math.abs(o%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}function Et(n){return Vn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function St(n,e=!1){return function(t,r){let o;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,h=t.getDate();o=1+Math.floor((h+u)/7)}else{const u=Et(t),h=function ot(n){const e=Vn(n,0,1).getDay();return Vn(n,0,1+(e<=4?4:11)-e)}(u.getFullYear()),g=u.getTime()-h.getTime();o=1+Math.round(g/6048e5)}return An(o,n,en(r,_e.MinusSign))}}function yn(n,e=!1){return function(t,r){return An(Et(t).getFullYear(),n,en(r,_e.MinusSign),e)}}const Rt={};function Ce(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function bt(n){return n instanceof Date&&!isNaN(n.valueOf())}const Be=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function et(n,e,t,r,o){const h=function Mo(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),o=r[0],u=r[1],h=-1!==o.indexOf(".")?o.split("."):[o.substring(0,o.lastIndexOf("0")+1),o.substring(o.lastIndexOf("0")+1)],g=h[0],w=h[1]||"";t.posPre=g.substring(0,g.indexOf("#"));for(let O=0;O<w.length;O++){const V=w.charAt(O);"0"===V?t.minFrac=t.maxFrac=O+1:"#"===V?t.maxFrac=O+1:t.posSuf+=V}const S=g.split(",");if(t.gSize=S[1]?S[1].length:0,t.lgSize=S[2]||S[1]?(S[2]||S[1]).length:0,u){const O=o.length-t.posPre.length-t.posSuf.length,V=u.indexOf("#");t.negPre=u.substring(0,V).replace(/'/g,""),t.negSuf=u.slice(V+O).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function Pn(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}(e,me.Currency),en(e,_e.MinusSign));return h.minFrac=function Tr(n){let e;const t=U[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),h.maxFrac=h.minFrac,function xi(n,e,t,r,o,u,h=!1){let g="",w=!1;if(isFinite(n)){let S=function ar(n){let r,o,u,h,g,e=Math.abs(n)+"",t=0;for((o=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(o<0&&(o=u),o+=+e.slice(u+1),e=e.substring(0,u)):o<0&&(o=e.length),u=0;"0"===e.charAt(u);u++);if(u===(g=e.length))r=[0],o=1;else{for(g--;"0"===e.charAt(g);)g--;for(o-=u,r=[],h=0;u<=g;u++,h++)r[h]=Number(e.charAt(u))}return o>22&&(r=r.splice(0,21),t=o-1,o=1),{digits:r,exponent:t,integerLen:o}}(n);h&&(S=function rs(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(S));let O=e.minInt,V=e.minFrac,de=e.maxFrac;if(u){const dn=u.match(Be);if(null===dn)throw new Error(`${u} is not a valid digit info`);const mn=dn[1],nn=dn[3],hn=dn[5];null!=mn&&(O=Mi(mn)),null!=nn&&(V=Mi(nn)),null!=hn?de=Mi(hn):null!=nn&&V>de&&(de=V)}!function Ts(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,o=r.length-n.integerLen;const u=Math.min(Math.max(e,o),t);let h=u+n.integerLen,g=r[h];if(h>0){r.splice(Math.max(n.integerLen,h));for(let V=h;V<r.length;V++)r[V]=0}else{o=Math.max(0,o),n.integerLen=1,r.length=Math.max(1,h=u+1),r[0]=0;for(let V=1;V<h;V++)r[V]=0}if(g>=5)if(h-1<0){for(let V=0;V>h;V--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[h-1]++;for(;o<Math.max(0,u);o++)r.push(0);let w=0!==u;const S=e+n.integerLen,O=r.reduceRight(function(V,de,be,Me){return Me[be]=(de+=V)<10?de:de-10,w&&(0===Me[be]&&be>=S?Me.pop():w=!1),de>=10?1:0},0);O&&(r.unshift(O),n.integerLen++)}(S,V,de);let be=S.digits,Me=S.integerLen;const nt=S.exponent;let _t=[];for(w=be.every(dn=>!dn);Me<O;Me++)be.unshift(0);for(;Me<0;Me++)be.unshift(0);Me>0?_t=be.splice(Me,be.length):(_t=be,be=[0]);const cn=[];for(be.length>=e.lgSize&&cn.unshift(be.splice(-e.lgSize,be.length).join(""));be.length>e.gSize;)cn.unshift(be.splice(-e.gSize,be.length).join(""));be.length&&cn.unshift(be.join("")),g=cn.join(en(t,r)),_t.length&&(g+=en(t,o)+_t.join("")),nt&&(g+=en(t,_e.Exponential)+"+"+nt)}else g=en(t,_e.Infinity);return g=n<0&&!w?e.negPre+g+e.negSuf:e.posPre+g+e.posSuf,g}(n,h,e,_e.CurrencyGroup,_e.CurrencyDecimal,o).replace("\xa4",t).replace("\xa4","").trim()}function Mi(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class Ri{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ss=(()=>{class n{constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((o,u,h)=>{if(null==o.previousIndex)r.createEmbeddedView(this._template,new Ri(o.item,this._ngForOf,-1,-1),null===h?void 0:h);else if(null==h)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,h),Pi(g,o)}});for(let o=0,u=r.length;o<u;o++){const g=r.get(o).context;g.index=o,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{Pi(r.get(o.currentIndex),o)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Pi(n,e){n.context.$implicit=e.item}let is=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Br,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){lr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){lr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Br{constructor(){this.$implicit=null,this.ngIf=null}}function lr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function Kr(n,e){return new c.vHH(2100,"")}let Ll=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw Kr();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"uppercase",type:n,pure:!0}),n})();const eo=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ga=(()=>{class n{constructor(t,r){this.locale=t,this.defaultTimezone=r}transform(t,r="mediumDate",o,u){if(null==t||""===t||t!=t)return null;try{return ai(t,r,u||this.locale,o??this.defaultTimezone??void 0)}catch(h){throw Kr()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(eo,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0}),n})(),Ou=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,o="symbol",u,h){if(!function ma(n){return!(null==n||""===n||n!=n)}(t))return null;h=h||this._locale,"boolean"==typeof o&&(o=o?"symbol":"code");let g=r||this._defaultCurrencyCode;"code"!==o&&(g="symbol"===o||"symbol-narrow"===o?function sr(n,e,t="en"){const r=function Lr(n){return(0,c.cg1)(n)[c.wAp.Currencies]}(t)[n]||U[n]||[],o=r[1];return"narrow"===e&&"string"==typeof o?o:r[0]||n}(g,"symbol"===o?"wide":"narrow",h):o);try{return et(function ya(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),h,g,r,u)}catch(w){throw Kr()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},n.\u0275pipe=c.Yjl({name:"currency",type:n,pure:!0}),n})();let Lu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const mi="browser";function Gn(n){return n===mi}function _a(n){return"server"===n}let wa=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Vl((0,c.LFG)(Q),window)}),n})();class Vl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function io(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let o=r.currentNode;for(;o;){const u=o.shadowRoot;if(u){const h=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(h)return h}o=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],o-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=pn(this.window.history)||pn(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function pn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ns extends class Ps extends class H{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function B(n){P||(P=n)}(new Ns)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function jr(){return yi=yi||document.querySelector("base"),yi?yi.getAttribute("href"):null}();return null==t?null:function ks(n){vi=vi||document.createElement("a"),vi.setAttribute("href",n);const e=vi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){yi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ya(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[o,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let vi,yi=null;const _i=new c.OlP("TRANSITION_ID"),tu=[{provide:c.ip1,useFactory:function un(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=A(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<o.length;u++)r.remove(o[u])})}},deps:[_i,Q,c.zs3],multi:!0}];let Vu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const cr=new c.OlP("EventManagerPlugins");let Os=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let u=0;u<o.length;u++){const h=o[u];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(cr),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class us{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=A().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let Pt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),ki=(()=>{class n extends Pt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(u=>{const h=this._doc.createElement("style");h.textContent=u,o.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(so),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(so))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function so(n){A().remove(n)}const oo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ao=/%COMP%/g;function wi(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?wi(n,o,t):(o=o.replace(ao,n),t.push(o))}return t}function Ls(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ls=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new cs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new Uu(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case c.ifc.ShadowDom:return new Ul(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=wi(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Os),c.LFG(ki),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class cs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(oo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Ea(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Ea(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const u=oo[o];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=oo[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,o&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ls(r)):this.eventManager.addEventListener(e,t,Ls(r))}}function Ea(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Uu extends cs{constructor(e,t,r,o){super(e),this.component=r;const u=wi(o+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function He(n){return"_ngcontent-%COMP%".replace(ao,n)}(o+"-"+r.id),this.hostAttr=function Zt(n){return"_nghost-%COMP%".replace(ao,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Ul extends cs{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=wi(o.id,o.styles,[]);for(let h=0;h<u.length;h++){const g=document.createElement("style");g.textContent=u[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Bl=(()=>{class n extends us{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vs=["alt","control","meta","shift"],bi={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ca={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Oi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Yi=(()=>{class n extends us{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const u=n.parseEventName(r),h=n.eventCallback(u.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>A().onAndCancel(t,u.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const u=n._normalizeKey(r.pop());let h="";if(Vs.forEach(w=>{const S=r.indexOf(w);S>-1&&(r.splice(S,1),h+=w+".")}),h+=u,0!=r.length||0===u.length)return null;const g={};return g.domEventName=o,g.fullKey=h,g}static getEventFullKey(t){let r="",o=function Fo(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&Ca.hasOwnProperty(e)&&(e=Ca[e]))}return bi[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),Vs.forEach(u=>{u!=o&&Oi[u](t)&&(r+=u+".")}),r+=o,r}static eventCallback(t,r,o){return u=>{n.getEventFullKey(u)===t&&o.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const jl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:mi},{provide:c.g9A,useValue:function Us(){Ns.makeCurrent()},multi:!0},{provide:Q,useFactory:function lo(){return(0,c.RDi)(document),document},deps:[]}]),ds=new c.OlP(""),Qi=[{provide:c.rWj,useClass:class as{addToWindow(e){c.dqk.getAngularTestability=(r,o=!0)=>{const u=e.findTestabilityInTree(r,o);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const o=c.dqk.getAllAngularTestabilities();let u=o.length,h=!1;const g=function(w){h=h||w,u--,0==u&&r(h)};o.forEach(function(w){w.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?A().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Uo=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function ru(){return new c.qLn},deps:[]},{provide:cr,useClass:Bl,multi:!0,deps:[Q,c.R0b,c.Lbi]},{provide:cr,useClass:Yi,multi:!0,deps:[Q]},{provide:ls,useClass:ls,deps:[Os,ki,c.AFp]},{provide:c.FYo,useExisting:ls},{provide:Pt,useExisting:ki},{provide:ki,useClass:ki,deps:[Q]},{provide:Os,useClass:Os,deps:[cr,c.R0b]},{provide:class xn{},useClass:Vu,deps:[]},[]];let Ji=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:_i,useExisting:c.AFp},tu]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ds,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Uo,...Qi],imports:[Lu,c.hGG]}),n})(),Hu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function co(){return new Hu((0,c.LFG)(Q))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let qu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):c.LFG(b),r},providedIn:"root"}),n})(),b=(()=>{class n extends qu{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case c.q3G.NONE:return r;case c.q3G.HTML:return(0,c.qzn)(r,"HTML")?(0,c.z3N)(r):(0,c.EiD)(this._doc,String(r)).toString();case c.q3G.STYLE:return(0,c.qzn)(r,"Style")?(0,c.z3N)(r):r;case c.q3G.SCRIPT:if((0,c.qzn)(r,"Script"))return(0,c.z3N)(r);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.yhl)(r),(0,c.qzn)(r,"URL")?(0,c.z3N)(r):(0,c.mCW)(String(r));case c.q3G.RESOURCE_URL:if((0,c.qzn)(r,"ResourceURL"))return(0,c.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Q))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ps(n){return new b(n.get(Q))}(c.LFG(c.zs3)),r},providedIn:"root"}),n})();var T=R(5861),K=R(5876);const xe=["qrcElement"];let ht=(()=>{class n{constructor(t,r){this.renderer=t,this.sanitizer=r,this.allowEmptyString=!1,this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.qrdata="",this.scale=4,this.width=10,this.qrCodeURL=new c.vpe,this.context=null}ngOnChanges(){var t=this;return(0,T.Z)(function*(){yield t.createQRCode()})()}isValidQrCodeText(t){return!1===this.allowEmptyString?!(typeof t>"u"||""===t||"null"===t||null===t):!(typeof t>"u")}toDataURL(t){return new Promise((r,o)=>{K.hz(this.qrdata,t,(u,h)=>{u?o(u):r(h)})})}toCanvas(t,r){return new Promise((o,u)=>{K.rT(t,this.qrdata,r,h=>{h?u(h):o("success")})})}toSVG(t){return new Promise((r,o)=>{K.toString(this.qrdata,t,(u,h)=>{u?o(u):r(h)})})}renderElement(t){for(const r of this.qrcElement.nativeElement.childNodes)this.renderer.removeChild(this.qrcElement.nativeElement,r);this.renderer.appendChild(this.qrcElement.nativeElement,t)}createQRCode(){var t=this;return(0,T.Z)(function*(){t.version&&t.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),t.version=40):t.version&&t.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),t.version=1):void 0!==t.version&&isNaN(t.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto."),t.version=void 0);try{if(!t.isValidQrCodeText(t.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty, set 'allowEmptyString=\"true\"' to overwrite this behaviour.");t.isValidQrCodeText(t.qrdata)&&""===t.qrdata&&(t.qrdata=" ");const r={color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,type:t.elementType,version:t.version,width:t.width},o=t.imageSrc,u=t.imageHeight||40,h=t.imageWidth||40;switch(t.elementType){case"canvas":const g=t.renderer.createElement("canvas");t.context=g.getContext("2d"),t.toCanvas(g,r).then(()=>{if(t.ariaLabel&&t.renderer.setAttribute(g,"aria-label",`${t.ariaLabel}`),t.title&&t.renderer.setAttribute(g,"title",`${t.title}`),o&&t.context){t.centerImage=new Image(h,u),o!==t.centerImage.src&&(t.centerImage.src=o),u!==t.centerImage.height&&(t.centerImage.height=u),h!==t.centerImage.width&&(t.centerImage.width=h);const O=t.centerImage;O&&(O.onload=()=>{t.context?.drawImage(O,g.width/2-h/2,g.height/2-u/2,h,u)})}t.renderElement(g),t.emitQRCodeURL(g)}).catch(O=>{console.error("[angularx-qrcode] canvas error:",O)});break;case"svg":const w=t.renderer.createElement("div");t.toSVG(r).then(O=>{t.renderer.setProperty(w,"innerHTML",O);const V=w.firstChild;t.renderer.setAttribute(V,"height",`${t.width}`),t.renderer.setAttribute(V,"width",`${t.width}`),t.renderElement(V),t.emitQRCodeURL(V)}).catch(O=>{console.error("[angularx-qrcode] svg error:",O)});break;default:const S=t.renderer.createElement("img");t.toDataURL(r).then(O=>{t.alt&&S.setAttribute("alt",t.alt),t.ariaLabel&&S.setAttribute("aria-label",t.ariaLabel),S.setAttribute("src",O),t.title&&S.setAttribute("title",t.title),t.renderElement(S),t.emitQRCodeURL(S)}).catch(O=>{console.error("[angularx-qrcode] img/url error:",O)})}}catch(r){console.error("[angularx-qrcode] Error generating QR Code:",r.message)}})()}emitQRCodeURL(t){const r=t.constructor.name;if(r===SVGSVGElement.name){const h=new Blob([t.outerHTML],{type:"image/svg+xml"}),g=URL.createObjectURL(h),w=this.sanitizer.bypassSecurityTrustUrl(g);return void this.qrCodeURL.emit(w)}let o="";r===HTMLCanvasElement.name&&(o=t.toDataURL("image/png")),r===HTMLImageElement.name&&(o=t.src),fetch(o).then(u=>u.blob()).then(u=>URL.createObjectURL(u)).then(u=>this.sanitizer.bypassSecurityTrustUrl(u)).then(u=>{this.qrCodeURL.emit(u)}).catch(u=>{console.error("[angularx-qrcode] Error when fetching image/png URL: "+u)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(qu))},n.\u0275cmp=c.Xpm({type:n,selectors:[["qrcode"]],viewQuery:function(t,r){if(1&t&&c.Gf(xe,7),2&t){let o;c.iGM(o=c.CRH())&&(r.qrcElement=o.first)}},inputs:{allowEmptyString:"allowEmptyString",colorDark:"colorDark",colorLight:"colorLight",cssClass:"cssClass",elementType:"elementType",errorCorrectionLevel:"errorCorrectionLevel",imageSrc:"imageSrc",imageHeight:"imageHeight",imageWidth:"imageWidth",margin:"margin",qrdata:"qrdata",scale:"scale",version:"version",width:"width",alt:"alt",ariaLabel:"ariaLabel",title:"title"},outputs:{qrCodeURL:"qrCodeURL"},features:[c.TTD],decls:2,vars:2,consts:[["qrcElement",""]],template:function(t,r){1&t&&c._UZ(0,"div",null,0),2&t&&c.Tol(r.cssClass)},encapsulation:2,changeDetection:0}),n})(),wn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[]}),n})();var Yt=R(8996),kn=R(3269);function yt(...n){const e=(0,kn.yG)(n);return(0,Yt.D)(n,e)}var Sr=R(7579);class Fi extends Sr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var qn=R(8306);const{isArray:Da}=Array,{getPrototypeOf:Ta,prototype:js,keys:Aa}=Object;function Ci(n){if(1===n.length){const e=n[0];if(Da(e))return{args:e,keys:null};if(function $o(n){return n&&"object"==typeof n&&Ta(n)===js}(e)){const t=Aa(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ho=R(4671),xt=R(4004);const{isArray:$l}=Array;function $s(n){return(0,xt.U)(e=>function lu(n,e){return $l(e)?n(...e):n(e)}(n,e))}function zu(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}var xr=R(5403),Wu=R(9672);function Hl(...n){const e=(0,kn.yG)(n),t=(0,kn.jO)(n),{args:r,keys:o}=Ci(n);if(0===r.length)return(0,Yt.D)([],e);const u=new qn.y(function td(n,e,t=Ho.y){return r=>{cu(e,()=>{const{length:o}=n,u=new Array(o);let h=o,g=o;for(let w=0;w<o;w++)cu(e,()=>{const S=(0,Yt.D)(n[w],e);let O=!1;S.subscribe((0,xr.x)(r,V=>{u[w]=V,O||(O=!0,g--),g||r.next(t(u.slice()))},()=>{--h||r.complete()}))},r)},r)}}(r,e,o?h=>zu(o,h):Ho.y));return t?u.pipe($s(t)):u}function cu(n,e,t){n?(0,Wu.f)(t,n,e):e()}var Mr=R(576);function gs(n,e){const t=(0,Mr.m)(n)?n:()=>n,r=o=>o.error(t());return new qn.y(e?o=>e.schedule(r,0,o):r)}const ms=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Sa=R(8189);function Go(...n){return function Zu(){return(0,Sa.J)(1)}()((0,Yt.D)(n,(0,kn.yG)(n)))}var Qr=R(8421);function po(n){return new qn.y(e=>{(0,Qr.Xf)(n()).subscribe(e)})}var es=R(515),Gl=R(727),Jn=R(4482);function qo(){return(0,Jn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,xr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,u=t;t=null,o&&(!u||o===u)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ch extends qn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Jn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Gl.w0;const t=this.getSubject();e.add(this.source.subscribe((0,xr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Gl.w0.EMPTY)}return e}refCount(){return qo()(this)}}function _r(n,e){return(0,Jn.e)((t,r)=>{let o=null,u=0,h=!1;const g=()=>h&&!o&&r.complete();t.subscribe((0,xr.x)(r,w=>{o?.unsubscribe();let S=0;const O=u++;(0,Qr.Xf)(n(w,O)).subscribe(o=(0,xr.x)(r,V=>r.next(e?e(w,V,O,S++):V),()=>{o=null,g()}))},()=>{h=!0,g()}))})}var tn=R(5698);function Ku(...n){const e=(0,kn.yG)(n);return(0,Jn.e)((t,r)=>{(e?Go(n,t,e):Go(n,t)).subscribe(r)})}function rd(n,e,t,r,o){return(u,h)=>{let g=t,w=e,S=0;u.subscribe((0,xr.x)(h,O=>{const V=S++;w=g?n(w,O,V):(g=!0,O),r&&h.next(w)},o&&(()=>{g&&h.next(w),h.complete()})))}}function du(n,e){return(0,Jn.e)(rd(n,e,arguments.length>=2,!0))}function li(n,e){return(0,Jn.e)((t,r)=>{let o=0;t.subscribe((0,xr.x)(r,u=>n.call(e,u,o++)&&r.next(u)))})}function zo(n){return(0,Jn.e)((e,t)=>{let u,r=null,o=!1;r=e.subscribe((0,xr.x)(t,void 0,void 0,h=>{u=(0,Qr.Xf)(n(h,zo(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,u.subscribe(t))})}var wr=R(5577);function Yu(n,e){return(0,Mr.m)(e)?(0,wr.z)(n,e,1):(0,wr.z)(n,1)}function Hs(n){return n<=0?()=>es.E:(0,Jn.e)((e,t)=>{let r=[];e.subscribe((0,xr.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Ih(n=Dh){return(0,Jn.e)((e,t)=>{let r=!1;e.subscribe((0,xr.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function Dh(){return new ms}function Xn(n){return(0,Jn.e)((e,t)=>{let r=!1;e.subscribe((0,xr.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function Jr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?li((o,u)=>n(o,u,r)):Ho.y,(0,tn.q)(1),t?Xn(e):Ih(()=>new ms))}var fr=R(8505);function ql(n){return(0,xt.U)(()=>n)}function Rr(n){return(0,Jn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}class pr{constructor(e,t){this.id=e,this.url=t}}class Li extends pr{constructor(e,t,r="imperative",o=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vi extends pr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class go extends pr{constructor(e,t,r){super(e,t),this.reason=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qu extends pr{constructor(e,t,r){super(e,t),this.error=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zl extends pr{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hu extends pr{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wp extends pr{constructor(e,t,r,o,u){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gm extends pr{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Th extends pr{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xr{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wl{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ii{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ah{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ju{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zl{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mo{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Lt="primary";class bp{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Wo(n){return new bp(n)}const Zo="ngNavigationCancelingError";function yo(n){const e=Error("NavigationCancelingError: "+n);return e[Zo]=!0,e}function Ma(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let u=0;u<r.length;u++){const h=r[u],g=n[u];if(h.startsWith(":"))o[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function x(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let u=0;u<t.length;u++)if(o=t[u],!F(n[o],e[o]))return!1;return!0}function F(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,u)=>r[u]===o)}return n===e}function Y(n){return Array.prototype.concat.apply([],n)}function ge(n){return n.length>0?n[n.length-1]:null}function Ue(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function rt(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,Yt.D)(Promise.resolve(n)):yt(n)}const ft={exact:function Ln(n,e,t){if(!Ko(n.segments,e.segments)||!Di(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Ln(n.children[r],e.children[r],t))return!1;return!0},subset:fu},rn={exact:function Hr(n,e){return x(n,e)},subset:function Ra(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>F(n[t],e[t]))},ignored:()=>!0};function jt(n,e,t){return ft[t.paths](n.root,e.root,t.matrixParams)&&rn[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function fu(n,e,t){return vo(n,e,e.segments,t)}function vo(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Ko(o,t)||e.hasChildren()||!Di(o,t,r))}if(n.segments.length===t.length){if(!Ko(n.segments,t)||!Di(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!fu(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Ko(n.segments,o)&&Di(n.segments,o,r)&&n.children[Lt])&&vo(n.children[Lt],e,u,r)}}function Di(n,e,t){return e.every((r,o)=>rn[t](n[o].parameters,r.parameters))}class Pr{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wo(this.queryParams)),this._queryParamMap}toString(){return zm.serialize(this)}}class Qt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ue(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return el(this)}}class _o{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Wo(this.parameters)),this._parameterMap}toString(){return Cp(this)}}function Ko(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Kl{}class Sh{parse(e){const t=new v0(e);return new Pr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${wo(e.root,!0)}`,r=function Km(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${Yl(t)}=${Yl(o)}`).join("&"):`${Yl(t)}=${Yl(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function m0(n){return encodeURI(n)}(e.fragment)}`:""}`}}const zm=new Sh;function el(n){return n.segments.map(e=>Cp(e)).join("/")}function wo(n,e){if(!n.hasChildren())return el(n);if(e){const t=n.children[Lt]?wo(n.children[Lt],!1):"",r=[];return Ue(n.children,(o,u)=>{u!==Lt&&r.push(`${u}:${wo(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function pu(n,e){let t=[];return Ue(n.children,(r,o)=>{o===Lt&&(t=t.concat(e(r,o)))}),Ue(n.children,(r,o)=>{o!==Lt&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===Lt?[wo(n.children[Lt],!1)]:[`${o}:${wo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Lt]?`${el(n)}/${t[0]}`:`${el(n)}/(${t.join("//")})`}}function tl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yl(n){return tl(n).replace(/%3B/gi,";")}function gu(n){return tl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function id(n){return decodeURIComponent(n)}function Wm(n){return id(n.replace(/\+/g,"%20"))}function Cp(n){return`${gu(n.path)}${function Zm(n){return Object.keys(n).map(e=>`;${gu(e)}=${gu(n[e])}`).join("")}(n.parameters)}`}const sd=/^[^\/()?;=#]+/;function Ql(n){const e=n.match(sd);return e?e[0]:""}const Ym=/^[^=?&#]+/,y0=/^[^&#]+/;class v0{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Lt]=new Qt(e,t)),r}parseSegment(){const e=Ql(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new _o(id(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ql(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Ql(this.remaining);o&&(r=o,this.capture(r))}e[id(t)]=id(r)}parseQueryParam(e){const t=function od(n){const e=n.match(Ym);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function Ip(n){const e=n.match(y0);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const o=Wm(t),u=Wm(r);if(e.hasOwnProperty(o)){let h=e[o];Array.isArray(h)||(h=[h],e[o]=h),h.push(u)}else e[o]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ql(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Lt);const h=this.parseChildren();t[u]=1===Object.keys(h).length?h[Lt]:new Qt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Jl{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Xl(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Xl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Yo(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Yo(e,this._root).map(t=>t.value)}}function Xl(n,e){if(n===e.value)return e;for(const t of e.children){const r=Xl(n,t);if(r)return r}return null}function Yo(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Yo(n,t);if(r.length)return r.unshift(e),r}return[]}class Qo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function nl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Qm extends Jl{constructor(e,t){super(e),this.snapshot=t,rc(this,e)}toString(){return this.snapshot.toString()}}function ec(n,e){const t=function tc(n,e){const h=new Gs([],{},{},"",{},Lt,e,null,n.root,-1,{});return new Tp("",new Qo(h,[]))}(n,e),r=new Fi([new _o("",{})]),o=new Fi({}),u=new Fi({}),h=new Fi({}),g=new Fi(""),w=new Pa(r,o,h,g,u,Lt,e,t.root);return w.snapshot=t.root,new Qm(new Qo(w,[]),t)}class Pa{constructor(e,t,r,o,u,h,g,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=g,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,xt.U)(e=>Wo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,xt.U)(e=>Wo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nc(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],u=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(u.component)break;r--}}return function Dp(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gs{constructor(e,t,r,o,u,h,g,w,S,O,V,de){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=u,this.outlet=h,this.component=g,this.routeConfig=w,this._urlSegment=S,this._lastPathIndex=O,this._correctedLastPathIndex=de??O,this._resolve=V}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Tp extends Jl{constructor(e,t){super(t),this.url=e,rc(this,t)}toString(){return Ap(this._root)}}function rc(n,e){e.value._routerState=n,e.children.forEach(t=>rc(n,t))}function Ap(n){const e=n.children.length>0?` { ${n.children.map(Ap).join(", ")} } `:"";return`${n.value}${e}`}function ad(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,x(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),x(e.params,t.params)||n.params.next(t.params),function D(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!x(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),x(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ud(n,e){const t=x(n.params,e.params)&&function qm(n,e){return Ko(n,e)&&n.every((t,r)=>x(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ud(n.parent,e.parent))}function bo(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function Sp(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return bo(n,r,o);return bo(n,r)})}(n,e,t);return new Qo(r,o)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const h=u.route;return h.value._futureSnapshot=e.value,h.children=e.children.map(g=>bo(n,g)),h}}const r=function Jm(n){return new Pa(new Fi(n.url),new Fi(n.params),new Fi(n.queryParams),new Fi(n.fragment),new Fi(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(u=>bo(n,u));return new Qo(r,o)}}function p(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function m(n){return"object"==typeof n&&null!=n&&n.outlets}function E(n,e,t,r,o){let u={};if(r&&Ue(r,(g,w)=>{u[w]=Array.isArray(g)?g.map(S=>`${S}`):`${g}`}),n===e)return new Pr(t,u,o);const h=N(n,e,t);return new Pr(h,u,o)}function N(n,e,t){const r={};return Ue(n.children,(o,u)=>{r[u]=o===e?t:N(o,e,t)}),new Qt(n.segments,r)}class j{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&p(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(m);if(o&&o!==ge(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class je{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Mn(n,e,t){if(n||(n=new Qt([],{})),0===n.segments.length&&n.hasChildren())return Ui(n,e,t);const r=function ei(n,e,t){let r=0,o=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return u;const h=n.segments[o],g=t[r];if(m(g))break;const w=`${g}`,S=r<t.length-1?t[r+1]:null;if(o>0&&void 0===w)break;if(w&&S&&"object"==typeof S&&void 0===S.outlets){if(!ld(w,S,h))return u;r+=2}else{if(!ld(w,{},h))return u;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Qt(n.segments.slice(0,r.pathIndex),{});return u.children[Lt]=new Qt(n.segments.slice(r.pathIndex),n.children),Ui(u,0,o)}return r.match&&0===o.length?new Qt(n.segments,{}):r.match&&!n.hasChildren()?Eo(n,e,t):r.match?Ui(n,0,o):Eo(n,e,t)}function Ui(n,e,t){if(0===t.length)return new Qt(n.segments,{});{const r=function Xt(n){return m(n[0])?n[0].outlets:{[Lt]:n}}(t),o={};return Ue(r,(u,h)=>{"string"==typeof u&&(u=[u]),null!==u&&(o[h]=Mn(n.children[h],e,u))}),Ue(n.children,(u,h)=>{void 0===r[h]&&(o[h]=u)}),new Qt(n.segments,o)}}function Eo(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const u=t[o];if(m(u)){const w=xh(u.outlets);return new Qt(r,w)}if(0===o&&p(t[0])){r.push(new _o(n.segments[e].path,ic(t[0]))),o++;continue}const h=m(u)?u.outlets[Lt]:`${u}`,g=o<t.length-1?t[o+1]:null;h&&g&&p(g)?(r.push(new _o(h,ic(g))),o+=2):(r.push(new _o(h,{})),o++)}return new Qt(r,{})}function xh(n){const e={};return Ue(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Eo(new Qt([],{}),0,t))}),e}function ic(n){const e={};return Ue(n,(t,r)=>e[r]=`${t}`),e}function ld(n,e,t){return n==t.path&&x(e,t.parameters)}class Xm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new rl,this.attachRef=null}}class rl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Xm,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Mh=(()=>{class n{constructor(t,r,o,u,h){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=o||Lt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=this.location,h=t._futureSnapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,w=new cd(t,g,o.injector);if(r&&function sc(n){return!!n.resolveComponentFactory}(r)){const S=r.resolveComponentFactory(h);this.activated=o.createComponent(S,o.length,w)}else this.activated=o.createComponent(h,{index:o.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(rl),c.Y36(c.s_b),c.$8M("name"),c.Y36(c.sBO),c.Y36(c.lqb))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class cd{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Pa?this.route:e===rl?this.childContexts:this.parent.get(e,t)}}let oc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Mh],encapsulation:2}),n})();function ey(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Mp(n){const e=n.children&&n.children.map(Mp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Lt&&(t.component=oc),t}function ys(n){return n.outlet||Lt}function w0(n,e){const t=n.filter(r=>ys(r)===e);return t.push(...n.filter(r=>ys(r)!==e)),t}function br(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class yC{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ad(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=nl(t);e.children.forEach(u=>{const h=u.value.outlet;this.deactivateRoutes(u,o[h],r),delete o[h]}),Ue(o,(u,h)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(o===u)if(o.component){const h=r.getContext(o.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=nl(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);if(r&&r.outlet){const h=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:h,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,u=nl(e);for(const h of Object.keys(u))this.deactivateRouteAndItsChildren(u[h],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=nl(t);e.children.forEach(u=>{this.activateRoutes(u,o[u.value.outlet],r),this.forwardEvent(new Zl(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Ah(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,u=t?t.value:null;if(ad(o),o===u)if(o.component){const h=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const h=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const g=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),ad(g.route.value),this.activateChildRoutes(e,null,h.children)}else{const g=br(o.snapshot),w=g?.get(c._Vd)??null;h.attachRef=null,h.route=o,h.resolver=w,h.injector=g,h.outlet&&h.outlet.activateWith(o,h.injector),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function Na(n){return"function"==typeof n}function ac(n){return n instanceof Pr}const Rp=Symbol("INITIAL_VALUE");function Pp(){return _r(n=>Hl(n.map(e=>e.pipe((0,tn.q)(1),Ku(Rp)))).pipe(du((e,t)=>{let r=!1;return t.reduce((o,u,h)=>o!==Rp?o:(u===Rp&&(r=!0),r||!1!==u&&h!==t.length-1&&!ac(u)?o:u),e)},Rp),li(e=>e!==Rp),(0,xt.U)(e=>ac(e)?e:!0===e),(0,tn.q)(1)))}const dd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hd(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...dd}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const o=(e.matcher||Ma)(t,n,e);if(!o)return{...dd};const u={};Ue(o.posParams,(g,w)=>{u[w]=g.path});const h=o.consumed.length>0?{...u,...o.consumed[o.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:h,positionalParamSegments:o.posParams??{}}}function Np(n,e,t,r,o="corrected"){if(t.length>0&&function E0(n,e,t){return t.some(r=>kp(n,e,r)&&ys(r)!==Lt)}(n,t,r)){const h=new Qt(e,function CC(n,e,t,r){const o={};o[Lt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&ys(u)!==Lt){const h=new Qt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[ys(u)]=h}return o}(n,e,r,new Qt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function IC(n,e,t){return t.some(r=>kp(n,e,r))}(n,t,r)){const h=new Qt(n.segments,function EC(n,e,t,r,o,u){const h={};for(const g of r)if(kp(n,t,g)&&!o[ys(g)]){const w=new Qt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,h[ys(g)]=w}return{...o,...h}}(n,e,t,r,n.children,o));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const u=new Qt(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function kp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Bi(n,e,t,r){return!!(ys(n)===r||r!==Lt&&kp(e,t,n))&&("**"===n.path||hd(e,n,t).matched)}function Op(n,e,t){return 0===e.length&&!n.children[t]}class Rh{constructor(e){this.segmentGroup=e||null}}class Fp{constructor(e){this.urlTree=e}}function Gr(n){return gs(new Rh(n))}function fd(n){return gs(new Fp(n))}class C0{constructor(e,t,r,o,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=u,this.allowRedirects=!0}apply(){const e=Np(this.urlTree.root,[],[],this.config).segmentGroup,t=new Qt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Lt).pipe((0,xt.U)(u=>this.createUrlTree(Vp(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(zo(u=>{if(u instanceof Fp)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Rh?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Lt).pipe((0,xt.U)(o=>this.createUrlTree(Vp(o),e.queryParams,e.fragment))).pipe(zo(o=>{throw o instanceof Rh?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Qt([],{[Lt]:e}):e;return new Pr(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,xt.U)(u=>new Qt([],u))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const u of Object.keys(r.children))"primary"===u?o.unshift(u):o.push(u);return(0,Yt.D)(o).pipe(Yu(u=>{const h=r.children[u],g=w0(t,u);return this.expandSegmentGroup(e,g,h,u).pipe((0,xt.U)(w=>({segment:w,outlet:u})))}),du((u,h)=>(u[h.outlet]=h.segment,u),{}),function xa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?li((o,u)=>n(o,u,r)):Ho.y,Hs(1),t?Xn(e):Ih(()=>new ms))}())}expandSegment(e,t,r,o,u,h){return(0,Yt.D)(r).pipe(Yu(g=>this.expandSegmentAgainstRoute(e,t,r,g,o,u,h).pipe(zo(S=>{if(S instanceof Rh)return yt(null);throw S}))),Jr(g=>!!g),zo((g,w)=>{if(g instanceof ms||"EmptyError"===g.name)return Op(t,o,u)?yt(new Qt([],{})):Gr(t);throw g}))}expandSegmentAgainstRoute(e,t,r,o,u,h,g){return Bi(o,t,u,h)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,u,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h):Gr(t):Gr(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?fd(u):this.lineralizeSegments(r,u).pipe((0,wr.z)(h=>{const g=new Qt(h,{});return this.expandSegment(e,g,t,h,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,u,h){const{matched:g,consumedSegments:w,remainingSegments:S,positionalParamSegments:O}=hd(t,o,u);if(!g)return Gr(t);const V=this.applyRedirectCommands(w,o.redirectTo,O);return o.redirectTo.startsWith("/")?fd(V):this.lineralizeSegments(o,V).pipe((0,wr.z)(de=>this.expandSegment(e,t,r,de.concat(S),h,!1)))}matchSegmentAgainstRoute(e,t,r,o,u){if("**"===r.path)return e=ey(r,e),r.loadChildren?(r._loadedRoutes?yt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,xt.U)(V=>(r._loadedRoutes=V.routes,r._loadedInjector=V.injector,new Qt(o,{})))):yt(new Qt(o,{}));const{matched:h,consumedSegments:g,remainingSegments:w}=hd(t,r,o);return h?(e=ey(r,e),this.getChildConfig(e,r,o).pipe((0,wr.z)(O=>{const V=O.injector??e,de=O.routes,{segmentGroup:be,slicedSegments:Me}=Np(t,g,w,de),nt=new Qt(be.segments,be.children);if(0===Me.length&&nt.hasChildren())return this.expandChildren(V,de,nt).pipe((0,xt.U)(mn=>new Qt(g,mn)));if(0===de.length&&0===Me.length)return yt(new Qt(g,{}));const _t=ys(r)===u;return this.expandSegment(V,nt,de,Me,_t?Lt:u,!0).pipe((0,xt.U)(dn=>new Qt(g.concat(dn.segments),dn.children)))}))):Gr(t)}getChildConfig(e,t,r){return t.children?yt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?yt({routes:t._loadedRoutes,injector:t._loadedInjector}):this.runCanLoadGuards(e,t,r).pipe((0,wr.z)(o=>o?this.configLoader.loadChildren(e,t).pipe((0,fr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function DC(n){return gs(yo(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):yt({routes:[],injector:e})}runCanLoadGuards(e,t,r){const o=t.canLoad;return o&&0!==o.length?yt(o.map(h=>{const g=e.get(h);let w;if(function vC(n){return n&&Na(n.canLoad)}(g))w=g.canLoad(t,r);else{if(!Na(g))throw new Error("Invalid CanLoad guard");w=g(t,r)}return rt(w)})).pipe(Pp(),(0,fr.b)(h=>{if(!ac(h))return;const g=yo(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,xt.U)(h=>!0===h)):yt(!0)}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return yt(r);if(o.numberOfChildren>1||!o.children[Lt])return gs(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[Lt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const u=this.createSegmentGroup(e,t.root,r,o);return new Pr(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ue(e,(o,u)=>{if("string"==typeof o&&o.startsWith(":")){const g=o.substring(1);r[u]=t[g]}else r[u]=o}),r}createSegmentGroup(e,t,r,o){const u=this.createSegments(e,t.segments,r,o);let h={};return Ue(t.children,(g,w)=>{h[w]=this.createSegmentGroup(e,g,r,o)}),new Qt(u,h)}createSegments(e,t,r,o){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,o):this.findOrReturn(u,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Vp(n){const e={};for(const r of Object.keys(n.children)){const u=Vp(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function AC(n){if(1===n.numberOfChildren&&n.children[Lt]){const e=n.children[Lt];return new Qt(n.segments.concat(e.segments),e.children)}return n}(new Qt(n.segments,e))}class iy{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Up{constructor(e,t){this.component=e,this.route=t}}function xC(n,e,t){const r=n._root;return Ph(r,e?e._root:null,t,[r.value])}function Bp(n,e,t){return(br(e)??t).get(n)}function Ph(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=nl(e);return n.children.forEach(h=>{(function oy(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,h=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(h&&u.routeConfig===h.routeConfig){const w=function MC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ko(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ko(n.url,e.url)||!x(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ud(n,e)||!x(n.queryParams,e.queryParams);default:return!ud(n,e)}}(h,u,u.routeConfig.runGuardsAndResolvers);w?o.canActivateChecks.push(new iy(r)):(u.data=h.data,u._resolvedData=h._resolvedData),Ph(n,e,u.component?g?g.children:null:t,r,o),w&&g&&g.outlet&&g.outlet.isActivated&&o.canDeactivateChecks.push(new Up(g.outlet.component,h))}else h&&Nh(e,g,o),o.canActivateChecks.push(new iy(r)),Ph(n,null,u.component?g?g.children:null:t,r,o)})(h,u[h.value.outlet],t,r.concat([h.value]),o),delete u[h.value.outlet]}),Ue(u,(h,g)=>Nh(h,t.getContext(g),o)),o}function Nh(n,e,t){const r=nl(n),o=n.value;Ue(r,(u,h)=>{Nh(u,o.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Up(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class LC{}function T0(n){return new qn.y(e=>e.error(n))}class UC{constructor(e,t,r,o,u,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h}recognize(){const e=Np(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Lt);if(null===t)return null;const r=new Gs([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Qo(r,t),u=new Tp(this.url,o);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=nc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const h=t.children[u],g=w0(e,u),w=this.processSegmentGroup(g,h,u);if(null===w)return null;r.push(...w)}const o=ka(r);return function BC(n){n.sort((e,t)=>e.value.outlet===Lt?-1:t.value.outlet===Lt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const u of e){const h=this.processSegmentAgainstRoute(u,t,r,o);if(null!==h)return h}return Op(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!Bi(e,t,r,o))return null;let u,h=[],g=[];if("**"===e.path){const be=r.length>0?ge(r).parameters:{},Me=HC(t)+r.length;u=new Gs(r,be,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GC(e),ys(e),e.component??e._loadedComponent??null,e,$C(t),Me,Xo(e),Me)}else{const be=hd(t,e,r);if(!be.matched)return null;h=be.consumedSegments,g=be.remainingSegments;const Me=HC(t)+h.length;u=new Gs(h,be.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GC(e),ys(e),e.component??e._loadedComponent??null,e,$C(t),Me,Xo(e),Me)}const w=function jC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:S,slicedSegments:O}=Np(t,h,g,w.filter(be=>void 0===be.redirectTo),this.relativeLinkResolution);if(0===O.length&&S.hasChildren()){const be=this.processChildren(w,S);return null===be?null:[new Qo(u,be)]}if(0===w.length&&0===O.length)return[new Qo(u,[])];const V=ys(e)===o,de=this.processSegment(w,S,O,V?Lt:o);return null===de?null:[new Qo(u,de)]}}function pd(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ka(n){const e=[],t=new Set;for(const r of n){if(!pd(r)){e.push(r);continue}const o=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=ka(r.children);e.push(new Qo(r.value,o))}return e.filter(r=>!t.has(r))}function $C(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function HC(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function GC(n){return n.data||{}}function Xo(n){return n.resolve||{}}const Oh=Symbol("RouteTitle");function jp(n){return"string"==typeof n.title||null===n.title}function gd(n){return _r(e=>{const t=n(e);return t?(0,Yt.D)(t).pipe((0,xt.U)(()=>e)):yt(e)})}class md extends class LA{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Hp=new c.OlP("ROUTES");let ly=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return yt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=rt(t.loadComponent()).pipe((0,fr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Rr(()=>{this.componentLoaders.delete(t)})),o=new Ch(r,()=>new Sr.x).pipe(qo());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return yt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,xt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,S,O=!1;Array.isArray(g)?S=g:(w=g.create(t).injector,S=Y(w.get(Hp,[],c.XFs.Self|c.XFs.Optional)));return{routes:S.map(Mp),injector:w}}),Rr(()=>{this.childrenLoaders.delete(r)})),h=new Ch(u,()=>new Sr.x).pipe(qo());return this.childrenLoaders.set(r,h),h}loadModuleFactoryOrRoutes(t){return rt(t()).pipe((0,wr.z)(r=>r instanceof c.YKP||Array.isArray(r)?yt(r):(0,Yt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class zC{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function ZC(n){throw n}function KC(n,e,t){return e.parse("/")}function R0(n,e){return yt(null)}const YC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},P0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{class n{constructor(t,r,o,u,h,g,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Sr.x,this.errorHandler=ZC,this.malformedUriErrorHandler=KC,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:R0,afterPreactivation:R0},this.urlHandlingStrategy=new zC,this.routeReuseStrategy=new md,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=h.get(ly),this.configLoader.onLoadEndListener=de=>this.triggerEvent(new Wl(de)),this.configLoader.onLoadStartListener=de=>this.triggerEvent(new Xr(de)),this.ngModule=h.get(c.h0i),this.console=h.get(c.c2e);const V=h.get(c.R0b);this.isNgZoneEnabled=V instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function Vt(){return new Pr(new Qt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ec(this.currentUrlTree,this.rootComponentType),this.transitions=new Fi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(li(o=>0!==o.id),(0,xt.U)(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),_r(o=>{let u=!1,h=!1;return yt(o).pipe((0,fr.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_r(g=>{const w=this.browserUrlTree.toString(),S=!this.navigated||g.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||S)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return Gp(g.source)&&(this.browserUrlTree=g.extractedUrl),yt(g).pipe(_r(V=>{const de=this.transitions.getValue();return r.next(new Li(V.id,this.serializeUrl(V.extractedUrl),V.source,V.restoredState)),de!==this.transitions.getValue()?es.E:Promise.resolve(V)}),function SC(n,e,t,r){return _r(o=>function TC(n,e,t,r,o){return new C0(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,xt.U)(u=>({...o,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fr.b)(V=>{this.currentNavigation={...this.currentNavigation,finalUrl:V.urlAfterRedirects}}),function uy(n,e,t,r,o){return(0,wr.z)(u=>function VC(n,e,t,r,o="emptyOnly",u="legacy"){try{const h=new UC(n,e,t,r,o,u).recognize();return null===h?T0(new LC):yt(h)}catch(h){return T0(h)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,o).pipe((0,xt.U)(h=>({...u,targetSnapshot:h}))))}(this.rootComponentType,this.config,V=>this.serializeUrl(V),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fr.b)(V=>{if("eager"===this.urlUpdateStrategy){if(!V.extras.skipLocationChange){const be=this.urlHandlingStrategy.merge(V.urlAfterRedirects,V.rawUrl);this.setBrowserUrl(be,V)}this.browserUrlTree=V.urlAfterRedirects}const de=new zl(V.id,this.serializeUrl(V.extractedUrl),this.serializeUrl(V.urlAfterRedirects),V.targetSnapshot);r.next(de)}));if(S&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:de,extractedUrl:be,source:Me,restoredState:nt,extras:_t}=g,cn=new Li(de,this.serializeUrl(be),Me,nt);r.next(cn);const dn=ec(be,this.rootComponentType).snapshot;return yt({...g,targetSnapshot:dn,urlAfterRedirects:be,extras:{..._t,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=g.rawUrl,g.resolve(null),es.E}),gd(g=>{const{targetSnapshot:w,id:S,extractedUrl:O,rawUrl:V,extras:{skipLocationChange:de,replaceUrl:be}}=g;return this.hooks.beforePreactivation(w,{navigationId:S,appliedUrlTree:O,rawUrlTree:V,skipLocationChange:!!de,replaceUrl:!!be})}),(0,fr.b)(g=>{const w=new hu(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(w)}),(0,xt.U)(g=>({...g,guards:xC(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function kh(n,e){return(0,wr.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:u,canDeactivateChecks:h}}=t;return 0===h.length&&0===u.length?yt({...t,guardsResult:!0}):function RC(n,e,t,r){return(0,Yt.D)(n).pipe((0,wr.z)(o=>function FC(n,e,t,r,o){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?yt(u.map(g=>{const w=Bp(g,e,o);let S;if(function bC(n){return n&&Na(n.canDeactivate)}(w))S=rt(w.canDeactivate(n,e,t,r));else{if(!Na(w))throw new Error("Invalid CanDeactivate guard");S=rt(w(n,e,t,r))}return S.pipe(Jr())})).pipe(Pp()):yt(!0)}(o.component,o.route,t,e,r)),Jr(o=>!0!==o,!0))}(h,r,o,n).pipe((0,wr.z)(g=>g&&function b0(n){return"boolean"==typeof n}(g)?function PC(n,e,t,r){return(0,Yt.D)(e).pipe(Yu(o=>Go(function kC(n,e){return null!==n&&e&&e(new Ii(n)),yt(!0)}(o.route.parent,r),function NC(n,e){return null!==n&&e&&e(new Ju(n)),yt(!0)}(o.route,r),function I0(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(h=>function sy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>po(()=>yt(h.guards.map(w=>{const S=Bp(w,h.node,t);let O;if(function wC(n){return n&&Na(n.canActivateChild)}(S))O=rt(S.canActivateChild(r,n));else{if(!Na(S))throw new Error("Invalid CanActivateChild guard");O=rt(S(r,n))}return O.pipe(Jr())})).pipe(Pp())));return yt(u).pipe(Pp())}(n,o.path,t),function OC(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return yt(!0);const o=r.map(u=>po(()=>{const h=Bp(u,e,t);let g;if(function _C(n){return n&&Na(n.canActivate)}(h))g=rt(h.canActivate(e,n));else{if(!Na(h))throw new Error("Invalid CanActivate guard");g=rt(h(e,n))}return g.pipe(Jr())}));return yt(o).pipe(Pp())}(n,o.route,t))),Jr(o=>!0!==o,!0))}(r,u,n,e):yt(g)),(0,xt.U)(g=>({...t,guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,fr.b)(g=>{if(ac(g.guardsResult)){const S=yo(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw S.url=g.guardsResult,S}const w=new wp(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(w)}),li(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),gd(g=>{if(g.guards.canActivateChecks.length)return yt(g).pipe((0,fr.b)(w=>{const S=new Gm(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}),_r(w=>{let S=!1;return yt(w).pipe(function qC(n,e){return(0,wr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return yt(t);let u=0;return(0,Yt.D)(o).pipe(Yu(h=>function A0(n,e,t,r){const o=n.routeConfig,u=n._resolve;return void 0!==o?.title&&!jp(o)&&(u[Oh]=o.title),function Fh(n,e,t,r){const o=function S0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===o.length)return yt({});const u={};return(0,Yt.D)(o).pipe((0,wr.z)(h=>function x0(n,e,t,r){const o=Bp(n,e,r);return rt(o.resolve?o.resolve(e,t):o(e,t))}(n[h],e,t,r).pipe(Jr(),(0,fr.b)(g=>{u[h]=g}))),Hs(1),ql(u),zo(h=>h instanceof ms?es.E:gs(h)))}(u,n,e,r).pipe((0,xt.U)(h=>(n._resolvedData=h,n.data=nc(n,t).resolve,o&&jp(o)&&(n.data[Oh]=o.title),null)))}(h.route,r,n,e)),(0,fr.b)(()=>u++),Hs(1),(0,wr.z)(h=>u===o.length?yt(t):es.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,fr.b)(w=>{const S=new Th(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(S)}))}),gd(g=>{const{targetSnapshot:w,id:S,extractedUrl:O,rawUrl:V,extras:{skipLocationChange:de,replaceUrl:be}}=g;return this.hooks.afterPreactivation(w,{navigationId:S,appliedUrlTree:O,rawUrlTree:V,skipLocationChange:!!de,replaceUrl:!!be})}),gd(g=>{const w=S=>{const O=[];S.routeConfig?.loadComponent&&!S.routeConfig._loadedComponent&&O.push(this.configLoader.loadComponent(S.routeConfig).pipe((0,fr.b)(V=>{S.component=V}),(0,xt.U)(()=>{})));for(const V of S.children)O.push(...w(V));return O};return Hl(w(g.targetSnapshot.root)).pipe(Xn(),(0,tn.q)(1))}),(0,xt.U)(g=>{const w=function Jo(n,e,t){const r=bo(n,e._root,t?t._root:void 0);return new Qm(r,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return{...g,targetRouterState:w}}),(0,fr.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((n,e,t)=>(0,xt.U)(r=>(new yC(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,fr.b)({next(){u=!0},complete(){u=!0}}),Rr(()=>{u||h||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),zo(g=>{if(h=!0,function Ep(n){return n&&n[Zo]}(g)){const w=ac(g.url);w||(this.navigated=!0,this.restoreHistory(o,!0));const S=new go(o.id,this.serializeUrl(o.extractedUrl),g.message);if(r.next(S),w){const O=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),V={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Gp(o.source)};this.scheduleNavigation(O,"imperative",null,V,{resolve:o.resolve,reject:o.reject,promise:o.promise})}else o.resolve(!1)}else{this.restoreHistory(o,!0);const w=new Qu(o.id,this.serializeUrl(o.extractedUrl),g);r.next(w);try{o.resolve(this.errorHandler(g))}catch(S){o.reject(S)}}return es.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const o={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const g={...u};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(o.state=g)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,u,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Mp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:u,fragment:h,queryParamsHandling:g,preserveFragment:w}=r,S=o||this.routerState.root,O=w?this.currentUrlTree.fragment:h;let V=null;switch(g){case"merge":V={...this.currentUrlTree.queryParams,...u};break;case"preserve":V=this.currentUrlTree.queryParams;break;default:V=u||null}return null!==V&&(V=this.removeEmptyProps(V)),function v(n,e,t,r,o){if(0===t.length)return E(e.root,e.root,e.root,r,o);const u=function we(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new j(!0,0,n);let e=0,t=!1;const r=n.reduce((o,u,h)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Ue(u.outlets,(w,S)=>{g[S]="string"==typeof w?w.split("/"):w}),[...o,{outlets:g}]}if(u.segmentPath)return[...o,u.segmentPath]}return"string"!=typeof u?[...o,u]:0===h?(u.split("/").forEach((g,w)=>{0==w&&"."===g||(0==w&&""===g?t=!0:".."===g?e++:""!=g&&o.push(g))}),o):[...o,u]},[]);return new j(t,e,r)}(t);return u.toRoot()?E(e.root,e.root,new Qt([],{}),r,o):function h(w){const S=function ct(n,e,t,r){return n.isAbsolute?new je(e.root,!0,0):-1===r?new je(t,t===e.root,0):function Dt(n,e,t){let r=n,o=e,u=t;for(;u>o;){if(u-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new je(r,!1,o-u)}(t,r+(p(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),O=S.processChildren?Ui(S.segmentGroup,S.index,u.commands):Mn(S.segmentGroup,S.index,u.commands);return E(e.root,S.segmentGroup,O,r,o)}(n.snapshot?._lastPathIndex)}(S,this.currentUrlTree,t,V,O??null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=ac(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function N0(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?{...YC}:!1===r?{...P0}:r,ac(t))return jt(this.currentUrlTree,t,o);const u=this.parseUrl(t);return jt(this.currentUrlTree,u,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const u=t[o];return null!=u&&(r[o]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Vi(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,u,h){if(this.disposed)return Promise.resolve(!1);let g,w,S;h?(g=h.resolve,w=h.reject,S=h.promise):S=new Promise((de,be)=>{g=de,w=be});const O=++this.navigationId;let V;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),V=o&&o.\u0275routerPageId?o.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):V=0,this.setTransition({id:O,targetPageId:V,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:g,reject:w,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(de=>Promise.reject(de))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",u):this.location.go(o,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===o?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new go(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Gp(n){return"imperative"!==n}let uc=(()=>{class n{constructor(t,r,o,u,h){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=u,this.el=h,this.commands=null,this.onChanges=new Sr.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:(0,c.D6c)(this.skipLocationChange),replaceUrl:(0,c.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,c.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nr),c.Y36(Pa),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),lc=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new Sr.x,this.subscription=t.events.subscribe(u=>{u instanceof Vi&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,u,h){if(0!==t||r||o||u||h||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const g={skipLocationChange:(0,c.D6c)(this.skipLocationChange),replaceUrl:(0,c.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,c.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nr),c.Y36(Pa),c.Y36(he))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();class il{buildTitle(e){let t,r=e.root;for(;void 0!==r;)t=this.getResolvedTitleForRoute(r)??t,r=r.children.find(o=>o.outlet===Lt);return t}getResolvedTitleForRoute(e){return e.data[Oh]}}let F0=(()=>{class n extends il{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Hu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dy{}class hy{preload(e,t){return yt(null)}}let Lh=(()=>{class n{constructor(t,r,o,u,h){this.router=t,this.injector=o,this.preloadingStrategy=u,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(li(t=>t instanceof Vi),Yu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,t,`Route: ${u.path}`));const h=u._injector??t,g=u._loadedInjector??h;u.loadChildren&&!u._loadedRoutes||u.loadComponent&&!u._loadedComponent?o.push(this.preloadConfig(h,u)):(u.children||u._loadedRoutes)&&o.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,Yt.D)(o).pipe((0,Sa.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;o=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):yt(null);const u=o.pipe((0,wr.z)(h=>null===h?yt(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??t,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,Yt.D)([u,h]).pipe((0,Sa.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nr),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(dy),c.LFG(ly))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),fy=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Li?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vi&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof mo&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new mo(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const sl=new c.OlP("ROUTER_CONFIGURATION"),py=new c.OlP("ROUTER_FORROOT_GUARD"),gy=[Fe,{provide:Kl,useClass:Sh},{provide:Nr,useFactory:function vy(n,e,t,r,o,u,h={},g,w,S,O){const V=new Nr(null,n,e,t,r,o,Y(u));return S&&(V.urlHandlingStrategy=S),O&&(V.routeReuseStrategy=O),V.titleStrategy=w??g,function Uh(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(h,V),V},deps:[Kl,rl,Fe,c.zs3,c.Sil,Hp,sl,F0,[il,new c.FiY],[class cy{},new c.FiY],[class M0{},new c.FiY]]},rl,{provide:Pa,useFactory:function XC(n){return n.routerState.root},deps:[Nr]},Lh,hy,class QC{preload(e,t){return t().pipe(zo(()=>yt(null)))}},{provide:sl,useValue:{enableTracing:!1}},ly];function L0(){return new c.PXZ("Router",Nr)}let Vh=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[gy,yy(t),{provide:py,useFactory:my,deps:[[Nr,new c.FiY,new c.tp0]]},{provide:sl,useValue:r||{}},{provide:he,useFactory:V0,deps:[z,[new c.tBr(ke),new c.FiY],sl]},{provide:fy,useFactory:qp,deps:[Nr,wa,sl]},{provide:dy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:hy},{provide:c.PXZ,multi:!0,useFactory:L0},[zp,{provide:c.ip1,multi:!0,useFactory:eI,deps:[zp]},{provide:_y,useFactory:tI,deps:[zp]},{provide:c.tb,multi:!0,useExisting:_y}]]}}static forChild(t){return{ngModule:n,providers:[yy(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(py,8),c.LFG(Nr,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function qp(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new fy(n,e,t)}function V0(n,e,t={}){return t.useHash?new Pe(n,e):new Ne(n,e)}function my(n){return"guarded"}function yy(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Hp,multi:!0,useValue:n}]}let zp=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Sr.x}appInitializer(){return this.injector.get(G,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(g=>r=g),u=this.injector.get(Nr),h=this.injector.get(sl);return"disabled"===h.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabledBlocking"===h.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?yt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(sl),o=this.injector.get(Lh),u=this.injector.get(fy),h=this.injector.get(Nr),g=this.injector.get(c.z2F);t===g.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),o.setUpPreloading(),u.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function eI(n){return n.appInitializer.bind(n)}function tI(n){return n.bootstrapListener.bind(n)}const _y=new c.OlP("Router Initializer");let by=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),cc=(()=>{class n extends by{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const ea=new c.OlP("NgValueAccessor"),ta={provide:ea,useExisting:(0,c.Gpc)(()=>dc),multi:!0},B0=new c.OlP("CompositionEventMode");let dc=(()=>{class n extends by{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iI(){const n=A()?A().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(B0,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([ta]),c.qOj]}),n})();function ol(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function j0(n){return null!=n&&"number"==typeof n.length}const ji=new c.OlP("NgValidators"),mu=new c.OlP("NgAsyncValidators"),sI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class $i{static min(e){return function $0(n){return e=>{if(ol(e.value)||ol(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function zt(n){return e=>{if(ol(e.value)||ol(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Ey(n){return ol(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Cy(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Iy(n){return ol(n.value)||sI.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function H0(n){return e=>ol(e.value)||!j0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function G0(n){return e=>j0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Dy(n){if(!n)return Wp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ol(r.value))return null;const o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}(e)}static nullValidator(e){return null}static compose(e){return Z0(e)}static composeAsync(e){return Sy(e)}}function Wp(n){return null}function Ty(n){return null!=n}function q0(n){const e=(0,c.QGY)(n)?(0,Yt.D)(n):n;return(0,c.CqO)(e),e}function z0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function oI(n,e){return e.map(t=>t(n))}function Ay(n){return n.map(e=>function W0(n){return!n.validate}(e)?e:t=>e.validate(t))}function Z0(n){if(!n)return null;const e=n.filter(Ty);return 0==e.length?null:function(t){return z0(oI(t,e))}}function Zp(n){return null!=n?Z0(Ay(n)):null}function Sy(n){if(!n)return null;const e=n.filter(Ty);return 0==e.length?null:function(t){return function VA(...n){const e=(0,kn.jO)(n),{args:t,keys:r}=Ci(n),o=new qn.y(u=>{const{length:h}=t;if(!h)return void u.complete();const g=new Array(h);let w=h,S=h;for(let O=0;O<h;O++){let V=!1;(0,Qr.Xf)(t[O]).subscribe((0,xr.x)(u,de=>{V||(V=!0,S--),g[O]=de},()=>w--,void 0,()=>{(!w||!V)&&(S||u.next(r?zu(r,g):g),u.complete())}))}});return e?o.pipe($s(e)):o}(oI(t,e).map(q0)).pipe((0,xt.U)(z0))}}function Bh(n){return null!=n?Sy(Ay(n)):null}function aI(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function K0(n){return n._rawValidators}function Kp(n){return n._rawAsyncValidators}function Yp(n){return n?Array.isArray(n)?n:[n]:[]}function jh(n,e){return Array.isArray(n)?n.includes(e):n===e}function al(n,e){const t=Yp(e);return Yp(n).forEach(o=>{jh(t,o)||t.push(o)}),t}function Y0(n,e){return Yp(e).filter(t=>!jh(n,t))}class Qp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Zp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Bh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Hi extends Qp{get formDirective(){return null}get path(){return null}}class Oa extends Qp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class $h{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let hc=(()=>{class n extends $h{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Oa,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),Fa=(()=>{class n extends $h{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Hi,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const Xp="VALID",Ny="INVALID",Gh="PENDING",qh="DISABLED";function eg(n){return(tg(n)?n.validators:n)||null}function dI(n){return Array.isArray(n)?Zp(n):n||null}function ky(n,e){return(tg(e)?e.asyncValidators:n)||null}function fc(n){return Array.isArray(n)?Bh(n):n||null}function tg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Oy(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")}function zh(n,e,t){n._forEachChild((r,o)=>{if(void 0===t[o])throw new c.vHH(1002,"")})}class ng{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=dI(this._rawValidators),this._composedAsyncValidatorFn=fc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Xp}get invalid(){return this.status===Ny}get pending(){return this.status==Gh}get disabled(){return this.status===qh}get enabled(){return this.status!==qh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=dI(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=fc(e)}addValidators(e){this.setValidators(al(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(al(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Y0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Y0(e,this._rawAsyncValidators))}hasValidator(e){return jh(this._rawValidators,e)}hasAsyncValidator(e){return jh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Xp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Xp||this.status===Gh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qh:Xp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gh,this._hasOwnPendingAsyncValidator=!0;const t=q0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?qh:this.errors?Ny:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gh)?Gh:this._anyControlsHaveStatus(Ny)?Ny:Xp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){tg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Wh extends ng{constructor(e,t,r){super(eg(t),ky(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){zh(this,0,e),Object.keys(e).forEach(r=>{Oy(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,u)=>{r=t(r,o,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function vd(n,e){Kh(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Ly(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pI(n,e)})}(n,e),function _d(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function fI(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pI(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tw(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ig(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Fy(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Zh(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Kh(n,e){const t=K0(n);null!==e.validator?n.setValidators(aI(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Kp(n);null!==e.asyncValidator?n.setAsyncValidators(aI(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();Zh(e._rawValidators,o),Zh(e._rawAsyncValidators,o)}function Fy(n,e){let t=!1;if(null!==n){if(null!==e.validator){const o=K0(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(h=>h!==e.validator);u.length!==o.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const o=Kp(n);if(Array.isArray(o)&&o.length>0){const u=o.filter(h=>h!==e.asyncValidator);u.length!==o.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Zh(e._rawValidators,r),Zh(e._rawAsyncValidators,r),t}function pI(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Qh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function ug(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const pc=class extends ng{constructor(e=null,t,r){super(eg(t),ky(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=ug(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Qh(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Qh(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){ug(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Jh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),yI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const aw=new c.OlP("NgModelWithFormControlWarning"),qy={provide:Hi,useExisting:(0,c.Gpc)(()=>gc)};let gc=(()=>{class n extends Hi{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fy(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return vd(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){ig(t.control||null,t,!1),function jy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function sg(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,o=this.form.get(t.path);r!==o&&(ig(r||null,t),(n=>n instanceof pc)(o)&&(vd(o,t),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Vy(n,e){Kh(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function nw(n,e){return Fy(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Kh(this.form,this),this._oldForm&&Fy(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ji,10),c.Y36(mu,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([qy]),c.qOj,c.TTD]}),n})();const ul={provide:Oa,useExisting:(0,c.Gpc)(()=>mc)};let mc=(()=>{class n extends Oa{constructor(t,r,o,u,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function og(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(u=>{u.constructor===dc?t=u:function yu(n){return Object.getPrototypeOf(n.constructor)===cc}(u)?r=u:o=u}),o||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Yh(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function rg(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Hi,13),c.Y36(ji,10),c.Y36(mu,10),c.Y36(ea,10),c.Y36(aw,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([ul]),c.qOj,c.TTD]}),n})(),TI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[yI]}),n})(),yw=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:aw,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[TI]}),n})();class vw extends ng{constructor(e,t,r){super(eg(t),ky(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){zh(this,0,e),e.forEach((r,o)=>{Oy(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function pg(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Jy=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const o=this._reduceControls(t);let g,u=null,h=null;return null!==r&&(pg(r)?(u=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,g=null!=r.updateOn?r.updateOn:void 0):(u=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new Wh(o,{asyncValidators:h,updateOn:g,validators:u})}control(t,r,o){let u={};return this.useNonNullable?(pg(r)?u=r:(u.validators=r,u.asyncValidators=o),new pc(t,{...u,nonNullable:!0})):new pc(t,r,o)}array(t,r,o){const u=t.map(h=>this._createControl(h));return new vw(u,r,o)}_reduceControls(t){const r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){return t instanceof pc||t instanceof ng?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:yw}),n})();var SI=R(5226),wc=R.n(SI),Xy=R(4986),In=R(5813);function ev(){return(0,Jn.e)((n,e)=>{let t,r=!1;n.subscribe((0,xr.x)(e,o=>{const u=t;t=o,r&&e.next([u,o]),r=!0}))})}function xI(n,e){return n===e}var pt,ia=R(2011),bw=(R(5881),R(3942)),_u=R(9681),qs=R(4859),La=R(1877),sn=R(2090),RI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},cl={},tv=tv||{},Wt=RI||self;function gg(){}function nf(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function rf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ed="closure_uid_"+(1e9*Math.random()>>>0),nv=0;function NI(n,e,t){return n.call.apply(n.bind,arguments)}function rv(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function ti(n,e,t){return(ti=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?NI:rv).apply(null,arguments)}function sf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Gi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,u){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[o].apply(r,h)}}function bc(){this.s=this.s,this.o=this.o}var cS={};bc.prototype.s=!1,bc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function PI(n){return Object.prototype.hasOwnProperty.call(n,Ed)&&n[Ed]||(n[Ed]=++nv)}(this);delete cS[n]}},bc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ew=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},sv=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in o&&e.call(t,o[u],u,n)};function ov(n){return Array.prototype.concat.apply([],arguments)}function mg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function of(n){return/^[\s\xa0]*$/.test(n)}var ts,Va=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function ci(n,e){return-1!=n.indexOf(e)}function av(n,e){return n<e?-1:n>e?1:0}e:{var kI=Wt.navigator;if(kI){var yg=kI.userAgent;if(yg){ts=yg;break e}}ts=""}function vg(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function uv(n){const e={};for(const t in n)e[t]=n[t];return e}var lv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cv(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let u=0;u<lv.length;u++)t=lv[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function dv(n){return dv[" "](n),n}dv[" "]=gg;var pv,n,FI=ci(ts,"Opera"),Cd=ci(ts,"Trident")||ci(ts,"MSIE"),hv=ci(ts,"Edge"),Iw=hv||Cd,fv=ci(ts,"Gecko")&&!(ci(ts.toLowerCase(),"webkit")&&!ci(ts,"Edge"))&&!(ci(ts,"Trident")||ci(ts,"MSIE"))&&!ci(ts,"Edge"),LI=ci(ts.toLowerCase(),"webkit")&&!ci(ts,"Edge");function Dw(){var n=Wt.document;return n?n.documentMode:void 0}e:{var Tw="",gv=(n=ts,fv?/rv:([^\);]+)(\)|;)/.exec(n):hv?/Edge\/([\d\.]+)/.exec(n):Cd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):LI?/WebKit\/(\S+)/.exec(n):FI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(gv&&(Tw=gv?gv[1]:""),Cd){var mv=Dw();if(null!=mv&&mv>parseFloat(Tw)){pv=String(mv);break e}}pv=Tw}var Aw={};var dS=Wt.document&&Cd&&(Dw()||parseInt(pv,10))||void 0,hS=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",gg,e),Wt.removeEventListener("test",gg,e)}catch{}return n}();function Ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Id(n,e){if(Ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(fv){e:{try{dv(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Mw[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Id.Z.h.call(this)}}Ti.prototype.h=function(){this.defaultPrevented=!0},Gi(Id,Ti);var Mw={2:"touch",3:"pen",4:"mouse"};Id.prototype.h=function(){Id.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var af="closure_listenable_"+(1e6*Math.random()|0),fS=0;function Rw(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++fS,this.ca=this.fa=!1}function Dd(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function _g(n){this.src=n,this.g={},this.h=0}function uf(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],o=Ew(r,e);(u=0<=o)&&Array.prototype.splice.call(r,o,1),u&&(Dd(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function yv(n,e,t,r){for(var o=0;o<n.length;++o){var u=n[o];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return o}return-1}_g.prototype.add=function(n,e,t,r,o){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var h=yv(n,e,r,o);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new Rw(e,this.src,u,!!r,o)).fa=t,n.push(e)),e};var vv="closure_lm_"+(1e6*Math.random()|0),_v={};function Pw(n,e,t,r,o){if(r&&r.once)return lf(n,e,t,r,o);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Pw(n,e[u],t,r,o);return null}return t=bv(t),n&&n[af]?n.N(e,t,rf(r)?!!r.capture:!!r,o):Nw(n,e,t,!1,r,o)}function Nw(n,e,t,r,o,u){if(!e)throw Error("Invalid event type");var h=rf(o)?!!o.capture:!!o,g=wv(n);if(g||(n[vv]=g=new _g(n)),(t=g.add(e,t,r,h,u)).proxy)return t;if(r=function VI(){var e=UI;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hS||(o=h),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(Td(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function lf(n,e,t,r,o){if(Array.isArray(e)){for(var u=0;u<e.length;u++)lf(n,e[u],t,r,o);return null}return t=bv(t),n&&n[af]?n.O(e,t,rf(r)?!!r.capture:!!r,o):Nw(n,e,t,!0,r,o)}function dl(n,e,t,r,o){if(Array.isArray(e))for(var u=0;u<e.length;u++)dl(n,e[u],t,r,o);else r=rf(r)?!!r.capture:!!r,t=bv(t),n&&n[af]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=yv(u=n.g[e],t,r,o))&&(Dd(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=wv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=yv(e,t,r,o)),(t=-1<n?e[n]:null)&&kw(t))}function kw(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[af])uf(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Td(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=wv(e))?(uf(t,n),0==t.h&&(t.src=null,e[vv]=null)):Dd(n)}}}function Td(n){return n in _v?_v[n]:_v[n]="on"+n}function UI(n,e){if(n.ca)n=!0;else{e=new Id(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&kw(n),n=t.call(r,e)}return n}function wv(n){return(n=n[vv])instanceof _g?n:null}var cf="__closure_events_fn_"+(1e9*Math.random()>>>0);function bv(n){return"function"==typeof n?n:(n[cf]||(n[cf]=function(e){return n.handleEvent(e)}),n[cf])}function Un(){bc.call(this),this.i=new _g(this),this.P=this,this.I=null}function kr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Ti(e,n);else if(e instanceof Ti)e.target=e.target||n;else{var o=e;cv(e=new Ti(r,n),o)}if(o=!0,t)for(var u=t.length-1;0<=u;u--){var h=e.g=t[u];o=ni(h,r,!0,e)&&o}if(o=ni(h=e.g=n,r,!0,e)&&o,o=ni(h,r,!1,e)&&o,t)for(u=0;u<t.length;u++)o=ni(h=e.g=t[u],r,!1,e)&&o}function ni(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,u=0;u<e.length;++u){var h=e[u];if(h&&!h.ca&&h.capture==t){var g=h.listener,w=h.ia||h.src;h.fa&&uf(n.i,h),o=!1!==g.call(w,r)&&o}}return o&&!r.defaultPrevented}Gi(Un,bc),Un.prototype[af]=!0,Un.prototype.removeEventListener=function(n,e,t,r){dl(this,n,e,t,r)},Un.prototype.M=function(){if(Un.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Dd(t[r]);delete n.g[e],n.h--}}this.I=null},Un.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Un.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wu=Wt.JSON.stringify;function wg(){var n=Ec;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var fl,bg=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Ad,n=>n.reset());class Ad{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Sd(n){Wt.setTimeout(()=>{throw n},0)}function hl(n,e){fl||function xd(){var n=Wt.Promise.resolve(void 0);fl=function(){n.then(Md)}}(),pl||(fl(),pl=!0),Ec.add(n,e)}var pl=!1,Ec=new class Do{constructor(){this.h=this.g=null}add(e,t){const r=bg.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function Md(){for(var n;n=wg();){try{n.h.call(n.g)}catch(t){Sd(t)}var e=bg;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}pl=!1}function bu(n,e){Un.call(this),this.h=n||1,this.g=e||Wt,this.j=ti(this.kb,this),this.l=Date.now()}function Eg(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Cg(n,e,t){if("function"==typeof n)t&&(n=ti(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ti(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function Ev(n){n.g=Cg(()=>{n.g=null,n.i&&(n.i=!1,Ev(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Gi(bu,Un),(pt=bu.prototype).da=!1,pt.S=null,pt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),kr(this,"tick"),this.da&&(Eg(this),this.start()))}},pt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},pt.M=function(){bu.Z.M.call(this),Eg(this),delete this.g};class Ow extends bc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ev(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rd(n){bc.call(this),this.h=n,this.g={}}Gi(Rd,bc);var Cv=[];function Iv(n,e,t,r){Array.isArray(t)||(t&&(Cv[0]=t.toString()),t=Cv);for(var o=0;o<t.length;o++){var u=Pw(e,t[o],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function Dv(n){vg(n.g,function(e,t){this.g.hasOwnProperty(t)&&kw(e)},n),n.g={}}function df(){this.g=!0}function Pd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Tv(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var u=o[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var h=1;h<o.length;h++)o[h]=""}}}return wu(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Rd.prototype.M=function(){Rd.Z.M.call(this),Dv(this)},Rd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},df.prototype.Aa=function(){this.g=!1},df.prototype.info=function(){};var Eu={},Ig=null;function Av(){return Ig=Ig||new Un}function jI(n){Ti.call(this,Eu.Ma,n)}function hf(n){const e=Av();kr(e,new jI(e,n))}function ff(n,e){Ti.call(this,Eu.STAT_EVENT,n),this.stat=e}function di(n){const e=Av();kr(e,new ff(e,n))}function Dg(n,e){Ti.call(this,Eu.Na,n),this.size=e}function Tg(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}Eu.Ma="serverreachability",Gi(jI,Ti),Eu.STAT_EVENT="statevent",Gi(ff,Ti),Eu.Na="timingevent",Gi(Dg,Ti);var Ag={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Sg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function pf(){}function xv(){}pf.prototype.h=null;var gf,Cc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xg(){Ti.call(this,"d")}function Mg(){Ti.call(this,"c")}function mf(){}function yf(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Rd(this),this.P=Vw,this.W=new bu(n=Iw?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Mv}function Mv(){this.i=null,this.g="",this.h=!1}Gi(xg,Ti),Gi(Mg,Ti),Gi(mf,pf),mf.prototype.g=function(){return new XMLHttpRequest},mf.prototype.i=function(){return{}},gf=new mf;var Vw=45e3,vf={},_f={};function Rv(n,e,t){n.K=1,n.v=Cf(Ua(e)),n.s=t,n.U=!0,Uw(n,null)}function Uw(n,e){n.F=Date.now(),Nd(n),n.A=Ua(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Ao(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Mv,n.g=Ac(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Ow(ti(n.Ia,n,n.g),n.O)),Iv(n.V,n.g,"readystatechange",n.gb),e=n.H?uv(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),hf(1),function BI(n,e,t,r,o,u){n.info(function(){if(n.g)if(u)for(var h="",g=u.split("&"),w=0;w<g.length;w++){var S=g[w].split("=");if(1<S.length){var O=S[0];S=S[1];var V=O.split("_");h=2<=V.length&&"type"==V[1]?h+(O+"=")+S+"&":h+(O+"=redacted&")}}else h=null;else h=u;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Bw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Rg(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Pv(n,t),o==_f){4==e&&(n.o=4,di(14),r=!1),Pd(n.j,n.m,null,"[Incomplete Response]");break}if(o==vf){n.o=4,di(15),Pd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Pd(n.j,n.m,o,null),Pg(n,o)}Bw(n)&&o!=_f&&o!=vf&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,di(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Hg(e),e.L=!0,di(11))):(Pd(n.j,n.m,t,"[Invalid Chunked Response]"),gl(n),kd(n))}function Pv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?_f:(t=Number(e.substring(t,r)),isNaN(t)?vf:(r+=1)+t>e.length?_f:(e=e.substr(r,t),n.C=r+t,e))}function Nd(n){n.Y=Date.now()+n.P,Nv(n,n.P)}function Nv(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Tg(ti(n.eb,n),e)}function wf(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function kd(n){0==n.l.G||n.I||Kv(n.l,n)}function gl(n){wf(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Eg(n.W),Dv(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Pg(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Tc(t.i,n)))if(t.I=n.N,!n.J&&Tc(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;Sf(t),Bg(t)}$g(t),di(18)}}else t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Tg(ti(t.ab,t),6e3));if(1>=Fg(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else zs(t,11)}else if((n.J||t.g==n)&&Sf(t),!of(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let S=o[e];if(t.U=S[0],S=S[1],2==t.G)if("c"==S[0]){t.J=S[1],t.la=S[2];const O=S[3];null!=O&&(t.ma=O,t.h.info("VER="+t.ma));const V=S[4];null!=V&&(t.za=V,t.h.info("SVER="+t.za));const de=S[5];null!=de&&"number"==typeof de&&0<de&&(t.K=r=1.5*de,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const be=n.g;if(be){const Me=be.g?be.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Me){var u=r.i;!u.g&&(ci(Me,"spdy")||ci(Me,"quic")||ci(Me,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Vv(u,u.h),u.h=null))}if(r.D){const nt=be.g?be.g.getResponseHeader("X-HTTP-Session-Id"):null;nt&&(r.sa=nt,tr(r.F,r.D,nt))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=ab(r,r.H?r.la:null,r.W),h.J){Uv(r.i,h);var g=h,w=r.K;w&&g.setTimeout(w),g.B&&(wf(g),Nd(g)),r.g=h}else Wv(r);0<t.l.length&&jg(t)}else"stop"!=S[0]&&"close"!=S[0]||zs(t,7);else 3==t.G&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?zs(t,7):Hv(t):"noop"!=S[0]&&t.j&&t.j.wa(S),t.A=0)}hf(4)}catch{}}function Ng(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(nf(n)||"string"==typeof n)sv(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(nf(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function jw(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(nf(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var u=0;u<o;u++)e.call(void 0,r[u],t&&t[u],n)}}function bf(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof bf)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function kv(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ic(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Ic(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Ic(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(pt=yf.prototype).setTimeout=function(n){this.P=n},pt.gb=function(n){n=n.target;const e=this.L;e&&3==Iu(n)?e.l():this.Ia(n)},pt.Ia=function(n){try{if(n==this.g)e:{const O=Iu(this.g);var e=this.g.Da();const V=this.g.ba();if(!(3>O)&&(3!=O||Iw||this.g&&(this.h.h||this.g.ga()||nb(this.g)))){this.I||4!=O||7==e||hf(8==e||0>=V?3:2),wf(this);var t=this.g.ba();this.N=t;t:if(Bw(this)){var r=nb(this.g);n="";var o=r.length,u=4==Iu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){gl(this),kd(this);var h="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function Fw(n,e,t,r,o,u,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+u+" "+h})}(this.j,this.u,this.A,this.m,this.X,O,t),this.i){if(this.$&&!this.J){t:{if(this.g){var g,w=this.g;if((g=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!of(g)){var S=g;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,di(12),gl(this),kd(this);break e}Pd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pg(this,t)}this.U?(Rg(this,O,h),Iw&&this.i&&3==O&&(Iv(this.V,this.W,"tick",this.fb),this.W.start())):(Pd(this.j,this.m,h,null),Pg(this,h)),4==O&&gl(this),this.i&&!this.I&&(4==O?Kv(this.l,this):(this.i=!1,Nd(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,di(12)):(this.o=0,di(13)),gl(this),kd(this)}}}catch{}},pt.fb=function(){if(this.g){var n=Iu(this.g),e=this.g.ga();this.C<e.length&&(wf(this),Rg(this,n,e),this.i&&4!=n&&Nd(this))}},pt.cancel=function(){this.I=!0,gl(this)},pt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Lw(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(hf(3),di(17)),gl(this),this.o=2,kd(this)):Nv(this,this.Y-n)},(pt=bf.prototype).R=function(){kv(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},pt.T=function(){return kv(this),this.g.concat()},pt.get=function(n,e){return Ic(this.h,n)?this.h[n]:e},pt.set=function(n,e){Ic(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},pt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],u=this.get(o);n.call(e,u,o,this)}};var Ov=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function er(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof er){this.g=void 0!==e?e:n.g,kg(this,n.j),this.s=n.s,Og(this,n.i),Ef(this,n.m),this.l=n.l,e=n.h;var t=new Df;t.i=e.i,e.g&&(t.g=new bf(e.g),t.h=e.h),$w(this,t),this.o=n.o}else n&&(t=String(n).match(Ov))?(this.g=!!e,kg(this,t[1]||"",!0),this.s=If(t[2]||""),Og(this,t[3]||"",!0),Ef(this,t[4]),this.l=If(t[5]||"",!0),$w(this,t[6]||"",!0),this.o=If(t[7]||"")):(this.g=!!e,this.h=new Df(null,this.g))}function Ua(n){return new er(n)}function kg(n,e,t){n.j=t?If(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Og(n,e,t){n.i=t?If(e,!0):e}function Ef(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function $w(n,e,t){e instanceof Df?(n.h=e,function Gw(n,e){e&&!n.j&&(Cu(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(sa(this,r),Ao(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Fd(e,Lv)),n.h=new Df(e,n.g))}function tr(n,e,t){n.h.set(e,t)}function Cf(n){return tr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function If(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Fd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,GI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function GI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}er.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Fd(e,Fv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Fd(e,Fv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Fd(t,"/"==t.charAt(0)?Hw:pS,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Fd(t,Ba)),n.join("")};var Fv=/[#\/\?@]/g,pS=/[#\?:]/g,Hw=/[#\?]/g,Lv=/[#\?@]/g,Ba=/#/g;function Df(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cu(n){n.g||(n.g=new bf,n.h=0,n.i&&function $I(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var u=n[t].substring(0,r);o=n[t].substring(r+1)}else u=n[t];e(u,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function sa(n,e){Cu(n),e=Dc(n,e),Ic(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ic((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&kv(n)))}function To(n,e){return Cu(n),e=Dc(n,e),Ic(n.g.h,e)}function Ao(n,e,t){sa(n,e),0<t.length&&(n.i=null,n.g.set(Dc(n,e),mg(t)),n.h+=t.length)}function Dc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qw(n){this.l=n||zI,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ea&&Wt.g.Ea()&&Wt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(pt=Df.prototype).add=function(n,e){Cu(this),this.i=null,n=Dc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},pt.forEach=function(n,e){Cu(this),this.g.forEach(function(t,r){sv(t,function(o){n.call(e,o,r,this)},this)},this)},pt.T=function(){Cu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],u=0;u<o.length;u++)t.push(e[r]);return t},pt.R=function(n){Cu(this);var e=[];if("string"==typeof n)To(this,n)&&(e=ov(e,this.g.get(Dc(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=ov(e,n[t])}return e},pt.set=function(n,e){return Cu(this),this.i=null,To(this,n=Dc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},pt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},pt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var h=o;""!==r[u]&&(h+="="+encodeURIComponent(String(r[u]))),n.push(h)}}return this.i=n.join("&")};var zI=10;function zw(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Fg(n){return n.h?1:n.g?n.g.size:0}function Tc(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Vv(n,e){n.g?n.g.add(e):n.h=e}function Uv(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Ww(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return mg(n.i)}function Lg(){}function Zw(){this.g=new Lg}function Vg(n,e,t){const r=t||"";try{Ng(n,function(o,u){let h=o;rf(o)&&(h=wu(o)),e.push(r+u+"="+encodeURIComponent(h))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function Tf(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function Ld(n){this.l=n.$b||null,this.j=n.ib||!1}function Vd(n,e){Un.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ud,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qw.prototype.cancel=function(){if(this.i=Ww(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Lg.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},Lg.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},Gi(Ld,pf),Ld.prototype.g=function(){return new Vd(this.l,this.j)},Ld.prototype.i=function(n){return function(){return n}}({}),Gi(Vd,Un);var Ud=0;function Bv(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Bd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jd(n)}function jd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(pt=Vd.prototype).open=function(n,e){if(this.readyState!=Ud)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,jd(this)},pt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},pt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bd(this)),this.readyState=Ud},pt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jd(this)),this.g&&(this.readyState=3,jd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Wt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bv(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},pt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Bd(this):jd(this),3==this.readyState&&Bv(this)}},pt.Ua=function(n){this.g&&(this.response=this.responseText=n,Bd(this))},pt.Ta=function(n){this.g&&(this.response=n,Bd(this))},pt.ha=function(){this.g&&Bd(this)},pt.setRequestHeader=function(n,e){this.v.append(n,e)},pt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},pt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Vd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Kw=Wt.JSON.parse;function Or(n){Un.call(this),this.headers=new bf,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jv,this.K=this.L=!1}Gi(Or,Un);var jv="",Yw=/^https?$/i,Qw=["POST","PUT"];function KI(n){return"content-type"==n.toLowerCase()}function Jw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Xw(n),Ug(n)}function Xw(n){n.D||(n.D=!0,kr(n,"complete"),kr(n,"error"))}function eb(n){if(n.h&&typeof tv<"u"&&(!n.C[1]||4!=Iu(n)||2!=n.ba()))if(n.v&&4==Iu(n))Cg(n.Fa,0,n);else if(kr(n,"readystatechange"),4==Iu(n)){n.h=!1;try{const g=n.ba();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var o=String(n.H).match(Ov)[1]||null;if(!o&&Wt.self&&Wt.self.location){var u=Wt.self.location.protocol;o=u.substr(0,u.length-1)}r=!Yw.test(o?o.toLowerCase():"")}t=r}if(t)kr(n,"complete"),kr(n,"success");else{n.m=6;try{var h=2<Iu(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.ba()+"]",Xw(n)}}finally{Ug(n)}}}function Ug(n,e){if(n.g){tb(n);const t=n.g,r=n.C[0]?gg:null;n.g=null,n.C=null,e||kr(n,"ready");try{t.onreadystatechange=r}catch{}}}function tb(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function Iu(n){return n.g?n.g.readyState:0}function nb(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case jv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function $v(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function YI(n){let e="";return vg(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):tr(n,e,t))}function Af(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function rb(n){this.za=0,this.l=[],this.h=new df,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Af("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Af("baseRetryDelayMs",5e3,n),this.$a=Af("retryDelaySeedMs",1e4,n),this.Ya=Af("forwardChannelMaxRetries",2,n),this.ra=Af("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new qw(n&&n.concurrentRequestLimit),this.Ca=new Zw,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Hv(n){if(ib(n),3==n.G){var e=n.V++,t=Ua(n.F);tr(t,"SID",n.J),tr(t,"RID",e),tr(t,"TYPE","terminate"),$d(n,t),(e=new yf(n,n.h,e,void 0)).K=2,e.v=Cf(Ua(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ac(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Nd(e)}ob(n)}function Bg(n){n.g&&(Hg(n),n.g.cancel(),n.g=null)}function ib(n){Bg(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),Sf(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function Gv(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&jg(n)}function jg(n){zw(n.i)||n.m||(n.m=!0,hl(n.Ha,n),n.C=0)}function qv(n,e){var t;t=e?e.m:n.V++;const r=Ua(n.F);tr(r,"SID",n.J),tr(r,"RID",t),tr(r,"AID",n.U),$d(n,r),n.o&&n.s&&$v(r,n.o,n.s),t=new yf(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=zv(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Vv(n.i,t),Rv(t,r,e)}function $d(n,e){n.j&&Ng({},function(t,r){tr(e,r,t)})}function zv(n,e,t){t=Math.min(n.l.length,t);var r=n.j?ti(n.j.Oa,n.j,n):null;e:{var o=n.l;let u=-1;for(;;){const h=["count="+t];-1==u?0<t?(u=o[0].h,h.push("ofs="+u)):u=0:h.push("ofs="+u);let g=!0;for(let w=0;w<t;w++){let S=o[w].h;const O=o[w].g;if(S-=u,0>S)u=Math.max(0,o[w].h-100),g=!1;else try{Vg(O,h,"req"+S+"_")}catch{r&&r(O)}}if(g){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Wv(n){n.g||n.u||(n.Y=1,hl(n.Ga,n),n.A=0)}function $g(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Tg(ti(n.Ga,n),Yv(n,n.A)),n.A++,0))}function Hg(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function Zv(n){n.g=new yf(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ua(n.oa);tr(e,"RID","rpc"),tr(e,"SID",n.J),tr(e,"CI",n.N?"0":"1"),tr(e,"AID",n.U),$d(n,e),tr(e,"TYPE","xmlhttp"),n.o&&n.s&&$v(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Cf(Ua(e)),t.s=null,t.U=!0,Uw(t,n)}function Sf(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function Kv(n,e){var t=null;if(n.g==e){Sf(n),Hg(n),n.g=null;var r=2}else{if(!Tc(n.i,e))return;t=e.D,Uv(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;kr(r=Av(),new Dg(r,t,e,o)),jg(n)}else Wv(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function sb(n,e){return!(Fg(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Tg(ti(n.Ha,n,e),Yv(n,n.C)),n.C++,0)))}(n,e)||2==r&&$g(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:zs(n,5);break;case 4:zs(n,10);break;case 3:zs(n,6);break;default:zs(n,2)}}function Yv(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function zs(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=ti(n.jb,n);t||(t=new er("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||kg(t,"https"),Cf(t)),function WI(n,e){const t=new df;if(Wt.Image){const r=new Image;r.onload=sf(Tf,t,r,"TestLoadImage: loaded",!0,e),r.onerror=sf(Tf,t,r,"TestLoadImage: error",!1,e),r.onabort=sf(Tf,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=sf(Tf,t,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else di(2);n.G=0,n.j&&n.j.va(e),ob(n),ib(n)}function ob(n){n.G=0,n.I=-1,n.j&&((0!=Ww(n.i).length||0!=n.l.length)&&(n.i.i.length=0,mg(n.l),n.l.length=0),n.j.ua())}function ab(n,e,t){let r=function Od(n){return n instanceof er?Ua(n):new er(n,void 0)}(t);if(""!=r.i)e&&Og(r,e+"."+r.i),Ef(r,r.m);else{const o=Wt.location;r=function HI(n,e,t,r){var o=new er(null,void 0);return n&&kg(o,n),e&&Og(o,e),t&&Ef(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&vg(n.aa,function(o,u){tr(r,u,o)}),t=n.sa,(e=n.D)&&t&&tr(r,e,t),tr(r,"VER",n.ma),$d(n,r),r}function Ac(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Or(t&&n.Ba&&!n.qa?new Ld({ib:!0}):n.qa)).L=n.H,e}function QI(){}function Hd(){if(Cd&&!(10<=Number(dS)))throw Error("Environmental error: no available transport.")}function So(n,e){Un.call(this),this.g=new rb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!of(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!of(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xf(this)}function Qv(n){xg.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Jv(){Mg.call(this),this.status=1}function xf(n){this.g=n}(pt=Or.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():gf.g(),this.C=function Sv(n){return n.h||(n.h=n.i())}(this.u?this.u:gf),this.g.onreadystatechange=ti(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void Jw(this,u)}n=t||"";const o=new bf(this.headers);r&&Ng(r,function(u,h){o.set(h,u)}),r=function Cw(n){e:{var e=KI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=Wt.FormData&&n instanceof Wt.FormData,!(0<=Ew(Qw,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(u,h){this.g.setRequestHeader(h,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{tb(this),0<this.B&&((this.K=function ZI(n){return Cd&&function Sw(){return function OI(n){var e=Aw;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Va(String(pv)).split("."),t=Va("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var o=e[h]||"",u=t[h]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==o[0].length&&0==u[0].length)break;n=av(0==o[1].length?0:parseInt(o[1],10),0==u[1].length?0:parseInt(u[1],10))||av(0==o[2].length,0==u[2].length)||av(o[2],u[2]),o=o[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ti(this.pa,this)):this.A=Cg(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){Jw(this,u)}},pt.pa=function(){typeof tv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,kr(this,"timeout"),this.abort(8))},pt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,kr(this,"complete"),kr(this,"abort"),Ug(this))},pt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ug(this,!0)),Or.Z.M.call(this)},pt.Fa=function(){this.s||(this.F||this.v||this.l?eb(this):this.cb())},pt.cb=function(){eb(this)},pt.ba=function(){try{return 2<Iu(this)?this.g.status:-1}catch{return-1}},pt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},pt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Kw(e)}},pt.Da=function(){return this.m},pt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(pt=rb.prototype).ma=8,pt.G=1,pt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},pt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new yf(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=uv(u),cv(u,this.P)):u=this.P),null===this.o&&(o.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zv(this,o,e),tr(t=Ua(this.F),"RID",n),tr(t,"CVER",22),this.D&&tr(t,"X-HTTP-Session-Id",this.D),$d(this,t),this.o&&u&&$v(t,this.o,u),Vv(this.i,o),this.Ra&&tr(t,"TYPE","init"),this.ja?(tr(t,"$req",e),tr(t,"SID","null"),o.$=!0,Rv(o,t,null)):Rv(o,t,e),this.G=2}}else 3==this.G&&(n?qv(this,n):0==this.l.length||zw(this.i)||qv(this))},pt.Ga=function(){if(this.u=null,Zv(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Tg(ti(this.bb,this),n)}},pt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,di(10),Bg(this),Zv(this))},pt.ab=function(){null!=this.v&&(this.v=null,Bg(this),$g(this),di(19))},pt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),di(2)):(this.h.info("Failed to ping google.com"),di(1))},(pt=QI.prototype).xa=function(){},pt.wa=function(){},pt.va=function(){},pt.ua=function(){},pt.Oa=function(){},Hd.prototype.g=function(n,e){return new So(n,e)},Gi(So,Un),So.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),hl(ti(n.hb,n,e))),di(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=ab(n,null,n.W),jg(n)},So.prototype.close=function(){Hv(this.g)},So.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Gv(this.g,e)}else this.v?((e={}).__data__=wu(n),Gv(this.g,e)):Gv(this.g,n)},So.prototype.M=function(){this.g.j=null,delete this.j,Hv(this.g),delete this.g,So.Z.M.call(this)},Gi(Qv,xg),Gi(Jv,Mg),Gi(xf,QI),xf.prototype.xa=function(){kr(this.g,"a")},xf.prototype.wa=function(n){kr(this.g,new Qv(n))},xf.prototype.va=function(n){kr(this.g,new Jv(n))},xf.prototype.ua=function(){kr(this.g,"b")},Hd.prototype.createWebChannel=Hd.prototype.g,So.prototype.send=So.prototype.u,So.prototype.open=So.prototype.m,So.prototype.close=So.prototype.close,Ag.NO_ERROR=0,Ag.TIMEOUT=8,Ag.HTTP_ERROR=6,Sg.COMPLETE="complete",xv.EventType=Cc,Cc.OPEN="a",Cc.CLOSE="b",Cc.ERROR="c",Cc.MESSAGE="d",Un.prototype.listen=Un.prototype.N,Or.prototype.listenOnce=Or.prototype.O,Or.prototype.getLastError=Or.prototype.La,Or.prototype.getLastErrorCode=Or.prototype.Da,Or.prototype.getStatus=Or.prototype.ba,Or.prototype.getResponseJson=Or.prototype.Qa,Or.prototype.getResponseText=Or.prototype.ga,Or.prototype.send=Or.prototype.ea;var Nt=cl.createWebChannelTransport=function(){return new Hd},JI=cl.getStatEventTarget=function(){return Av()},Xv=cl.ErrorCode=Ag,XI=cl.EventType=Sg,Gd=cl.Event=Eu,ub=cl.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Gg=cl.FetchXmlHttpFactory=Ld,Sc=cl.WebChannel=xv,Er=cl.XhrIo=Or;const eD="@firebase/firestore";class hi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");let xc="9.8.0";const ml=new La.Yd("@firebase/firestore");function qg(){return ml.logLevel}function Xe(n,...e){if(ml.logLevel<=La.in.DEBUG){const t=e.map(e_);ml.debug(`Firestore (${xc}): ${n}`,...t)}}function Fr(n,...e){if(ml.logLevel<=La.in.ERROR){const t=e.map(e_);ml.error(`Firestore (${xc}): ${n}`,...t)}}function Mf(n,...e){if(ml.logLevel<=La.in.WARN){const t=e.map(e_);ml.warn(`Firestore (${xc}): ${n}`,...t)}}function e_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function vt(n="Unexpected state"){const e=`FIRESTORE (${xc}) INTERNAL ASSERTION FAILED: `+n;throw Fr(e),new Error(e)}function Ot(n,e){n||vt()}function lt(n,e){return n}const Ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class We extends sn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ri{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class t_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hi.UNAUTHENTICATED))}shutdown(){}}class nD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Rf{constructor(e){this.t=e,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const u=S=>this.i!==o?(o=this.i,t(S)):Promise.resolve();let h=new ri;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ri,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const S=h;e.enqueueRetryable((0,T.Z)(function*(){yield S.promise,yield u(r.currentUser)}))},w=S=>{Xe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(S=>w(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?w(S):(Xe("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ri)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Xe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ot("string"==typeof r.accessToken),new t_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ot(null===e||"string"==typeof e),new hi(e)}}class Pf{constructor(e,t,r){this.type="FirstParty",this.user=hi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class rD{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Pf(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class db{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iD{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Xe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.p;return this.p=u.token,Xe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const o=u=>{Xe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?o(u):Xe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ot("string"==typeof t.token),this.p=t.token,new db(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class vs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function hb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}vs.A=-1;class fb{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=hb(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<t&&(r+=e.charAt(o[u]%e.length))}return r}}function Jt(n,e){return n<e?-1:n>e?1:0}function qd(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}function pb(n){return n+"\0"}class qr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new We(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new We(Ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new We(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new We(Ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qr.fromMillis(Date.now())}static fromDate(e){return qr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new qr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Jt(this.nanoseconds,e.nanoseconds):Jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ut{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ut(e)}static min(){return new Ut(new qr(0,0))}static max(){return new Ut(new qr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function oD(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function n_(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class yl{constructor(e,t,r){void 0===t?t=0:t>e.length&&vt(),void 0===r?r=e.length-t:r>e.length-t&&vt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===yl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof yl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class vn extends yl{construct(e,t,r){return new vn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new We(Ae.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new vn(t)}static emptyPath(){return new vn([])}}const aD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends yl{construct(e,t,r){return new zr(e,t,r)}static isValidIdentifier(e){return aD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const u=()=>{if(0===r.length)throw new We(Ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;o<e.length;){const g=e[o];if("\\"===g){if(o+1===e.length)throw new We(Ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[o+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new We(Ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,o+=2}else"`"===g?(h=!h,o++):"."!==g||h?(r+=g,o++):(u(),o++)}if(u(),h)throw new We(Ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(t)}static emptyPath(){return new zr([])}}class ja{constructor(e){this.fields=e,e.sort(zr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class ii{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ii(t)}static fromUint8Array(e){const t=function(r){let o="";for(let u=0;u<r.length;++u)o+=String.fromCharCode(r[u]);return o}(e);return new ii(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const lD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vl(n){if(Ot(!!n),"string"==typeof n){let e=0;const t=lD.exec(n);if(Ot(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Cr(n.seconds),nanos:Cr(n.nanos)}}function Cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _l(n){return"string"==typeof n?ii.fromBase64String(n):ii.fromUint8Array(n)}function r_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gb(n){const e=n.mapValue.fields.__previous_value__;return r_(e)?gb(e):e}function $a(n){const e=vl(n.mapValue.fields.__local_write_time__.timestampValue);return new qr(e.seconds,e.nanos)}class cD{constructor(e,t,r,o,u,h,g,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=g,this.useFetchStreams=w}}class Ha{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ha("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ha&&e.projectId===this.projectId&&e.database===this.database}}function Nf(n){return null==n}function Wd(n){return 0===n&&1/n==-1/0}function mb(n){return"number"==typeof n&&Number.isInteger(n)&&!Wd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class it{constructor(e){this.path=e}static fromPath(e){return new it(vn.fromString(e))}static fromName(e){return new it(vn.fromString(e).popFirst(5))}static empty(){return new it(vn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===vn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return vn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new it(new vn(e.slice()))}}const wl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Zd={nullValue:"NULL_VALUE"};function Mc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?r_(n)?4:wb(n)?9007199254740991:10:vt()}function oa(n,e){if(n===e)return!0;const t=Mc(n);if(t!==Mc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $a(n).isEqual($a(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const u=vl(r.timestampValue),h=vl(o.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,_l(n.bytesValue).isEqual(_l(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Cr(r.geoPointValue.latitude)===Cr(o.geoPointValue.latitude)&&Cr(r.geoPointValue.longitude)===Cr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Cr(r.integerValue)===Cr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const u=Cr(r.doubleValue),h=Cr(o.doubleValue);return u===h?Wd(u)===Wd(h):isNaN(u)&&isNaN(h)}return!1}(n,e);case 9:return qd(n.arrayValue.values||[],e.arrayValue.values||[],oa);case 10:return function(r,o){const u=r.mapValue.fields||{},h=o.mapValue.fields||{};if(oD(u)!==oD(h))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===h[g]||!oa(u[g],h[g])))return!1;return!0}(n,e);default:return vt()}var o}function Kd(n,e){return void 0!==(n.values||[]).find(t=>oa(t,e))}function bl(n,e){if(n===e)return 0;const t=Mc(n),r=Mc(e);if(t!==r)return Jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Jt(n.booleanValue,e.booleanValue);case 2:return function(o,u){const h=Cr(o.integerValue||o.doubleValue),g=Cr(u.integerValue||u.doubleValue);return h<g?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1}(n,e);case 3:return yb(n.timestampValue,e.timestampValue);case 4:return yb($a(n),$a(e));case 5:return Jt(n.stringValue,e.stringValue);case 6:return function(o,u){const h=_l(o),g=_l(u);return h.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(o,u){const h=o.split("/"),g=u.split("/");for(let w=0;w<h.length&&w<g.length;w++){const S=Jt(h[w],g[w]);if(0!==S)return S}return Jt(h.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,u){const h=Jt(Cr(o.latitude),Cr(u.latitude));return 0!==h?h:Jt(Cr(o.longitude),Cr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,u){const h=o.values||[],g=u.values||[];for(let w=0;w<h.length&&w<g.length;++w){const S=bl(h[w],g[w]);if(S)return S}return Jt(h.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,u){if(o===wl.mapValue&&u===wl.mapValue)return 0;if(o===wl.mapValue)return 1;if(u===wl.mapValue)return-1;const h=o.fields||{},g=Object.keys(h),w=u.fields||{},S=Object.keys(w);g.sort(),S.sort();for(let O=0;O<g.length&&O<S.length;++O){const V=Jt(g[O],S[O]);if(0!==V)return V;const de=bl(h[g[O]],w[S[O]]);if(0!==de)return de}return Jt(g.length,S.length)}(n.mapValue,e.mapValue);default:throw vt()}}function yb(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Jt(n,e);const t=vl(n),r=vl(e),o=Jt(t.seconds,r.seconds);return 0!==o?o:Jt(t.nanos,r.nanos)}function Yd(n){return kf(n)}function kf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=vl(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_l(n.bytesValue).toBase64():"referenceValue"in n?it.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",u=!0;for(const h of r.values||[])u?u=!1:o+=",",o+=kf(h);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const g of o)h?h=!1:u+=",",u+=`${g}:${kf(r.fields[g])}`;return u+"}"}(n.mapValue):vt();var e}function Rc(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function zg(n){return!!n&&"integerValue"in n}function Of(n){return!!n&&"arrayValue"in n}function vb(n){return!!n&&"nullValue"in n}function _b(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Wg(n){return!!n&&"mapValue"in n}function Ff(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return zd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ff(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ff(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wb(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function dD(n){return"nullValue"in n?Zd:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Rc(Ha.empty(),it.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:vt()}function hD(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Rc(Ha.empty(),it.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?wl:vt()}function i_(n,e){const t=bl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function s_(n,e){const t=bl(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Wg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ff(t)}setAll(e){let t=zr.emptyPath(),r={},o=[];e.forEach((h,g)=>{if(!t.isImmediateParentOf(g)){const w=this.getFieldsMap(t);this.applyChanges(w,r,o),r={},o=[],t=g.popLast()}h?r[g.lastSegment()]=Ff(h):o.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,o)}delete(e){const t=this.field(e.popLast());Wg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Wg(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){zd(t,(o,u)=>e[o]=u);for(const o of r)delete e[o]}clone(){return new qi(Ff(this.value))}}function bb(n){const e=[];return zd(n.fields,(t,r)=>{const o=new zr([t]);if(Wg(r)){const u=bb(r.mapValue).fields;if(0===u.length)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new ja(e)}class zn{constructor(e,t,r,o,u,h){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=u,this.documentState=h}static newInvalidDocument(e){return new zn(e,0,Ut.min(),Ut.min(),qi.empty(),0)}static newFoundDocument(e,t,r){return new zn(e,1,t,Ut.min(),r,0)}static newNoDocument(e,t){return new zn(e,2,t,Ut.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,Ut.min(),qi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zg{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}}function o_(n){return n.fields.find(e=>2===e.kind)}function Pc(n){return n.fields.filter(e=>2!==e.kind)}Zg.UNKNOWN_ID=-1;class Qd{constructor(e,t){this.fieldPath=e,this.kind=t}}class Nc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Nc(0,aa.min())}}function a_(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=Ut.fromTimestamp(1e9===r?new qr(t+1,0):new qr(t,r));return new aa(o,it.empty(),e)}function u_(n){return new aa(n.readTime,n.key,-1)}class aa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new aa(Ut.min(),it.empty(),-1)}static max(){return new aa(Ut.max(),it.empty(),-1)}}function Eb(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=it.comparator(n.documentKey,e.documentKey),0!==t?t:Jt(n.largestBatchId,e.largestBatchId))}class gr{constructor(e,t){this.comparator=e,this.root=t||fi.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fi.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kg(this.root,e,this.comparator,!0)}}class Kg{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fi{constructor(e,t,r,o,u){this.key=e,this.value=t,this.color=r??fi.RED,this.left=o??fi.EMPTY,this.right=u??fi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,u){return new fi(e??this.key,t??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===u?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return fi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return fi.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const e=this.left.check();if(e!==this.right.check())throw vt();return e+(this.isRed()?0:1)}}fi.EMPTY=null,fi.RED=!0,fi.BLACK=!1,fi.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(n,e,t,r,o){return this}insert(n,e,t){return new fi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wn{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new l_(this.data.getIterator())}getIteratorFrom(e){return new l_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(o,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wn(this.comparator);return t.data=e,t}}class l_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Lf(n){return n.hasNext()?n.getNext():void 0}class fD{constructor(e,t=null,r=[],o=[],u=null,h=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=g,this.P=null}}function Jd(n,e=null,t=[],r=[],o=null,u=null,h=null){return new fD(n,e,t,r,o,u,h)}function Ws(n){const e=lt(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+Yd(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),Nf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Yd(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Yd(r)).join(",")),e.P=t}return e.P}function Vf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!Bf(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!oa(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Qg(n.startAt,e.startAt)&&Qg(n.endAt,e.endAt)}function Uf(n){return it.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Yg(n,e){return n.filters.filter(t=>t instanceof Ai&&t.field.isEqual(e))}function kc(n,e,t){let r=Zd,o=!0;for(const u of Yg(n,e)){let h=Zd,g=!0;switch(u.op){case"<":case"<=":h=dD(u.value);break;case"==":case"in":case">=":h=u.value;break;case">":h=u.value,g=!1;break;case"!=":case"not-in":h=Zd}i_({value:r,inclusive:o},{value:h,inclusive:g})<0&&(r=h,o=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];i_({value:r,inclusive:o},{value:h,inclusive:t.inclusive})<0&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}function Xd(n,e,t){let r=wl,o=!0;for(const u of Yg(n,e)){let h=wl,g=!0;switch(u.op){case">=":case">":h=hD(u.value),g=!1;break;case"==":case"in":case"<=":h=u.value;break;case"<":h=u.value,g=!1;break;case"!=":case"not-in":h=wl}s_({value:r,inclusive:o},{value:h,inclusive:g})>0&&(r=h,o=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const h=t.position[u];s_({value:r,inclusive:o},{value:h,inclusive:t.inclusive})>0&&(r=h,o=t.inclusive);break}return{value:r,inclusive:o}}class Ai extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new gS(e,t,r):"array-contains"===t?new gD(e,r):"in"===t?new mD(e,r):"not-in"===t?new Tb(e,r):"array-contains-any"===t?new Ab(e,r):new Ai(e,t,r)}static V(e,t,r){return"in"===t?new Ib(e,r):new pD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(bl(t,this.value)):null!==t&&Mc(this.value)===Mc(t)&&this.v(bl(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return vt()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class gS extends Ai{constructor(e,t,r){super(e,t,r),this.key=it.fromName(r.referenceValue)}matches(e){const t=it.comparator(e.key,this.key);return this.v(t)}}class Ib extends Ai{constructor(e,t){super(e,"in",t),this.keys=Db(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pD extends Ai{constructor(e,t){super(e,"not-in",t),this.keys=Db(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Db(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>it.fromName(r.referenceValue))}class gD extends Ai{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Of(t)&&Kd(t.arrayValue,this.value)}}class mD extends Ai{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kd(this.value.arrayValue,t)}}class Tb extends Ai{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Kd(this.value.arrayValue,t)}}class Ab extends Ai{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Of(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Kd(this.value.arrayValue,r))}}class Ga{constructor(e,t){this.position=e,this.inclusive=t}}class Du{constructor(e,t="asc"){this.field=e,this.dir=t}}function Bf(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function Sb(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const u=e[o],h=n.position[o];if(r=u.field.isKeyField()?it.comparator(it.fromName(h.referenceValue),t.key):bl(h,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Qg(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!oa(n.position[t],e.position[t]))return!1;return!0}class qa{constructor(e,t=null,r=[],o=[],u=null,h="F",g=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=g,this.endAt=w,this.D=null,this.C=null}}function xb(n,e,t,r,o,u,h,g){return new qa(n,e,t,r,o,u,h,g)}function eh(n){return new qa(n)}function d_(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Mb(n){for(const e of n.filters)if(e.S())return e.field;return null}function h_(n){return null!==n.collectionGroup}function th(n){const e=lt(n);if(null===e.D){e.D=[];const t=Mb(e),r=d_(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new Du(t)),e.D.push(new Du(zr.keyField(),"asc"));else{let o=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(o=!0);if(!o){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Du(zr.keyField(),u))}}}return e.D}function Zs(n){const e=lt(n);if(!e.C)if("F"===e.limitType)e.C=Jd(e.path,e.collectionGroup,th(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of th(e))t.push(new Du(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Ga(e.endAt.position,e.endAt.inclusive):null,o=e.startAt?new Ga(e.startAt.position,e.startAt.inclusive):null;e.C=Jd(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function Jg(n,e,t){return new qa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jf(n,e){return Vf(Zs(n),Zs(e))&&n.limitType===e.limitType}function Xg(n){return`${Ws(Zs(n))}|lt:${n.limitType}`}function f_(n){return`Query(target=${function Cb(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Yd(r.value)}`;var r}).join(", ")}]`),Nf(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Yd(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Yd(t)).join(",")),`Target(${e})`}(Zs(n))}; limitType=${n.limitType})`}function p_(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):it.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,u,h){const g=Sb(o,u,h);return o.inclusive?g<=0:g<0}(t.startAt,th(t),r)||t.endAt&&!function(o,u,h){const g=Sb(o,u,h);return o.inclusive?g>=0:g>0}(t.endAt,th(t),r)));var t,r}function Rb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function g_(n){return(e,t)=>{let r=!1;for(const o of th(n)){const u=Pb(o,e,t);if(0!==u)return u;r=r||o.field.isKeyField()}return 0}}function Pb(n,e,t){const r=n.field.isKeyField()?it.comparator(e.key,t.key):function(o,u,h){const g=u.data.field(o),w=h.data.field(o);return null!==g&&null!==w?bl(g,w):vt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return vt()}}function Nb(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wd(e)?"-0":e}}function kb(n){return{integerValue:""+n}}function Ob(n,e){return mb(e)?kb(e):Nb(n,e)}class em{constructor(){this._=void 0}}function yD(n,e,t){return n instanceof nh?function(r,o){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(u.fields.__previous_value__=o),{mapValue:u}}(t,e):n instanceof ua?m_(n,e):n instanceof El?y_(n,e):function(r,o){const u=Fb(r,o),h=v_(u)+v_(r.k);return zg(u)&&zg(r.k)?kb(h):Nb(r.M,h)}(n,e)}function vD(n,e,t){return n instanceof ua?m_(n,e):n instanceof El?y_(n,e):t}function Fb(n,e){return n instanceof Oc?zg(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class nh extends em{}class ua extends em{constructor(e){super(),this.elements=e}}function m_(n,e){const t=__(e);for(const r of n.elements)t.some(o=>oa(o,r))||t.push(r);return{arrayValue:{values:t}}}class El extends em{constructor(e){super(),this.elements=e}}function y_(n,e){let t=__(e);for(const r of n.elements)t=t.filter(o=>!oa(o,r));return{arrayValue:{values:t}}}class Oc extends em{constructor(e,t){super(),this.M=e,this.k=t}}function v_(n){return Cr(n.integerValue||n.doubleValue)}function __(n){return Of(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class $f{constructor(e,t){this.field=e,this.transform=t}}class Vb{constructor(e,t){this.version=e,this.transformResults=t}}class Wr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class nm{}function Hf(n,e,t){n instanceof Fc?function(r,o,u){const h=r.value.clone(),g=jb(r.fieldTransforms,o,u.transformResults);h.setAll(g),o.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ca?function(r,o,u){if(!tm(r.precondition,o))return void o.convertToUnknownDocument(u.version);const h=jb(r.fieldTransforms,o,u.transformResults),g=o.data;g.setAll(Bb(r)),g.setAll(h),o.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function w_(n,e,t){var o;n instanceof Fc?function(r,o,u){if(!tm(r.precondition,o))return;const h=r.value.clone(),g=$b(r.fieldTransforms,u,o);h.setAll(g),o.convertToFoundDocument(Ub(o),h).setHasLocalMutations()}(n,e,t):n instanceof ca?function(r,o,u){if(!tm(r.precondition,o))return;const h=$b(r.fieldTransforms,u,o),g=o.data;g.setAll(Bb(r)),g.setAll(h),o.convertToFoundDocument(Ub(o),g).setHasLocalMutations()}(n,e,t):tm(n.precondition,o=e)&&o.convertToNoDocument(Ut.min())}function b_(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),u=Fb(r.transform,o||null);null!=u&&(null==t&&(t=qi.empty()),t.set(r.field,u))}return t||null}function la(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&qd(t,r,(o,u)=>function Lb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ua&&r instanceof ua||t instanceof El&&r instanceof El?qd(t.elements,r.elements,oa):t instanceof Oc&&r instanceof Oc?oa(t.k,r.k):t instanceof nh&&r instanceof nh);var t,r}(o,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Ub(n){return n.isFoundDocument()?n.version:Ut.min()}class Fc extends nm{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class ca extends nm{constructor(e,t,r,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}}function Bb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jb(n,e,t){const r=new Map;Ot(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],h=u.transform,g=e.data.field(u.field);r.set(u.field,vD(h,g,t[o]))}return r}function $b(n,e,t){const r=new Map;for(const o of n){const u=o.transform,h=t.data.field(o.field);r.set(o.field,yD(u,h,e))}return r}class Cl extends nm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class rh extends nm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class _D{constructor(e){this.count=e}}var Zr,gn;function E_(n){switch(n){default:return vt();case Ae.CANCELLED:case Ae.UNKNOWN:case Ae.DEADLINE_EXCEEDED:case Ae.RESOURCE_EXHAUSTED:case Ae.INTERNAL:case Ae.UNAVAILABLE:case Ae.UNAUTHENTICATED:return!1;case Ae.INVALID_ARGUMENT:case Ae.NOT_FOUND:case Ae.ALREADY_EXISTS:case Ae.PERMISSION_DENIED:case Ae.FAILED_PRECONDITION:case Ae.ABORTED:case Ae.OUT_OF_RANGE:case Ae.UNIMPLEMENTED:case Ae.DATA_LOSS:return!0}}function rm(n){if(void 0===n)return Fr("GRPC error has no .code"),Ae.UNKNOWN;switch(n){case Zr.OK:return Ae.OK;case Zr.CANCELLED:return Ae.CANCELLED;case Zr.UNKNOWN:return Ae.UNKNOWN;case Zr.DEADLINE_EXCEEDED:return Ae.DEADLINE_EXCEEDED;case Zr.RESOURCE_EXHAUSTED:return Ae.RESOURCE_EXHAUSTED;case Zr.INTERNAL:return Ae.INTERNAL;case Zr.UNAVAILABLE:return Ae.UNAVAILABLE;case Zr.UNAUTHENTICATED:return Ae.UNAUTHENTICATED;case Zr.INVALID_ARGUMENT:return Ae.INVALID_ARGUMENT;case Zr.NOT_FOUND:return Ae.NOT_FOUND;case Zr.ALREADY_EXISTS:return Ae.ALREADY_EXISTS;case Zr.PERMISSION_DENIED:return Ae.PERMISSION_DENIED;case Zr.FAILED_PRECONDITION:return Ae.FAILED_PRECONDITION;case Zr.ABORTED:return Ae.ABORTED;case Zr.OUT_OF_RANGE:return Ae.OUT_OF_RANGE;case Zr.UNIMPLEMENTED:return Ae.UNIMPLEMENTED;case Zr.DATA_LOSS:return Ae.DATA_LOSS;default:return vt()}}(gn=Zr||(Zr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class Tu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,u]of r)if(this.equalsFn(o,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){zd(this.inner,(t,r)=>{for(const[o,u]of r)e(o,u)})}isEmpty(){return n_(this.inner)}size(){return this.innerSize}}const wD=new gr(it.comparator);function xo(){return wD}const mS=new gr(it.comparator);function Gf(...n){let e=mS;for(const t of n)e=e.insert(t.key,t);return e}function Lc(){return new Tu(n=>n.toString(),(n,e)=>n.isEqual(e))}const Hb=new gr(it.comparator),C_=new Wn(it.comparator);function Dn(...n){let e=C_;for(const t of n)e=e.add(t);return e}const bD=new Wn(Jt);function im(){return bD}class qf{constructor(e,t,r,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,zf.createSynthesizedTargetChangeForCurrentChange(e,t)),new qf(Ut.min(),r,im(),xo(),Dn())}}class zf{constructor(e,t,r,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new zf(ii.EMPTY_BYTE_STRING,t,Dn(),Dn(),Dn())}}class Wf{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.F=o}}class sm{constructor(e,t){this.targetId=e,this.$=t}}class I_{constructor(e,t,r=ii.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class D_{constructor(){this.B=0,this.L=qb(),this.U=ii.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}get current(){return this.q}get resumeToken(){return this.U}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}H(){let e=Dn(),t=Dn(),r=Dn();return this.L.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:vt()}}),new zf(this.U,this.q,e,t,r)}J(){this.K=!1,this.L=qb()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.q=!0}}class Gb{constructor(e){this.nt=e,this.st=new Map,this.it=xo(),this.rt=T_(),this.ot=new Wn(Jt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:vt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.$.count,o=this.wt(t);if(o){const u=o.target;if(Uf(u))if(0===r){const h=new it(u.path);this.ct(t,h,zn.newNoDocument(h,Ut.min()))}else Ot(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,h)=>{const g=this.wt(h);if(g){if(u.current&&Uf(g.target)){const w=new it(g.target.path);null!==this.it.get(w)||this.It(h,w)||this.ct(h,w,zn.newNoDocument(w,e))}u.j&&(t.set(h,u.H()),u.J())}});let r=Dn();this.rt.forEach((u,h)=>{let g=!0;h.forEachWhile(w=>{const S=this.wt(w);return!S||2===S.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.it.forEach((u,h)=>h.setReadTime(e));const o=new qf(e,t,this.ot,this.it,r);return this.it=xo(),this.rt=T_(),this.ot=new Wn(Jt),o}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new D_,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Wn(Jt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Xe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new D_),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function T_(){return new gr(it.comparator)}function qb(){return new gr(it.comparator)}const zb={asc:"ASCENDING",desc:"DESCENDING"},Wb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ED{constructor(e,t){this.databaseId=e,this.N=t}}function ih(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zb(n,e){return n.N?e.toBase64():e.toUint8Array()}function ns(n,e){return ih(n,e.toTimestamp())}function mr(n){return Ot(!!n),Ut.fromTimestamp(function(e){const t=vl(e);return new qr(t.seconds,t.nanos)}(n))}function A_(n,e){return(t=n,new vn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Kb(n){const e=vn.fromString(n);return Ot(hm(e)),e}function om(n,e){return A_(n.databaseId,e.path)}function Au(n,e){const t=Kb(e);if(t.get(1)!==n.databaseId.projectId)throw new We(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new We(Ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new it(Yb(t))}function am(n,e){return A_(n.databaseId,e)}function S_(n){const e=Kb(n);return 4===e.length?vn.emptyPath():Yb(e)}function Su(n){return new vn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yb(n){return Ot(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function um(n,e,t){return{name:om(n,e),fields:t.value.mapValue.fields}}function Qb(n,e,t){const r=Au(n,e.name),o=mr(e.updateTime),u=new qi({mapValue:{fields:e.fields}}),h=zn.newFoundDocument(r,o,u);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function Zf(n,e){let t;if(e instanceof Fc)t={update:um(n,e.key,e.value)};else if(e instanceof Cl)t={delete:om(n,e.key)};else if(e instanceof ca)t={update:um(n,e.key,e.data),updateMask:eE(e.fieldMask)};else{if(!(e instanceof rh))return vt();t={verify:om(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const h=u.transform;if(h instanceof nh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ua)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof El)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Oc)return{fieldPath:u.field.canonicalString(),increment:h.k};throw vt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:ns(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:vt()),t;var o}function Il(n,e){const t=e.currentDocument?void 0!==(o=e.currentDocument).updateTime?Wr.updateTime(mr(o.updateTime)):void 0!==o.exists?Wr.exists(o.exists):Wr.none():Wr.none(),r=e.updateTransforms?e.updateTransforms.map(o=>function(u,h){let g=null;"setToServerValue"in h?(Ot("REQUEST_TIME"===h.setToServerValue),g=new nh):"appendMissingElements"in h?g=new ua(h.appendMissingElements.values||[]):"removeAllFromArray"in h?g=new El(h.removeAllFromArray.values||[]):"increment"in h?g=new Oc(u,h.increment):vt();const w=zr.fromServerFormat(h.fieldPath);return new $f(w,g)}(n,o)):[];var o;if(e.update){const o=Au(n,e.update.name),u=new qi({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new ja((e.updateMask.fieldPaths||[]).map(S=>zr.fromServerFormat(S)));return new ca(o,u,h,t,r)}return new Fc(o,u,t,r)}if(e.delete){const o=Au(n,e.delete);return new Cl(o,t)}if(e.verify){const o=Au(n,e.verify);return new rh(o,t)}return vt()}function lm(n,e){return{documents:[am(n,e.path)]}}function x_(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=am(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=am(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(w){if(0===w.length)return;const S=w.map(O=>function(V){if("=="===V.op){if(_b(V.value))return{unaryFilter:{field:sh(V.field),op:"IS_NAN"}};if(vb(V.value))return{unaryFilter:{field:sh(V.field),op:"IS_NULL"}}}else if("!="===V.op){if(_b(V.value))return{unaryFilter:{field:sh(V.field),op:"IS_NOT_NAN"}};if(vb(V.value))return{unaryFilter:{field:sh(V.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sh(V.field),op:Xb(V.op),value:V.value}}}(O));return 1===S.length?S[0]:{compositeFilter:{op:"AND",filters:S}}}(e.filters);o&&(t.structuredQuery.where=o);const u=function(w){if(0!==w.length)return w.map(S=>{return{field:sh((O=S).field),direction:yS(O.dir)};var O})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const h=(S=e.limit,n.N||Nf(S)?S:{value:S});var S,g,w;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function M_(n){let e=S_(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){Ot(1===r);const O=t.from[0];O.allDescendants?o=O.collectionId:e=e.child(O.collectionId)}let u=[];t.where&&(u=dm(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(O=>{return new Du(Vc((V=O).field),function(de){switch(de){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction));var V}));let g=null;t.limit&&(g=function(O){let V;return V="object"==typeof O?O.value:O,Nf(V)?null:V}(t.limit));let w=null;var O;t.startAt&&(w=new Ga((O=t.startAt).values||[],!!O.before));let S=null;return t.endAt&&(S=function(O){return new Ga(O.values||[],!O.before)}(t.endAt)),xb(e,o,h,u,g,"F",w,S)}function dm(n){return n?void 0!==n.unaryFilter?[DD(n)]:void 0!==n.fieldFilter?[oh(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>dm(e)).reduce((e,t)=>e.concat(t)):vt():[]}function yS(n){return zb[n]}function Xb(n){return Wb[n]}function sh(n){return{fieldPath:n.canonicalString()}}function Vc(n){return zr.fromServerFormat(n.fieldPath)}function oh(n){return Ai.create(Vc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}function DD(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Vc(n.unaryFilter.field);return Ai.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Vc(n.unaryFilter.field);return Ai.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Vc(n.unaryFilter.field);return Ai.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Vc(n.unaryFilter.field);return Ai.create(o,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}function eE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function hm(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function _s(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=AD(e)),e=TD(n.get(t),e);return AD(e)}function TD(n,e){let t=e;const r=n.length;for(let o=0;o<r;o++){const u=n.charAt(o);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function AD(n){return n+"\x01\x01"}function za(n){const e=n.length;if(Ot(e>=2),2===e)return Ot("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),vn.emptyPath();const t=e-2,r=[];let o="";for(let u=0;u<e;){const h=n.indexOf("\x01",u);switch((h<0||h>t)&&vt(),n.charAt(h+1)){case"\x01":const g=n.substring(u,h);let w;0===o.length?w=g:(o+=g,w=o,o=""),r.push(w);break;case"\x10":o+=n.substring(u,h),o+="\0";break;case"\x11":o+=n.substring(u,h+1);break;default:vt()}u=h+2}return new vn(r)}const tE=["userId","batchId"];function fm(n,e){return[n,_s(e)]}function R_(n,e,t){return[n,_s(e),t]}const nE={},SD=["prefixPath","collectionGroup","readTime","documentId"],rE=["prefixPath","collectionGroup","documentId"],iE=["collectionGroup","readTime","prefixPath","documentId"],xD=["canonicalId","targetId"],MD=["targetId","path"],sE=["path","targetId"],RD=["collectionId","parent"],oE=["indexId","uid"],aE=["uid","sequenceNumber"],uE=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],lE=["indexId","uid","orderedDocumentKey"],PD=["userId","collectionPath","documentId"],ND=["userId","collectionPath","largestBatchId"],vS=["userId","collectionGroup","largestBatchId"],P_=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_S=[...P_,"documentOverlays"],kD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],wS=[...kD,"indexConfiguration","indexState","indexEntries"],OD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class FD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Se((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Se?t:Se.resolve(t)}catch(t){return Se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Se.reject(t)}static resolve(e){return new Se((t,r)=>{t(e)})}static reject(e){return new Se((t,r)=>{r(e)})}static waitFor(e){return new Se((t,r)=>{let o=0,u=0,h=!1;e.forEach(g=>{++o,g.next(()=>{++u,h&&u===o&&t()},w=>r(w))}),h=!0,u===o&&t()})}static or(e){let t=Se.resolve(!1);for(const r of e)t=t.next(o=>o?Se.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,u)=>{r.push(t.call(this,o,u))}),this.waitFor(r)}}class N_{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new ri,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new gm(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const o=cE(r.target.error);this.At.reject(new gm(e,o))}}static open(e,t,r,o){try{return new N_(t,e.transaction(o,r))}catch(u){throw new gm(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Xe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mm(t)}}class Wa{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Wa.Vt((0,sn.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Xe("SimpleDb","Removing database:",e),Tl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,sn.hl)())return!1;if(Wa.St())return!0;const e=(0,sn.z$)(),t=Wa.Vt(e),r=0<t&&t<10,o=Wa.Dt(e),u=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,T.Z)(function*(){return t.db||(Xe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,o)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=h=>{r(h.target.result)},u.onblocked=()=>{o(new gm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=h=>{const g=h.target.error;o("VersionError"===g.name?new We(Ae.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new We(Ae.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new gm(e,g))},u.onupgradeneeded=h=>{Xe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.Pt.kt(h.target.result,u.transaction,h.oldVersion,t.version).next(()=>{Xe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,o){var u=this;return(0,T.Z)(function*(){const h="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.Nt(e);const w=N_.open(u.db,e,h?"readonly":"readwrite",r),S=o(w).next(O=>(w.bt(),O)).catch(O=>(w.abort(O),Se.reject(O))).toPromise();return S.catch(()=>{}),yield w.Rt,S}catch(w){const S="FirebaseError"!==w.name&&g<3;if(Xe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",S),u.close(),!S)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class pm{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Tl(this.Ft.delete())}}class gm extends We{constructor(e,t){super(Ae.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dl(n){return"IndexedDbTransactionError"===n.name}class mm{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Xe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Xe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Tl(r)}add(e){return Xe("SimpleDb","ADD",this.store.name,e,e),Tl(this.store.add(e))}get(e){return Tl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Xe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Xe("SimpleDb","DELETE",this.store.name,e),Tl(this.store.delete(e))}count(){return Xe("SimpleDb","COUNT",this.store.name),Tl(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const o=this.cursor(r),u=[];return this.Kt(o,(h,g)=>{u.push(g)}).next(()=>u)}{const o=this.store.getAll(r.range);return new Se((u,h)=>{o.onerror=g=>{h(g.target.error)},o.onsuccess=g=>{u(g.target.result)}})}}Gt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new Se((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}Qt(e,t){Xe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const o=this.cursor(r);return this.Kt(o,(u,h,g)=>g.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const o=this.cursor(r);return this.Kt(o,t)}zt(e){const t=this.cursor({});return new Se((r,o)=>{t.onerror=u=>{const h=cE(u.target.error);o(h)},t.onsuccess=u=>{const h=u.target.result;h?e(h.primaryKey,h.value).next(g=>{g?h.continue():r()}):r()}})}Kt(e,t){const r=[];return new Se((o,u)=>{e.onerror=h=>{u(h.target.error)},e.onsuccess=h=>{const g=h.target.result;if(!g)return void o();const w=new pm(g),S=t(g.primaryKey,g.value,w);if(S instanceof Se){const O=S.catch(V=>(w.done(),Se.reject(V)));r.push(O)}w.isDone?o():null===w.Lt?g.continue():g.continue(w.Lt)}}).next(()=>Se.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Tl(n){return new Se((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const o=cE(r.target.error);t(o)}})}let k_=!1;function cE(n){const e=Wa.Vt((0,sn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new We("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return k_||(k_=!0,setTimeout(()=>{throw r},0)),r}}return n}class ym extends FD{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function si(n,e){const t=lt(n);return Wa.xt(t.Ht,e)}class O_{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Hf(u,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&w_(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&w_(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(Ut.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dn())}isEqual(e){return this.batchId===e.batchId&&qd(this.mutations,e.mutations,(t,r)=>la(t,r))&&qd(this.baseMutations,e.baseMutations,(t,r)=>la(t,r))}}class vm{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Ot(e.mutations.length===r.length);let o=Hb;const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new vm(e,t,r,o)}}class dE{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Uc{constructor(e,t,r,o,u=Ut.min(),h=Ut.min(),g=ii.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}withSequenceNumber(e){return new Uc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Uc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class hE{constructor(e){this.Jt=e}}function Kf(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_m(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:om(o=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:ih(o,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:ah(e.version)};else{if(!e.isUnknownDocument())return vt();r.unknownDocument={path:t.path.toArray(),version:ah(e.version)}}var o,u;return r}function _m(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function ah(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function uh(n){const e=new qr(n.seconds,n.nanoseconds);return Ut.fromTimestamp(e)}function Yf(n,e){const t=(e.baseMutations||[]).map(u=>Il(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const h=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(h.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Il(n.Jt,u)),o=qr.fromMillis(e.localWriteTimeMs);return new O_(e.batchId,o,t,r)}function Qf(n){const e=uh(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?uh(n.lastLimboFreeSnapshotVersion):Ut.min();let r;var o;return void 0!==n.query.documents?(Ot(1===(o=n.query).documents.length),r=Zs(eh(S_(o.documents[0])))):r=Zs(M_(n.query)),new Uc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,ii.fromBase64String(n.resumeToken))}function fE(n,e){const t=ah(e.snapshotVersion),r=ah(e.lastLimboFreeSnapshotVersion);let o;o=Uf(e.target)?lm(n.Jt,e.target):x_(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ws(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:o}}function F_(n){const e=M_({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Jg(e,e.limit,"L"):e}function pE(n,e){return new dE(e.largestBatchId,Il(n.Jt,e.overlayMutation))}function gE(n,e){const t=e.path.lastSegment();return[n,_s(e.path.popLast()),t]}class L_{getBundleMetadata(e,t){return mE(e).get(t).next(r=>{if(r)return{id:(o=r).bundleId,createTime:uh(o.createTime),version:o.version};var o})}saveBundleMetadata(e,t){return mE(e).put({bundleId:(r=t).id,createTime:ah(mr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return ws(e).get(t).next(r=>{if(r)return{name:(o=r).name,query:F_(o.bundledQuery),readTime:uh(o.readTime)};var o})}saveNamedQuery(e,t){return ws(e).put({name:(r=t).name,readTime:ah(mr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function mE(n){return si(n,"bundles")}function ws(n){return si(n,"namedQueries")}class V_{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new V_(e,t.uid||"")}getOverlay(e,t){return Bc(e).get(gE(this.userId,t)).next(r=>r?pE(this.M,r):null)}saveOverlays(e,t,r){const o=[];return r.forEach((u,h)=>{const g=new dE(t,h);o.push(this.Xt(e,g))}),Se.waitFor(o)}removeOverlaysForBatchId(e,t,r){const o=new Set;t.forEach(h=>o.add(_s(h.getCollectionPath())));const u=[];return o.forEach(h=>{const g=IDBKeyRange.bound([this.userId,h,r],[this.userId,h,r+1],!1,!0);u.push(Bc(e).Qt("collectionPathOverlayIndex",g))}),Se.waitFor(u)}getOverlaysForCollection(e,t,r){const o=Lc(),u=_s(t),h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Bc(e).qt("collectionPathOverlayIndex",h).next(g=>{for(const w of g){const S=pE(this.M,w);o.set(S.getKey(),S)}return o})}getOverlaysForCollectionGroup(e,t,r,o){const u=Lc();let h;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Bc(e).Wt({index:"collectionGroupOverlayIndex",range:g},(w,S,O)=>{const V=pE(this.M,S);u.size()<o||V.largestBatchId===h?(u.set(V.getKey(),V),h=V.largestBatchId):O.done()}).next(()=>u)}Xt(e,t){return Bc(e).put(function(r,o,u){const[h,g,w]=gE(o,u.mutation.key);return{userId:o,collectionPath:g,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Zf(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function Bc(n){return si(n,"documentOverlays")}class jc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Cr(e.integerValue));else if("doubleValue"in e){const r=Cr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),Wd(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(_l(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?wb(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):vt()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ae(e,t){this.ne(t,37),it.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function VD(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function wm(n){const e=64-function(t){let r=0;for(let o=0;o<8;++o){const u=VD(255&t[o]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}jc.fe=new jc;class yE{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const o=t.codePointAt(0);this._e(240|o>>>18),this._e(128|63&o>>>12),this._e(128|63&o>>>6),this._e(128|63&o)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const o=t.codePointAt(0);this.ge(240|o>>>18),this.ge(128|63&o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o)}}this.ye()}Te(e){const t=this.Ee(e),r=wm(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=255&t[o]}Re(e){const t=this.Ee(e),r=wm(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let o=t.length-r;o<t.length;++o)this.buffer[this.position++]=~(255&t[o])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(o){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,o,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let o=1;o<t.length;++o)t[o]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const o=new Uint8Array(r);o.set(this.buffer),this.buffer=o}}class vE{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class UD{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class lh{constructor(){this.De=new yE,this.Ce=new vE(this.De),this.xe=new UD(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class Al{constructor(e,t,r,o){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=o}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Al(this.indexId,this.documentKey,this.arrayValue,r)}}function $c(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=U_(n.arrayValue,e.arrayValue),0!==t?t:(t=U_(n.directionalValue,e.directionalValue),0!==t?t:it.comparator(n.documentKey,e.documentKey)))}function U_(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class BD{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=o_(e);if(void 0!==t&&!this.Be(t))return!1;const r=Pc(e);let o=0,u=0;for(;o<r.length&&this.Be(r[o]);++o);if(o===r.length)return!0;if(void 0!==this.Fe){const h=r[o];if(!this.Le(this.Fe,h)||!this.Ue(this.Me[u++],h))return!1;++o}for(;o<r.length;++o){const h=r[o];if(u>=this.Me.length||!this.Ue(this.Me[u++],h))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class B_{constructor(){this.qe=new Za}addToCollectionParentIndex(e,t){return this.qe.add(t),Se.resolve()}getCollectionParents(e,t){return Se.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return Se.resolve()}deleteFieldIndex(e,t){return Se.resolve()}getDocumentsMatchingTarget(e,t){return Se.resolve(null)}getIndexType(e,t){return Se.resolve(0)}getFieldIndexes(e,t){return Se.resolve([])}getNextCollectionGroupToUpdate(e){return Se.resolve(null)}getMinOffset(e,t){return Se.resolve(aa.min())}updateCollectionGroup(e,t,r){return Se.resolve()}updateIndexEntries(e,t){return Se.resolve()}}class Za{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Wn(vn.comparator),u=!o.has(r);return this.index[t]=o.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Wn(vn.comparator)).toArray()}}const Jf=new Uint8Array(0);class _E{constructor(e,t){this.user=e,this.databaseId=t,this.Ke=new Za,this.Ge=new Tu(r=>Ws(r),(r,o)=>Vf(r,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ke.has(t)){const r=t.lastSegment(),o=t.popLast();e.addOnCommittedListener(()=>{this.Ke.add(t)});const u={collectionId:r,parent:_s(o)};return da(e).put(u)}return Se.resolve()}getCollectionParents(e,t){const r=[],o=IDBKeyRange.bound([t,""],[pb(t),""],!1,!0);return da(e).qt(o).next(u=>{for(const h of u){if(h.collectionId!==t)break;r.push(za(h.parent))}return r})}addFieldIndex(e,t){const r=j_(e),o={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;return delete o.indexId,r.add(o).next()}deleteFieldIndex(e,t){const r=j_(e),o=bm(e),u=Xf(e);return r.delete(t.indexId).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Xf(e);let o=!0;const u=new Map;return Se.forEach(this.Qe(t),h=>this.je(e,h).next(g=>{o&&(o=!!g),u.set(h,g)})).next(()=>{if(o){let h=Dn();const g=[];return Se.forEach(u,(w,S)=>{var O;Xe("IndexedDbIndexManager",`Using index ${O=w,`id=${O.indexId}|cg=${O.collectionGroup}|f=${O.fields.map(mn=>`${mn.fieldPath}:${mn.kind}`).join(",")}`} to execute ${Ws(t)}`);const V=function(mn,nn){const hn=o_(nn);if(void 0===hn)return null;for(const On of Yg(mn,hn.fieldPath))switch(On.op){case"array-contains-any":return On.value.arrayValue.values||[];case"array-contains":return[On.value]}return null}(S,w),de=function(mn,nn){const hn=new Map;for(const On of Pc(nn))for(const Is of Yg(mn,On.fieldPath))switch(Is.op){case"==":case"in":hn.set(On.fieldPath.canonicalString(),Is.value);break;case"not-in":case"!=":return hn.set(On.fieldPath.canonicalString(),Is.value),Array.from(hn.values())}return null}(S,w),be=function(mn,nn){const hn=[];let On=!0;for(const Is of Pc(nn)){const g0=0===Is.kind?kc(mn,Is.fieldPath,mn.startAt):Xd(mn,Is.fieldPath,mn.startAt);hn.push(g0.value),On&&(On=g0.inclusive)}return new Ga(hn,On)}(S,w),Me=function(mn,nn){const hn=[];let On=!0;for(const Is of Pc(nn)){const g0=0===Is.kind?Xd(mn,Is.fieldPath,mn.endAt):kc(mn,Is.fieldPath,mn.endAt);hn.push(g0.value),On&&(On=g0.inclusive)}return new Ga(hn,On)}(S,w),nt=this.We(w,S,be),_t=this.We(w,S,Me),cn=this.ze(w,S,de),dn=this.He(w.indexId,V,nt,be.inclusive,_t,Me.inclusive,cn);return Se.forEach(dn,mn=>r.Gt(mn,t.limit).next(nn=>{nn.forEach(hn=>{const On=it.fromSegments(hn.documentKey);h.has(On)||(h=h.add(On),g.push(On))})}))}).next(()=>g)}return Se.resolve(null)})}Qe(e){let t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}He(e,t,r,o,u,h,g){const w=(null!=t?t.length:1)*Math.max(r.length,u.length),S=w/(null!=t?t.length:1),O=[];for(let V=0;V<w;++V){const de=t?this.Je(t[V/S]):Jf,be=this.Ye(e,de,r[V%S],o),Me=this.Xe(e,de,u[V%S],h),nt=g.map(_t=>this.Ye(e,de,_t,!0));O.push(...this.createRange(be,Me,nt))}return O}Ye(e,t,r,o){const u=new Al(e,it.empty(),t,r);return o?u:u.ke()}Xe(e,t,r,o){const u=new Al(e,it.empty(),t,r);return o?u.ke():u}je(e,t){const r=new BD(t),o=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,o).next(u=>{let h=null;for(const g of u)r.$e(g)&&(!h||g.fields.length>h.fields.length)&&(h=g);return h})}getIndexType(e,t){let r=2;return Se.forEach(this.Qe(t),o=>this.je(e,o).next(u=>{u?0!==r&&u.fields.length<function(h){let g=new Wn(zr.comparator),w=!1;for(const S of h.filters){const O=S;O.field.isKeyField()||("array-contains"===O.op||"array-contains-any"===O.op?w=!0:g=g.add(O.field))}for(const S of h.orderBy)S.field.isKeyField()||(g=g.add(S.field));return g.size+(w?1:0)}(o)&&(r=1):r=0})).next(()=>r)}Ze(e,t){const r=new lh;for(const o of Pc(e)){const u=t.data.field(o.fieldPath);if(null==u)return null;const h=r.Ne(o.kind);jc.fe.Zt(u,h)}return r.Se()}Je(e){const t=new lh;return jc.fe.Zt(e,t.Ne(0)),t.Se()}tn(e,t){const r=new lh;return jc.fe.Zt(Rc(this.databaseId,t),r.Ne(function(o){const u=Pc(o);return 0===u.length?0:u[u.length-1].kind}(e))),r.Se()}ze(e,t,r){if(null===r)return[];let o=[];o.push(new lh);let u=0;for(const h of Pc(e)){const g=r[u++];for(const w of o)if(this.en(t,h.fieldPath)&&Of(g))o=this.nn(o,h,g);else{const S=w.Ne(h.kind);jc.fe.Zt(g,S)}}return this.sn(o)}We(e,t,r){return this.ze(e,t,r.position)}sn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}nn(e,t,r){const o=[...e],u=[];for(const h of r.arrayValue.values||[])for(const g of o){const w=new lh;w.seed(g.Se()),jc.fe.Zt(h,w.Ne(t.kind)),u.push(w)}return u}en(e,t){return!!e.filters.find(r=>r instanceof Ai&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=j_(e),o=bm(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const h=[];return Se.forEach(u,g=>o.get([g.indexId,this.uid]).next(w=>{h.push(function(S,O){const V=O?new Nc(O.sequenceNumber,new aa(uh(O.readTime),new it(za(O.documentKey)),O.largestBatchId)):Nc.empty(),de=S.fields.map(([be,Me])=>new Qd(zr.fromServerFormat(be),Me));return new Zg(S.indexId,S.collectionGroup,de,V)}(g,w))})).next(()=>h)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,o)=>{const u=r.indexState.sequenceNumber-o.indexState.sequenceNumber;return 0!==u?u:Jt(r.collectionGroup,o.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const o=j_(e),u=bm(e);return this.rn(e).next(h=>o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>Se.forEach(g,w=>{return u.put({indexId:w.indexId,uid:this.user.uid||"",sequenceNumber:h,readTime:ah((de=r).readTime),documentKey:_s(de.documentKey.path),largestBatchId:de.largestBatchId});var de})))}updateIndexEntries(e,t){const r=new Map;return Se.forEach(t,(o,u)=>{const h=r.get(o.collectionGroup);return(h?Se.resolve(h):this.getFieldIndexes(e,o.collectionGroup)).next(g=>(r.set(o.collectionGroup,g),Se.forEach(g,w=>this.on(e,o,w).next(S=>{const O=this.un(u,w);return S.isEqual(O)?Se.resolve():this.an(e,u,w,S,O)}))))})}cn(e,t,r,o){return Xf(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,orderedDocumentKey:this.tn(r,t.key),documentKey:t.key.path.toArray()})}hn(e,t,r,o){return Xf(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,this.tn(r,t.key),t.key.path.toArray()])}on(e,t,r){const o=Xf(e);let u=new Wn($c);return o.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.tn(r,t)])},(h,g)=>{u=u.add(new Al(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}un(e,t){let r=new Wn($c);const o=this.Ze(t,e);if(null==o)return r;const u=o_(t);if(null!=u){const h=e.data.field(u.fieldPath);if(Of(h))for(const g of h.arrayValue.values||[])r=r.add(new Al(t.indexId,e.key,this.Je(g),o))}else r=r.add(new Al(t.indexId,e.key,Jf,o));return r}an(e,t,r,o,u){Xe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const h=[];return function(g,w,S,O,V){const de=g.getIterator(),be=w.getIterator();let Me=Lf(de),nt=Lf(be);for(;Me||nt;){let _t=!1,cn=!1;if(Me&&nt){const dn=S(Me,nt);dn<0?cn=!0:dn>0&&(_t=!0)}else null!=Me?cn=!0:_t=!0;_t?(O(nt),nt=Lf(be)):cn?(V(Me),Me=Lf(de)):(Me=Lf(de),nt=Lf(be))}}(o,u,$c,g=>{h.push(this.cn(e,t,r,g))},g=>{h.push(this.hn(e,t,r,g))}),Se.waitFor(h)}rn(e){let t=1;return bm(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,o,u)=>{u.done(),t=o.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((h,g)=>$c(h,g)).filter((h,g,w)=>!g||0!==$c(h,w[g-1]));const o=[];o.push(e);for(const h of r){const g=$c(h,e),w=$c(h,t);if(0===g)o[0]=e.ke();else if(g>0&&w<0)o.push(h),o.push(h.ke());else if(w>0)break}o.push(t);const u=[];for(let h=0;h<o.length;h+=2)u.push(IDBKeyRange.bound([o[h].indexId,this.uid,o[h].arrayValue,o[h].directionalValue,Jf,[]],[o[h+1].indexId,this.uid,o[h+1].arrayValue,o[h+1].directionalValue,Jf,[]]));return u}getMinOffset(e,t){let r;return Se.forEach(this.Qe(t),o=>this.je(e,o).next(u=>{u?(!r||Eb(u.indexState.offset,r)<0)&&(r=u.indexState.offset):r=aa.min()})).next(()=>r)}}function da(n){return si(n,"collectionParents")}function Xf(n){return si(n,"indexEntries")}function j_(n){return si(n,"indexConfiguration")}function bm(n){return si(n,"indexState")}const wE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new bs(e,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bE(n,e,t){const r=n.store("mutations"),o=n.store("documentMutations"),u=[],h=IDBKeyRange.only(t.batchId);let g=0;const w=r.Wt({range:h},(O,V,de)=>(g++,de.delete()));u.push(w.next(()=>{Ot(1===g)}));const S=[];for(const O of t.mutations){const V=R_(e,O.key.path,t.batchId);u.push(o.delete(V)),S.push(O.key)}return Se.waitFor(u).next(()=>S)}function ep(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw vt();e=n.noDocument}return JSON.stringify(e).length}bs.DEFAULT_COLLECTION_PERCENTILE=10,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bs.DEFAULT=new bs(41943040,bs.DEFAULT_COLLECTION_PERCENTILE,bs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bs.DISABLED=new bs(-1,0,0);class EE{constructor(e,t,r,o){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=o,this.ln={}}static Yt(e,t,r,o){Ot(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new EE(u,t,r,o)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).Wt({index:"userMutationsIndex",range:r},(o,u,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,o){const u=Hc(e),h=Sl(e);return h.add({}).next(g=>{Ot("number"==typeof g);const w=new O_(g,t,r,o),S=function(de,be,Me){const nt=Me.baseMutations.map(cn=>Zf(de.Jt,cn)),_t=Me.mutations.map(cn=>Zf(de.Jt,cn));return{userId:be,batchId:Me.batchId,localWriteTimeMs:Me.localWriteTime.toMillis(),baseMutations:nt,mutations:_t}}(this.M,this.userId,w),O=[];let V=new Wn((de,be)=>Jt(de.canonicalString(),be.canonicalString()));for(const de of o){const be=R_(this.userId,de.key.path,g);V=V.add(de.key.path.popLast()),O.push(h.put(S)),O.push(u.put(be,nE))}return V.forEach(de=>{O.push(this.indexManager.addToCollectionParentIndex(e,de))}),e.addOnCommittedListener(()=>{this.ln[g]=w.keys()}),Se.waitFor(O).next(()=>w)})}lookupMutationBatch(e,t){return Sl(e).get(t).next(r=>r?(Ot(r.userId===this.userId),Yf(this.M,r)):null)}fn(e,t){return this.ln[t]?Se.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const o=r.keys();return this.ln[t]=o,o}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,o=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Sl(e).Wt({index:"userMutationsIndex",range:o},(h,g,w)=>{g.userId===this.userId&&(Ot(g.batchId>=r),u=Yf(this.M,g)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Sl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(o,u,h)=>{r=u.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).qt("userMutationsIndex",t).next(r=>r.map(o=>Yf(this.M,o)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=fm(this.userId,t.path),o=IDBKeyRange.lowerBound(r),u=[];return Hc(e).Wt({range:o},(h,g,w)=>{const[S,O,V]=h,de=za(O);if(S===this.userId&&t.path.isEqual(de))return Sl(e).get(V).next(be=>{if(!be)throw vt();Ot(be.userId===this.userId),u.push(Yf(this.M,be))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Jt);const o=[];return t.forEach(u=>{const h=fm(this.userId,u.path),g=IDBKeyRange.lowerBound(h),w=Hc(e).Wt({range:g},(S,O,V)=>{const[de,be,Me]=S,nt=za(be);de===this.userId&&u.path.isEqual(nt)?r=r.add(Me):V.done()});o.push(w)}),Se.waitFor(o).next(()=>this.dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1,u=fm(this.userId,r),h=IDBKeyRange.lowerBound(u);let g=new Wn(Jt);return Hc(e).Wt({range:h},(w,S,O)=>{const[V,de,be]=w,Me=za(de);V===this.userId&&r.isPrefixOf(Me)?Me.length===o&&(g=g.add(be)):O.done()}).next(()=>this.dn(e,g))}dn(e,t){const r=[],o=[];return t.forEach(u=>{o.push(Sl(e).get(u).next(h=>{if(null===h)throw vt();Ot(h.userId===this.userId),r.push(Yf(this.M,h))}))}),Se.waitFor(o).next(()=>r)}removeMutationBatch(e,t){return bE(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this._n(t.batchId)}),Se.forEach(r,o=>this.referenceDelegate.markPotentiallyOrphaned(e,o))))}_n(e){delete this.ln[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Se.resolve();const r=IDBKeyRange.lowerBound([this.userId]),o=[];return Hc(e).Wt({range:r},(u,h,g)=>{if(u[0]===this.userId){const w=za(u[1]);o.push(w)}else g.done()}).next(()=>{Ot(0===o.length)})})}containsKey(e,t){return $_(e,this.userId,t)}wn(e){return jD(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $_(n,e,t){const r=fm(e,t.path),o=r[1],u=IDBKeyRange.lowerBound(r);let h=!1;return Hc(n).Wt({range:u,jt:!0},(g,w,S)=>{const[O,V,de]=g;O===e&&V===o&&(h=!0),S.done()}).next(()=>h)}function Sl(n){return si(n,"mutations")}function Hc(n){return si(n,"documentMutations")}function jD(n){return si(n,"mutationQueues")}class xu{constructor(e){this.mn=e}next(){return this.mn+=2,this.mn}static gn(){return new xu(0)}static yn(){return new xu(-1)}}class CE{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.pn(e).next(t=>{const r=new xu(t.highestTargetId);return t.highestTargetId=r.next(),this.In(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.pn(e).next(t=>Ut.fromTimestamp(new qr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.pn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.pn(e).next(o=>(o.highestListenSequenceNumber=t,r&&(o.lastRemoteSnapshotVersion=r.toTimestamp()),t>o.highestListenSequenceNumber&&(o.highestListenSequenceNumber=t),this.In(e,o)))}addTargetData(e,t){return this.Tn(e,t).next(()=>this.pn(e).next(r=>(r.targetCount+=1,this.En(t,r),this.In(e,r))))}updateTargetData(e,t){return this.Tn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gc(e).delete(t.targetId)).next(()=>this.pn(e)).next(r=>(Ot(r.targetCount>0),r.targetCount-=1,this.In(e,r)))}removeTargets(e,t,r){let o=0;const u=[];return Gc(e).Wt((h,g)=>{const w=Qf(g);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(o++,u.push(this.removeTargetData(e,w)))}).next(()=>Se.waitFor(u)).next(()=>o)}forEachTarget(e,t){return Gc(e).Wt((r,o)=>{const u=Qf(o);t(u)})}pn(e){return IE(e).get("targetGlobalKey").next(t=>(Ot(null!==t),t))}In(e,t){return IE(e).put("targetGlobalKey",t)}Tn(e,t){return Gc(e).put(fE(this.M,t))}En(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.pn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ws(t),o=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return Gc(e).Wt({range:o,index:"queryTargetsIndex"},(h,g,w)=>{const S=Qf(g);Vf(t,S.target)&&(u=S,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const o=[],u=Mu(e);return t.forEach(h=>{const g=_s(h.path);o.push(u.put({targetId:r,path:g})),o.push(this.referenceDelegate.addReference(e,r,h))}),Se.waitFor(o)}removeMatchingKeys(e,t,r){const o=Mu(e);return Se.forEach(t,u=>{const h=_s(u.path);return Se.waitFor([o.delete([r,h]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Mu(e),o=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(o)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),o=Mu(e);let u=Dn();return o.Wt({range:r,jt:!0},(h,g,w)=>{const S=za(h[1]),O=new it(S);u=u.add(O)}).next(()=>u)}containsKey(e,t){const r=_s(t.path),o=IDBKeyRange.bound([r],[pb(r)],!1,!0);let u=0;return Mu(e).Wt({index:"documentTargetsIndex",jt:!0,range:o},([h,g],w,S)=>{0!==h&&(u++,S.done())}).next(()=>u>0)}Et(e,t){return Gc(e).get(t).next(r=>r?Qf(r):null)}}function Gc(n){return si(n,"targets")}function IE(n){return si(n,"targetGlobal")}function Mu(n){return si(n,"targetDocuments")}function xl(n){return ch.apply(this,arguments)}function ch(){return ch=(0,T.Z)(function*(n){if(n.code!==Ae.FAILED_PRECONDITION||n.message!==OD)throw n;Xe("LocalStore","Unexpectedly lost primary lease")}),ch.apply(this,arguments)}function tp([n,e],[t,r]){const o=Jt(n,t);return 0===o?Jt(e,r):o}class DE{constructor(e){this.An=e,this.buffer=new Wn(tp),this.Rn=0}bn(){return++this.Rn}Pn(e){const t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tp(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class $D{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Vn=!1,this.vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}stop(){this.vn&&(this.vn.cancel(),this.vn=null)}get started(){return null!==this.vn}Sn(e){var t=this;const r=this.Vn?3e5:6e4;Xe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,T.Z)(function*(){t.vn=null,t.Vn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(o){Dl(o)?Xe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield xl(o)}yield t.Sn(e)}))}}class TE{constructor(e,t){this.Dn=e,this.params=t}calculateTargetCount(e,t){return this.Dn.Cn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Se.resolve(vs.A);const r=new DE(t);return this.Dn.forEachTarget(e,o=>r.Pn(o.sequenceNumber)).next(()=>this.Dn.xn(e,o=>r.Pn(o))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Dn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Dn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector","Garbage collection skipped; disabled"),Se.resolve(wE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Xe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wE):this.Nn(e,t))}getCacheSize(e){return this.Dn.getCacheSize(e)}Nn(e,t){let r,o,u,h,g,w,S;const O=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(Xe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),o=this.params.maximumSequenceNumbersToCollect):o=V,h=Date.now(),this.nthSequenceNumber(e,o))).next(V=>(r=V,g=Date.now(),this.removeTargets(e,r,t))).next(V=>(u=V,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(V=>(S=Date.now(),qg()<=La.in.DEBUG&&Xe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-O}ms\n\tDetermined least recently used ${o} in `+(g-h)+`ms\n\tRemoved ${u} targets in `+(w-g)+`ms\n\tRemoved ${V} documents in `+(S-w)+`ms\nTotal Duration: ${S-O}ms`),Se.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:V})))}}class AE{constructor(e,t){this.db=e,this.garbageCollector=new TE(this,t)}Cn(e){const t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(o=>r+o))}kn(e){let t=0;return this.xn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}xn(e,t){return this.Mn(e,(r,o)=>t(o))}addReference(e,t,r){return Em(e,r)}removeReference(e,t,r){return Em(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Em(e,t)}On(e,t){return function(r,o){let u=!1;return jD(r).zt(h=>$_(r,h,o).next(g=>(g&&(u=!0),Se.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),o=[];let u=0;return this.Mn(e,(h,g)=>{if(g<=t){const w=this.On(e,h).next(S=>{if(!S)return u++,r.getEntry(e,h).next(()=>(r.removeEntry(h,Ut.min()),Mu(e).delete([0,_s(h.path)])))});o.push(w)}}).next(()=>Se.waitFor(o)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Em(e,t)}Mn(e,t){const r=Mu(e);let o,u=vs.A;return r.Wt({index:"documentTargetsIndex"},([h,g],{path:w,sequenceNumber:S})=>{0===h?(u!==vs.A&&t(new it(za(o)),u),u=S,o=w):u=vs.A}).next(()=>{u!==vs.A&&t(new it(za(o)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Em(n,e){return Mu(n).put((r=n.currentSequenceNumber,{targetId:0,path:_s(e.path),sequenceNumber:r}));var r}class SE{constructor(){this.changes=new Tu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Se.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bS{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return qc(e).put(r)}removeEntry(e,t,r){return qc(e).delete(function(o,u){const h=o.path.toArray();return[h.slice(0,h.length-2),h[h.length-2],_m(u),h[h.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Fn(e,r)))}getEntry(e,t){let r=zn.newInvalidDocument(t);return qc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(np(t))},(o,u)=>{r=this.$n(t,u)}).next(()=>r)}Bn(e,t){let r={size:0,document:zn.newInvalidDocument(t)};return qc(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(np(t))},(o,u)=>{r={document:this.$n(t,u),size:ep(u)}}).next(()=>r)}getEntries(e,t){let r=xo();return this.Ln(e,t,(o,u)=>{const h=this.$n(o,u);r=r.insert(o,h)}).next(()=>r)}Un(e,t){let r=xo(),o=new gr(it.comparator);return this.Ln(e,t,(u,h)=>{const g=this.$n(u,h);r=r.insert(u,g),o=o.insert(u,ep(h))}).next(()=>({documents:r,qn:o}))}Ln(e,t,r){if(t.isEmpty())return Se.resolve();let o=new Wn(HD);t.forEach(w=>o=o.add(w));const u=IDBKeyRange.bound(np(o.first()),np(o.last())),h=o.getIterator();let g=h.getNext();return qc(e).Wt({index:"documentKeyIndex",range:u},(w,S,O)=>{const V=it.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;g&&HD(g,V)<0;)r(g,null),g=h.getNext();g&&g.isEqual(V)&&(r(g,S),g=h.hasNext()?h.getNext():null),g?O.Ut(np(g)):O.done()}).next(()=>{for(;g;)r(g,null),g=h.hasNext()?h.getNext():null})}getAllFromCollection(e,t,r){const o=[t.popLast().toArray(),t.lastSegment(),_m(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return qc(e).qt(IDBKeyRange.bound(o,u,!0)).next(h=>{let g=xo();for(const w of h){const S=this.$n(it.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);g=g.insert(S.key,S)}return g})}getAllFromCollectionGroup(e,t,r,o){let u=xo();const h=xE(t,r),g=xE(t,aa.max());return qc(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(h,g,!0)},(w,S,O)=>{const V=this.$n(it.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);u=u.insert(V.key,V),u.size===o&&O.done()}).next(()=>u)}newChangeBuffer(e){return new ES(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return H_(e).get("remoteDocumentGlobalKey").next(t=>(Ot(!!t),t))}Fn(e,t){return H_(e).put("remoteDocumentGlobalKey",t)}$n(e,t){if(t){const r=function LD(n,e){let t;if(e.document)t=Qb(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=it.fromSegments(e.noDocument.path),o=uh(e.noDocument.readTime);t=zn.newNoDocument(r,o),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return vt();{const r=it.fromSegments(e.unknownDocument.path),o=uh(e.unknownDocument.version);t=zn.newUnknownDocument(r,o)}}return e.readTime&&t.setReadTime(function(r){const o=new qr(r[0],r[1]);return Ut.fromTimestamp(o)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Ut.min()))return r}return zn.newInvalidDocument(e)}}class ES extends SE{constructor(e,t){super(),this.Kn=e,this.trackRemovals=t,this.Gn=new Tu(r=>r.toString(),(r,o)=>r.isEqual(o))}applyChanges(e){const t=[];let r=0,o=new Wn((u,h)=>Jt(u.canonicalString(),h.canonicalString()));return this.changes.forEach((u,h)=>{const g=this.Gn.get(u);if(t.push(this.Kn.removeEntry(e,u,g.readTime)),h.isValidDocument()){const w=Kf(this.Kn.M,h);o=o.add(u.path.popLast()),r+=ep(w)-g.size,t.push(this.Kn.addEntry(e,u,w))}else if(r-=g.size,this.trackRemovals){const w=Kf(this.Kn.M,h.convertToNoDocument(Ut.min()));t.push(this.Kn.addEntry(e,u,w))}}),o.forEach(u=>{t.push(this.Kn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.Kn.updateMetadata(e,r)),Se.waitFor(t)}getFromCache(e,t){return this.Kn.Bn(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Kn.Un(e,t).next(({documents:r,qn:o})=>(o.forEach((u,h)=>{this.Gn.set(u,{size:h,readTime:r.get(u).readTime})}),r))}}function H_(n){return si(n,"remoteDocumentGlobal")}function qc(n){return si(n,"remoteDocumentsV14")}function np(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function xE(n,e){const t=e.documentKey.path.toArray();return[n,_m(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function HD(n,e){const t=n.path.toArray(),r=e.path.toArray();let o=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(o=Jt(t[u],r[u]),o)return o;return o=Jt(t.length,r.length),o||(o=Jt(t[t.length-2],r[r.length-2]),o||Jt(t[t.length-1],r[r.length-1]))}class CS{constructor(e){this.M=e}kt(e,t,r,o){const u=new N_("createOrUpgrade",t);var g;r<1&&o>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tE,{unique:!0}),g.createObjectStore("documentMutations"),GD(e),function(g){g.createObjectStore("remoteDocuments")}(e));let h=Se.resolve();return r<3&&o>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),GD(e)),h=h.next(()=>function(g){const w=g.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ut.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",S)}(u))),r<4&&o>=4&&(0!==r&&(h=h.next(()=>function(g,w){return w.store("mutations").qt().next(S=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",tE,{unique:!0});const O=w.store("mutations"),V=S.map(de=>O.put(de));return Se.waitFor(V)})}(e,u))),h=h.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&o>=5&&(h=h.next(()=>this.Qn(u))),r<6&&o>=6&&(h=h.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.jn(u)))),r<7&&o>=7&&(h=h.next(()=>this.Wn(u))),r<8&&o>=8&&(h=h.next(()=>this.zn(e,u))),r<9&&o>=9&&(h=h.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&o>=10&&(h=h.next(()=>this.Hn(u))),r<11&&o>=11&&(h=h.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&o>=12&&(h=h.next(()=>{!function(g){const w=g.createObjectStore("documentOverlays",{keyPath:PD});w.createIndex("collectionPathOverlayIndex",ND,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",vS,{unique:!1})}(e)})),r<13&&o>=13&&(h=h.next(()=>function(g){const w=g.createObjectStore("remoteDocumentsV14",{keyPath:SD});w.createIndex("documentKeyIndex",rE),w.createIndex("collectionGroupIndex",iE)}(e)).next(()=>this.Jn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&o>=14&&(h=h.next(()=>{!function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:oE}).createIndex("sequenceNumberIndex",aE,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:uE}).createIndex("documentKeyIndex",lE,{unique:!1})}(e)})),h}jn(e){let t=0;return e.store("remoteDocuments").Wt((r,o)=>{t+=ep(o)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Qn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(o=>Se.forEach(o,u=>{const h=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",h).next(g=>Se.forEach(g,w=>{Ot(w.userId===u.userId);const S=Yf(this.M,w);return bE(e,u.userId,S).next(()=>{})}))}))}Wn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(o=>{const u=[];return r.Wt((h,g)=>{const w=new vn(h),S=[0,_s(w)];u.push(t.get(S).next(O=>O?Se.resolve():t.put({targetId:0,path:_s(w),sequenceNumber:o.highestListenSequenceNumber})))}).next(()=>Se.waitFor(u))})}zn(e,t){e.createObjectStore("collectionParents",{keyPath:RD});const r=t.store("collectionParents"),o=new Za,u=h=>{if(o.add(h)){const g=h.lastSegment(),w=h.popLast();return r.put({collectionId:g,parent:_s(w)})}};return t.store("remoteDocuments").Wt({jt:!0},(h,g)=>{const w=new vn(h);return u(w.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([h,g,w],S)=>{const O=za(g);return u(O.popLast())}))}Hn(e){const t=e.store("targets");return t.Wt((r,o)=>{const u=Qf(o),h=fE(this.M,u);return t.put(h)})}Jn(e,t){const r=t.store("remoteDocuments"),o=[];return r.Wt((u,h)=>{const g=t.store("remoteDocumentsV14"),w=(S=h,S.document?new it(vn.fromString(S.document.name).popFirst(5)):S.noDocument?it.fromSegments(S.noDocument.path):S.unknownDocument?it.fromSegments(S.unknownDocument.path):vt()).path.toArray();var S;const O={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:h.readTime||[0,0],unknownDocument:h.unknownDocument,noDocument:h.noDocument,document:h.document,hasCommittedMutations:!!h.hasCommittedMutations};o.push(g.put(O))}).next(()=>Se.waitFor(o))}}function GD(n){n.createObjectStore("targetDocuments",{keyPath:MD}).createIndex("documentTargetsIndex",sE,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xD,{unique:!0}),n.createObjectStore("targetGlobal")}const ME="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class RE{constructor(e,t,r,o,u,h,g,w,S,O,V=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Yn=u,this.window=h,this.document=g,this.Xn=S,this.Zn=O,this.ts=V,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=de=>Promise.resolve(),!RE.vt())throw new We(Ae.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AE(this,o),this.hs=t+"main",this.M=new hE(w),this.ls=new Wa(this.hs,this.ts,new CS(this.M)),this.fs=new CE(this.referenceDelegate,this.M),this.ds=new bS(this.M),this._s=new L_,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===O&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.gs().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new We(Ae.FAILED_PRECONDITION,ME);return this.ys(),this.ps(),this.Is(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.fs.getHighestSequenceNumber(e))}).then(e=>{this.es=new vs(e,this.Xn)}).then(()=>{this.ns=!0}).catch(e=>(this.ls&&this.ls.close(),Promise.reject(e)))}Ts(e){var t=this;return this.cs=function(){var r=(0,T.Z)(function*(o){if(t.started)return e(o)});return function(o){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ls.Ot(function(){var t=(0,T.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget((0,T.Z)(function*(){t.started&&(yield t.gs())})))}gs(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>zc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Es(e).next(t=>{t||(this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)))})}).next(()=>this.As(e)).next(t=>this.isPrimary&&!t?this.Rs(e).next(()=>!1):!!t&&this.bs(e).next(()=>!0))).catch(e=>{if(Dl(e))return Xe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Xe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Yn.enqueueRetryable(()=>this.cs(e)),this.isPrimary=e})}Es(e){return rp(e).get("owner").next(t=>Se.resolve(this.Ps(t)))}Vs(e){return zc(e).delete(this.clientId)}vs(){var e=this;return(0,T.Z)(function*(){if(e.isPrimary&&!e.Ss(e.us,18e5)){e.us=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const o=si(r,"clientMetadata");return o.qt().next(u=>{const h=e.Ds(u,18e5),g=u.filter(w=>-1===h.indexOf(w));return Se.forEach(g,w=>o.delete(w.clientId)).next(()=>g)})}).catch(()=>[]);if(e.ws)for(const r of t)e.ws.removeItem(e.Cs(r.clientId))}})()}Is(){this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.gs().then(()=>this.vs()).then(()=>this.Is()))}Ps(e){return!!e&&e.ownerId===this.clientId}As(e){return this.Zn?Se.resolve(!0):rp(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)){if(this.Ps(t)&&this.networkEnabled)return!0;if(!this.Ps(t)){if(!t.allowTabSynchronization)throw new We(Ae.FAILED_PRECONDITION,ME);return!1}}return!(!this.networkEnabled||!this.inForeground)||zc(e).qt().next(r=>void 0===this.Ds(r,5e3).find(o=>{if(this.clientId!==o.clientId){const h=!this.inForeground&&o.inForeground,g=this.networkEnabled===o.networkEnabled;if(!this.networkEnabled&&o.networkEnabled||h&&g)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Xe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,T.Z)(function*(){e.ns=!1,e.Ns(),e.os&&(e.os.cancel(),e.os=null),e.ks(),e.Ms(),yield e.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new ym(t,vs.A);return e.Rs(r).next(()=>e.Vs(r))}),e.ls.close(),e.Os()})()}Ds(e,t){return e.filter(r=>this.Ss(r.updateTimeMs,t)&&!this.xs(r.clientId))}Fs(){return this.runTransaction("getActiveClients","readonly",e=>zc(e).qt().next(t=>this.Ds(t,18e5).map(r=>r.clientId)))}get started(){return this.ns}getMutationQueue(e,t){return EE.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getIndexManager(e){return new _E(e,this.M.Jt.databaseId)}getDocumentOverlayCache(e){return V_.Yt(this.M,e)}getBundleCache(){return this._s}runTransaction(e,t,r){Xe("IndexedDbPersistence","Starting transaction:",e);const o="readonly"===t?"readonly":"readwrite",u=14===(h=this.ts)?wS:13===h?kD:12===h?_S:11===h?P_:void vt();var h;let g;return this.ls.runTransaction(e,o,u,w=>(g=new ym(w,this.es?this.es.next():vs.A),"readwrite-primary"===t?this.Es(g).next(S=>!!S||this.As(g)).next(S=>{if(!S)throw Fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Yn.enqueueRetryable(()=>this.cs(!1)),new We(Ae.FAILED_PRECONDITION,OD);return r(g)}).next(S=>this.bs(g).next(()=>S)):this.$s(g).next(()=>r(g)))).then(w=>(g.raiseOnCommittedEvent(),w))}$s(e){return rp(e).get("owner").next(t=>{if(null!==t&&this.Ss(t.leaseTimestampMs,5e3)&&!this.xs(t.ownerId)&&!this.Ps(t)&&!(this.Zn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new We(Ae.FAILED_PRECONDITION,ME)})}bs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rp(e).put("owner",t)}static vt(){return Wa.vt()}Rs(e){const t=rp(e);return t.get("owner").next(r=>this.Ps(r)?(Xe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Se.resolve())}Ss(e,t){const r=Date.now();return!(e<r-t||e>r&&(Fr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ys(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=()=>{this.Yn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.gs()))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}ks(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}ps(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=()=>{this.Ns(),(0,sn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Yn.enterRestrictedMode(!0),this.Yn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ss))}Ms(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}xs(e){var t;try{const r=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Xe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ns(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(e){Fr("Failed to set zombie client id.",e)}}Os(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch{}}Cs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rp(n){return si(n,"owner")}function zc(n){return si(n,"clientMetadata")}function G_(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class qD{constructor(e,t,r){this.ds=e,this.Bs=t,this.indexManager=r}Ls(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Us(e,t,r))}Us(e,t,r){return this.ds.getEntry(e,t).next(o=>{for(const u of r)u.applyToLocalView(o);return o})}qs(e,t){e.forEach((r,o)=>{for(const u of t)u.applyToLocalView(o)})}Ks(e,t){return this.ds.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Qs(e,t,r){return it.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.js(e,t.path):h_(t)?this.Ws(e,t,r):this.zs(e,t,r);var o}js(e,t){return this.Ls(e,new it(t)).next(r=>{let o=Gf();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}Ws(e,t,r){const o=t.collectionGroup;let u=Gf();return this.indexManager.getCollectionParents(e,o).next(h=>Se.forEach(h,g=>{const w=(S=t,O=g.child(o),new qa(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,O;return this.zs(e,w,r).next(S=>{S.forEach((O,V)=>{u=u.insert(O,V)})})}).next(()=>u))}zs(e,t,r){let o;return this.ds.getAllFromCollection(e,t.path,r).next(u=>(o=u,this.Bs.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const h of u)for(const g of h.mutations){const w=g.key;let S=o.get(w);null==S&&(S=zn.newInvalidDocument(w),o=o.insert(w,S)),w_(g,S,h.localWriteTime),S.isFoundDocument()||(o=o.remove(w))}}).next(()=>(o.forEach((u,h)=>{p_(t,h)||(o=o.remove(u))}),o))}}class Cm{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.Hs=r,this.Js=o}static Ys(e,t){let r=Dn(),o=Dn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cm(e,t.fromCache,r,o)}}class Ml{constructor(){this.Xs=!1}initialize(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}Qs(e,t,r,o){return this.ti(e,t).next(u=>u||this.ei(e,t,o,r)).next(u=>u||this.ni(e,t))}ti(e,t){return Se.resolve(null)}ei(e,t,r,o){return function c_(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}(t)||o.isEqual(Ut.min())?this.ni(e,t):this.Zs.Ks(e,r).next(u=>{const h=this.si(t,u);return this.ii(t,h,r,o)?this.ni(e,t):(qg()<=La.in.DEBUG&&Xe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),f_(t)),this.ri(e,h,t,a_(o,-1)))})}si(e,t){let r=new Wn(g_(e));return t.forEach((o,u)=>{p_(e,u)&&(r=r.add(u))}),r}ii(e,t,r,o){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ni(e,t){return qg()<=La.in.DEBUG&&Xe("QueryEngine","Using full collection scan to execute query:",f_(t)),this.Zs.Qs(e,t,aa.min())}ri(e,t,r,o){return this.Zs.Qs(e,r,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}class PE{constructor(e,t,r,o){this.persistence=e,this.oi=t,this.M=o,this.ui=new gr(Jt),this.ai=new Tu(u=>Ws(u),Vf),this.ci=new Map,this.hi=e.getRemoteDocumentCache(),this.fs=e.getTargetCache(),this._s=e.getBundleCache(),this.li(r)}li(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new qD(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ui))}}function Im(n,e,t,r){return new PE(n,e,t,r)}function Dm(n,e){return q_.apply(this,arguments)}function q_(){return q_=(0,T.Z)(function*(n,e){const t=lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.Bs.getAllMutationBatches(r).next(u=>(o=u,t.li(e),t.Bs.getAllMutationBatches(r))).next(u=>{const h=[],g=[];let w=Dn();for(const S of o){h.push(S.batchId);for(const O of S.mutations)w=w.add(O.key)}for(const S of u){g.push(S.batchId);for(const O of S.mutations)w=w.add(O.key)}return t.fi.Ks(r,w).next(S=>({di:S,removedBatchIds:h,addedBatchIds:g}))})})}),q_.apply(this,arguments)}function z_(n,e){const t=lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),u=t.hi.newChangeBuffer({trackRemovals:!0});return function(h,g,w,S){const O=w.batch,V=O.keys();let de=Se.resolve();return V.forEach(be=>{de=de.next(()=>S.getEntry(g,be)).next(Me=>{const nt=w.docVersions.get(be);Ot(null!==nt),Me.version.compareTo(nt)<0&&(O.applyToRemoteDocument(Me,w),Me.isValidDocument()&&(Me.setReadTime(w.commitVersion),S.addEntry(Me)))})}),de.next(()=>h.Bs.removeMutationBatch(g,O))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.Bs.performConsistencyCheck(r)).next(()=>t.fi.Ks(r,o))})}function Tm(n){const e=lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.fs.getLastRemoteSnapshotVersion(t))}function Am(n,e){const t=lt(n),r=e.snapshotVersion;let o=t.ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.hi.newChangeBuffer({trackRemovals:!0});o=t.ui;const g=[];e.targetChanges.forEach((S,O)=>{const V=o.get(O);if(!V)return;g.push(t.fs.removeMatchingKeys(u,S.removedDocuments,O).next(()=>t.fs.addMatchingKeys(u,S.addedDocuments,O)));let de=V.withSequenceNumber(u.currentSequenceNumber);var be,Me,nt;e.targetMismatches.has(O)?de=de.withResumeToken(ii.EMPTY_BYTE_STRING,Ut.min()).withLastLimboFreeSnapshotVersion(Ut.min()):S.resumeToken.approximateByteSize()>0&&(de=de.withResumeToken(S.resumeToken,r)),o=o.insert(O,de),Me=de,nt=S,(0===(be=V).resumeToken.approximateByteSize()||Me.snapshotVersion.toMicroseconds()-be.snapshotVersion.toMicroseconds()>=3e8||nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0)&&g.push(t.fs.updateTargetData(u,de))});let w=xo();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,S))}),g.push(zD(u,h,e.documentUpdates).next(S=>{w=S})),!r.isEqual(Ut.min())){const S=t.fs.getLastRemoteSnapshotVersion(u).next(O=>t.fs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(S)}return Se.waitFor(g).next(()=>h.apply(u)).next(()=>t.fi.Gs(u,w)).next(()=>w)}).then(u=>(t.ui=o,u))}function zD(n,e,t){let r=Dn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let u=xo();return t.forEach((h,g)=>{const w=o.get(h);g.isNoDocument()&&g.version.isEqual(Ut.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!w.isValidDocument()||g.version.compareTo(w.version)>0||0===g.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):Xe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",g.version)}),u})}function IS(n,e){const t=lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Bs.getNextMutationBatchAfterBatchId(r,e)))}function ip(n,e){const t=lt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.fs.getTargetData(r,e).next(u=>u?(o=u,Se.resolve(o)):t.fs.allocateTargetId(r).next(h=>(o=new Uc(e,h,0,r.currentSequenceNumber),t.fs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.ui.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.ui=t.ui.insert(r.targetId,r),t.ai.set(e,r.targetId)),r})}function sp(n,e,t){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,T.Z)(function*(n,e,t){const r=lt(n),o=r.ui.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Dl(h))throw h;Xe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.ui=r.ui.remove(e),r.ai.delete(o.target)}),Sm.apply(this,arguments)}function xm(n,e,t){const r=lt(n);let o=Ut.min(),u=Dn();return r.persistence.runTransaction("Execute query","readonly",h=>function(g,w,S){const O=lt(g),V=O.ai.get(S);return void 0!==V?Se.resolve(O.ui.get(V)):O.fs.getTargetData(w,S)}(r,h,Zs(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(h,g.targetId).next(w=>{u=w})}).next(()=>r.oi.Qs(h,e,t?o:Ut.min(),t?u:Dn())).next(g=>(OE(r,Rb(e),g),{documents:g,_i:u})))}function NE(n,e){const t=lt(n),r=lt(t.fs),o=t.ui.get(e);return o?Promise.resolve(o.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(h=>h?h.target:null))}function kE(n,e){const t=lt(n),r=t.ci.get(e)||Ut.min();return t.persistence.runTransaction("Get new document changes","readonly",o=>t.hi.getAllFromCollectionGroup(o,e,a_(r,-1),Number.MAX_SAFE_INTEGER)).then(o=>(OE(t,e,o),o))}function OE(n,e,t){let r=Ut.min();t.forEach((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ci.set(e,r)}function Mm(){return Mm=(0,T.Z)(function*(n,e,t,r){const o=lt(n);let u=Dn(),h=xo();for(const S of t){const O=e.wi(S.metadata.name);S.document&&(u=u.add(O));const V=e.mi(S);V.setReadTime(e.gi(S.metadata.readTime)),h=h.insert(O,V)}const g=o.hi.newChangeBuffer({trackRemovals:!0}),w=yield ip(o,(S=r,Zs(eh(vn.fromString(`__bundle__/docs/${S}`)))));var S;return o.persistence.runTransaction("Apply bundle documents","readwrite",S=>zD(S,g,h).next(O=>(g.apply(S),O)).next(O=>o.fs.removeMatchingKeysForTargetId(S,w.targetId).next(()=>o.fs.addMatchingKeys(S,u,w.targetId)).next(()=>o.fi.Gs(S,O)).next(()=>O)))}),Mm.apply(this,arguments)}function LE(n,e){return W_.apply(this,arguments)}function W_(){return W_=(0,T.Z)(function*(n,e,t=Dn()){const r=yield ip(n,Zs(F_(e.bundledQuery))),o=lt(n);return o.persistence.runTransaction("Save named query","readwrite",u=>{const h=mr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return o._s.saveNamedQuery(u,e);const g=r.withResumeToken(ii.EMPTY_BYTE_STRING,h);return o.ui=o.ui.insert(g.targetId,g),o.fs.updateTargetData(u,g).next(()=>o.fs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>o.fs.addMatchingKeys(u,t,r.targetId)).next(()=>o._s.saveNamedQuery(u,e))})}),W_.apply(this,arguments)}class WD{constructor(e){this.M=e,this.yi=new Map,this.pi=new Map}getBundleMetadata(e,t){return Se.resolve(this.yi.get(t))}saveBundleMetadata(e,t){var r;return this.yi.set(t.id,{id:(r=t).id,version:r.version,createTime:mr(r.createTime)}),Se.resolve()}getNamedQuery(e,t){return Se.resolve(this.pi.get(t))}saveNamedQuery(e,t){return this.pi.set(t.name,{name:(r=t).name,query:F_(r.bundledQuery),readTime:mr(r.readTime)}),Se.resolve();var r}}class VE{constructor(){this.overlays=new gr(it.comparator),this.Ii=new Map}getOverlay(e,t){return Se.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,u)=>{this.Xt(e,t,u)}),Se.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.Ii.get(r);return void 0!==o&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ii.delete(r)),Se.resolve()}getOverlaysForCollection(e,t,r){const o=Lc(),u=t.length+1,h=new it(t.child("")),g=this.overlays.getIteratorFrom(h);for(;g.hasNext();){const w=g.getNext().value,S=w.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===u&&w.largestBatchId>r&&o.set(w.getKey(),w)}return Se.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let u=new gr((S,O)=>S-O);const h=this.overlays.getIterator();for(;h.hasNext();){const S=h.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let O=u.get(S.largestBatchId);null===O&&(O=Lc(),u=u.insert(S.largestBatchId,O)),O.set(S.getKey(),S)}}const g=Lc(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((S,O)=>g.set(S,O)),!(g.size()>=o)););return Se.resolve(g)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const h=this.Ii.get(o.largestBatchId).delete(r.key);this.Ii.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new dE(t,r));let u=this.Ii.get(t);void 0===u&&(u=Dn(),this.Ii.set(t,u)),this.Ii.set(t,u.add(r.key))}}class op{constructor(){this.Ti=new Wn(Si.Ei),this.Ai=new Wn(Si.Ri)}isEmpty(){return this.Ti.isEmpty()}addReference(e,t){const r=new Si(e,t);this.Ti=this.Ti.add(r),this.Ai=this.Ai.add(r)}bi(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Pi(new Si(e,t))}Vi(e,t){e.forEach(r=>this.removeReference(r,t))}vi(e){const t=new it(new vn([])),r=new Si(t,e),o=new Si(t,e+1),u=[];return this.Ai.forEachInRange([r,o],h=>{this.Pi(h),u.push(h.key)}),u}Si(){this.Ti.forEach(e=>this.Pi(e))}Pi(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}Di(e){const t=new it(new vn([])),r=new Si(t,e),o=new Si(t,e+1);let u=Dn();return this.Ai.forEachInRange([r,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Si(e,0),r=this.Ti.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Si{constructor(e,t){this.key=e,this.Ci=t}static Ei(e,t){return it.comparator(e.key,t.key)||Jt(e.Ci,t.Ci)}static Ri(e,t){return Jt(e.Ci,t.Ci)||it.comparator(e.key,t.key)}}class UE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Bs=[],this.xi=1,this.Ni=new Wn(Si.Ei)}checkEmpty(e){return Se.resolve(0===this.Bs.length)}addMutationBatch(e,t,r,o){const u=this.xi;this.xi++;const h=new O_(u,t,r,o);this.Bs.push(h);for(const g of o)this.Ni=this.Ni.add(new Si(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Se.resolve(h)}lookupMutationBatch(e,t){return Se.resolve(this.ki(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Mi(t+1),u=o<0?0:o;return Se.resolve(this.Bs.length>u?this.Bs[u]:null)}getHighestUnacknowledgedBatchId(){return Se.resolve(0===this.Bs.length?-1:this.xi-1)}getAllMutationBatches(e){return Se.resolve(this.Bs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Si(t,0),o=new Si(t,Number.POSITIVE_INFINITY),u=[];return this.Ni.forEachInRange([r,o],h=>{const g=this.ki(h.Ci);u.push(g)}),Se.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Wn(Jt);return t.forEach(o=>{const u=new Si(o,0),h=new Si(o,Number.POSITIVE_INFINITY);this.Ni.forEachInRange([u,h],g=>{r=r.add(g.Ci)})}),Se.resolve(this.Oi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let u=r;it.isDocumentKey(u)||(u=u.child(""));const h=new Si(new it(u),0);let g=new Wn(Jt);return this.Ni.forEachWhile(w=>{const S=w.key.path;return!!r.isPrefixOf(S)&&(S.length===o&&(g=g.add(w.Ci)),!0)},h),Se.resolve(this.Oi(g))}Oi(e){const t=[];return e.forEach(r=>{const o=this.ki(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){Ot(0===this.Fi(t.batchId,"removed")),this.Bs.shift();let r=this.Ni;return Se.forEach(t.mutations,o=>{const u=new Si(o.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Ni=r})}_n(e){}containsKey(e,t){const r=new Si(t,0),o=this.Ni.firstAfterOrEqual(r);return Se.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return Se.resolve()}Fi(e,t){return this.Mi(e)}Mi(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}ki(e){const t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}class Z_{constructor(e){this.$i=e,this.docs=new gr(it.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),u=o?o.size:0,h=this.$i(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Se.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let r=xo();return t.forEach(o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():zn.newInvalidDocument(o))}),Se.resolve(r)}getAllFromCollection(e,t,r){let o=xo();const u=new it(t.child("")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:g,value:{document:w}}=h.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||Eb(u_(w),r)<=0||(o=o.insert(w.key,w.mutableCopy()))}return Se.resolve(o)}getAllFromCollectionGroup(e,t,r,o){vt()}Bi(e,t){return Se.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ZD(this)}getSize(e){return Se.resolve(this.size)}}class ZD extends SE{constructor(e){super(),this.Kn=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Kn.addEntry(e,o)):this.Kn.removeEntry(r)}),Se.waitFor(t)}getFromCache(e,t){return this.Kn.getEntry(e,t)}getAllFromCache(e,t){return this.Kn.getEntries(e,t)}}class KD{constructor(e){this.persistence=e,this.Li=new Tu(t=>Ws(t),Vf),this.lastRemoteSnapshotVersion=Ut.min(),this.highestTargetId=0,this.Ui=0,this.qi=new op,this.targetCount=0,this.Ki=xu.gn()}forEachTarget(e,t){return this.Li.forEach((r,o)=>t(o)),Se.resolve()}getLastRemoteSnapshotVersion(e){return Se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Se.resolve(this.Ui)}allocateTargetId(e){return this.highestTargetId=this.Ki.next(),Se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ui&&(this.Ui=t),Se.resolve()}Tn(e){this.Li.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ki=new xu(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}addTargetData(e,t){return this.Tn(t),this.targetCount+=1,Se.resolve()}updateTargetData(e,t){return this.Tn(t),Se.resolve()}removeTargetData(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Se.resolve()}removeTargets(e,t,r){let o=0;const u=[];return this.Li.forEach((h,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Li.delete(h),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Se.waitFor(u).next(()=>o)}getTargetCount(e){return Se.resolve(this.targetCount)}getTargetData(e,t){const r=this.Li.get(t)||null;return Se.resolve(r)}addMatchingKeys(e,t,r){return this.qi.bi(t,r),Se.resolve()}removeMatchingKeys(e,t,r){this.qi.Vi(t,r);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),Se.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.qi.vi(t),Se.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qi.Di(t);return Se.resolve(r)}containsKey(e,t){return Se.resolve(this.qi.containsKey(t))}}class DS{constructor(e,t){this.Gi={},this.overlays={},this.es=new vs(0),this.ns=!1,this.ns=!0,this.referenceDelegate=e(this),this.fs=new KD(this),this.indexManager=new B_,this.ds=new Z_(r=>this.referenceDelegate.Qi(r)),this.M=new hE(t),this._s=new WD(this.M)}start(){return Promise.resolve()}shutdown(){return this.ns=!1,Promise.resolve()}get started(){return this.ns}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Gi[e.toKey()];return r||(r=new UE(t,this.referenceDelegate),this.Gi[e.toKey()]=r),r}getTargetCache(){return this.fs}getRemoteDocumentCache(){return this.ds}getBundleCache(){return this._s}runTransaction(e,t,r){Xe("MemoryPersistence","Starting transaction:",e);const o=new TS(this.es.next());return this.referenceDelegate.ji(),r(o).next(u=>this.referenceDelegate.Wi(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}zi(e,t){return Se.or(Object.values(this.Gi).map(r=>()=>r.containsKey(e,t)))}}class TS extends FD{constructor(e){super(),this.currentSequenceNumber=e}}class K_{constructor(e){this.persistence=e,this.Hi=new op,this.Ji=null}static Yi(e){return new K_(e)}get Xi(){if(this.Ji)return this.Ji;throw vt()}addReference(e,t,r){return this.Hi.addReference(r,t),this.Xi.delete(r.toString()),Se.resolve()}removeReference(e,t,r){return this.Hi.removeReference(r,t),this.Xi.add(r.toString()),Se.resolve()}markPotentiallyOrphaned(e,t){return this.Xi.add(t.toString()),Se.resolve()}removeTarget(e,t){this.Hi.vi(t.targetId).forEach(o=>this.Xi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Xi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ji(){this.Ji=new Set}Wi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Se.forEach(this.Xi,r=>{const o=it.fromPath(r);return this.Zi(e,o).next(u=>{u||t.removeEntry(o,Ut.min())})}).next(()=>(this.Ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Zi(e,t).next(r=>{r?this.Xi.delete(t.toString()):this.Xi.add(t.toString())})}Qi(e){return 0}Zi(e,t){return Se.or([()=>Se.resolve(this.Hi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.zi(e,t)])}}function BE(n,e){return`firestore_clients_${n}_${e}`}function jE(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function $E(n,e){return`firestore_targets_${n}_${e}`}class Y_{constructor(e,t,r,o){this.user=e,this.batchId=t,this.state=r,this.error=o}static tr(e,t,r){const o=JSON.parse(r);let u,h="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new We(o.error.code,o.error.message))),h?new Y_(e,t,o.state,u):(Fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Rm{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static tr(e,t){const r=JSON.parse(t);let o,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new We(r.error.code,r.error.message))),u?new Rm(e,r.state,o):(Fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}er(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Q_{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static tr(e,t){const r=JSON.parse(t);let o="object"==typeof r&&r.activeTargetIds instanceof Array,u=im();for(let h=0;o&&h<r.activeTargetIds.length;++h)o=mb(r.activeTargetIds[h]),u=u.add(r.activeTargetIds[h]);return o?new Q_(e,u):(Fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class HE{constructor(e,t){this.clientId=e,this.onlineState=t}static tr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new HE(t.clientId,t.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class J_{constructor(){this.activeTargetIds=im()}nr(e){this.activeTargetIds=this.activeTargetIds.add(e)}sr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}er(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GE{constructor(e,t,r,o,u){this.window=e,this.Yn=t,this.persistenceKey=r,this.ir=o,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new gr(Jt),this.started=!1,this.cr=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.hr=BE(this.persistenceKey,this.ir),this.lr=`firestore_sequence_number_${this.persistenceKey}`,this.ar=this.ar.insert(this.ir,new J_),this.dr=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this._r=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.wr=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.mr=`firestore_online_state_${this.persistenceKey}`,this.gr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,T.Z)(function*(){const t=yield e.syncEngine.Fs();for(const o of t){if(o===e.ir)continue;const u=e.getItem(BE(e.persistenceKey,o));if(u){const h=Q_.tr(o,u);h&&(e.ar=e.ar.insert(h.clientId,h))}}e.yr();const r=e.storage.getItem(e.mr);if(r){const o=e.pr(r);o&&e.Ir(o)}for(const o of e.cr)e.ur(o);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.lr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Tr(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,o)=>{o.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Er(e,"pending")}updateMutationState(e,t,r){this.Er(e,t,r),this.Ar(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem($E(this.persistenceKey,e));if(r){const o=Rm.tr(e,r);o&&(t=o.state)}}return this.Rr.nr(e),this.yr(),t}removeLocalQueryTarget(e){this.Rr.sr(e),this.yr()}isLocalQueryTarget(e){return this.Rr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem($E(this.persistenceKey,e))}updateQueryState(e,t,r){this.br(e,t,r)}handleUserChange(e,t,r){t.forEach(o=>{this.Ar(o)}),this.currentUser=e,r.forEach(o=>{this.addPendingMutation(o)})}setOnlineState(e){this.Pr(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Xe("SharedClientState","READ",e,t),t}setItem(e,t){Xe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Xe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ur(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Xe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.hr)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable((0,T.Z)(function*(){if(t.started){if(null!==r.key)if(t.dr.test(r.key)){if(null==r.newValue){const o=t.vr(r.key);return t.Sr(o,null)}{const o=t.Dr(r.key,r.newValue);if(o)return t.Sr(o.clientId,o)}}else if(t._r.test(r.key)){if(null!==r.newValue){const o=t.Cr(r.key,r.newValue);if(o)return t.Nr(o)}}else if(t.wr.test(r.key)){if(null!==r.newValue){const o=t.kr(r.key,r.newValue);if(o)return t.Mr(o)}}else if(r.key===t.mr){if(null!==r.newValue){const o=t.pr(r.newValue);if(o)return t.Ir(o)}}else if(r.key===t.lr){const o=function(u){let h=vs.A;if(null!=u)try{const g=JSON.parse(u);Ot("number"==typeof g),h=g}catch(g){Fr("SharedClientState","Failed to read sequence number from WebStorage",g)}return h}(r.newValue);o!==vs.A&&t.sequenceNumberHandler(o)}else if(r.key===t.gr){const o=t.Or(r.newValue);yield Promise.all(o.map(u=>t.syncEngine.Fr(u)))}}else t.cr.push(r)}))}}get Rr(){return this.ar.get(this.ir)}yr(){this.setItem(this.hr,this.Rr.er())}Er(e,t,r){const o=new Y_(this.currentUser,e,t,r),u=jE(this.persistenceKey,this.currentUser,e);this.setItem(u,o.er())}Ar(e){const t=jE(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Pr(e){this.storage.setItem(this.mr,JSON.stringify({clientId:this.ir,onlineState:e}))}br(e,t,r){const o=$E(this.persistenceKey,e),u=new Rm(e,t,r);this.setItem(o,u.er())}Vr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}vr(e){const t=this.dr.exec(e);return t?t[1]:null}Dr(e,t){const r=this.vr(e);return Q_.tr(r,t)}Cr(e,t){const r=this._r.exec(e),o=Number(r[1]);return Y_.tr(new hi(void 0!==r[2]?r[2]:null),o,t)}kr(e,t){const r=this.wr.exec(e),o=Number(r[1]);return Rm.tr(o,t)}pr(e){return HE.tr(e)}Or(e){return JSON.parse(e)}Nr(e){var t=this;return(0,T.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.$r(e.batchId,e.state,e.error);Xe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Mr(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}Sr(e,t){const r=t?this.ar.insert(e,t):this.ar.remove(e),o=this.Tr(this.ar),u=this.Tr(r),h=[],g=[];return u.forEach(w=>{o.has(w)||h.push(w)}),o.forEach(w=>{u.has(w)||g.push(w)}),this.syncEngine.Lr(h,g).then(()=>{this.ar=r})}Ir(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Tr(e){let t=im();return e.forEach((r,o)=>{t=t.unionWith(o.activeTargetIds)}),t}}class YD{constructor(){this.Ur=new J_,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.nr(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Ur.sr(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new J_,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class AS{Kr(e){}shutdown(){}}class QD{constructor(){this.Gr=()=>this.Qr(),this.jr=()=>this.Wr(),this.zr=[],this.Hr()}Kr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}Hr(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}Qr(){Xe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Wr(){Xe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static vt(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const i={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class s{constructor(e){this.Jr=e.Jr,this.Yr=e.Yr}Xr(e){this.Zr=e}eo(e){this.no=e}onMessage(e){this.so=e}close(){this.Yr()}send(e){this.Jr(e)}io(){this.Zr()}ro(e){this.no(e)}oo(e){this.so(e)}}class a extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.uo=(e.ssl?"https":"http")+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,t,r,o,u){const h=this.ho(e,t);Xe("RestConnection","Sending: ",h,r);const g={};return this.lo(g,o,u),this.fo(e,h,g,r).then(w=>(Xe("RestConnection","Received: ",w),w),w=>{throw Mf("RestConnection",`${e} failed with error: `,w,"url: ",h,"request:",r),w})}_o(e,t,r,o,u){return this.co(e,t,r,o,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+xc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),r&&r.headers.forEach((o,u)=>e[u]=o)}ho(e,t){return`${this.uo}/v1/${t}:${i[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,o){return new Promise((u,h)=>{const g=new Er;g.listenOnce(XI.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Xv.NO_ERROR:const S=g.getResponseJson();Xe("Connection","XHR received:",JSON.stringify(S)),u(S);break;case Xv.TIMEOUT:Xe("Connection",'RPC "'+e+'" timed out'),h(new We(Ae.DEADLINE_EXCEEDED,"Request time out"));break;case Xv.HTTP_ERROR:const O=g.getStatus();if(Xe("Connection",'RPC "'+e+'" failed with status:',O,"response text:",g.getResponseText()),O>0){const V=g.getResponseJson().error;if(V&&V.status&&V.message){const de=function(be){const Me=be.toLowerCase().replace(/_/g,"-");return Object.values(Ae).indexOf(Me)>=0?Me:Ae.UNKNOWN}(V.status);h(new We(de,V.message))}else h(new We(Ae.UNKNOWN,"Server responded with status "+g.getStatus()))}else h(new We(Ae.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{Xe("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(o);g.send(t,"POST",w,r,15)})}wo(e,t,r){const o=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Nt(),h=JI(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new Gg({})),this.lo(g.initMessageHeaders,t,r),(0,sn.uI)()||(0,sn.b$)()||(0,sn.d)()||(0,sn.w1)()||(0,sn.Mn)()||(0,sn.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const w=o.join("");Xe("Connection","Creating WebChannel: "+w,g);const S=u.createWebChannel(w,g);let O=!1,V=!1;const de=new s({Jr:Me=>{V?Xe("Connection","Not sending because WebChannel is closed:",Me):(O||(Xe("Connection","Opening WebChannel transport."),S.open(),O=!0),Xe("Connection","WebChannel sending:",Me),S.send(Me))},Yr:()=>S.close()}),be=(Me,nt,_t)=>{Me.listen(nt,cn=>{try{_t(cn)}catch(dn){setTimeout(()=>{throw dn},0)}})};return be(S,Sc.EventType.OPEN,()=>{V||Xe("Connection","WebChannel transport opened.")}),be(S,Sc.EventType.CLOSE,()=>{V||(V=!0,Xe("Connection","WebChannel transport closed"),de.ro())}),be(S,Sc.EventType.ERROR,Me=>{V||(V=!0,Mf("Connection","WebChannel transport errored:",Me),de.ro(new We(Ae.UNAVAILABLE,"The operation could not be completed")))}),be(S,Sc.EventType.MESSAGE,Me=>{var nt;if(!V){const _t=Me.data[0];Ot(!!_t);const cn=_t,dn=cn.error||(null===(nt=cn[0])||void 0===nt?void 0:nt.error);if(dn){Xe("Connection","WebChannel received error:",dn);const mn=dn.status;let nn=function(On){const Is=Zr[On];if(void 0!==Is)return rm(Is)}(mn),hn=dn.message;void 0===nn&&(nn=Ae.INTERNAL,hn="Unknown error status: "+mn+" with message "+dn.message),V=!0,de.ro(new We(nn,hn)),S.close()}else Xe("Connection","WebChannel received:",_t),de.oo(_t)}}),be(h,Gd.STAT_EVENT,Me=>{Me.stat===ub.PROXY?Xe("Connection","Detected buffering proxy"):Me.stat===ub.NOPROXY&&Xe("Connection","Detected no buffering proxy")}),setTimeout(()=>{de.io()},0),de}}function l(){return typeof window<"u"?window:null}function d(){return typeof document<"u"?document:null}function f(n){return new ED(n,!0)}class y{constructor(e,t,r=1e3,o=1.5,u=6e4){this.Yn=e,this.timerId=t,this.mo=r,this.yo=o,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),o=Math.max(0,t-r);o>0&&Xe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Yn.enqueueAfterDelay(this.timerId,o,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class _{constructor(e,t,r,o,u,h,g,w){this.Yn=e,this.Vo=r,this.vo=o,this.So=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=g,this.listener=w,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new y(e,t)}ko(){return 1===this.state||5===this.state||this.Mo()}Mo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,T.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,T.Z)(function*(){if(e.Mo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,T.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===Ae.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===Ae.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.eo(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Do===t&&this.Qo(r,o)},r=>{e(()=>{const o=new We(Ae.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(o)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.xo=this.Yn.enqueueAfterDelay(this.vo,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.eo(o=>{r(()=>this.jo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Oo(){var e=this;this.state=5,this.No.Ro((0,T.Z)(function*(){e.state=0,e.start()}))}jo(e){return Xe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Yn.enqueueAndForget(()=>this.Do===e?t():(Xe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C extends _{constructor(e,t,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,h),this.M=u}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function CD(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:vt(),o=e.targetChange.targetIds||[],u=function(w,S){return w.N?(Ot(void 0===S||"string"==typeof S),ii.fromBase64String(S||"")):(Ot(void 0===S||S instanceof Uint8Array),ii.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,g=h&&function(w){const S=void 0===w.code?Ae.UNKNOWN:rm(w.code);return new We(S,w.message||"")}(h);t=new I_(r,o,u,g||null)}else if("documentChange"in e){const r=e.documentChange,o=Au(n,r.document.name),u=mr(r.document.updateTime),h=new qi({mapValue:{fields:r.document.fields}}),g=zn.newFoundDocument(o,u,h);t=new Wf(r.targetIds||[],r.removedTargetIds||[],g.key,g)}else if("documentDelete"in e){const r=e.documentDelete,o=Au(n,r.document),u=r.readTime?mr(r.readTime):Ut.min(),h=zn.newNoDocument(o,u);t=new Wf([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,o=Au(n,r.document);t=new Wf([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return vt();{const r=e.filter,u=new _D(r.count||0);t=new sm(r.targetId,u)}}var w;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return Ut.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?Ut.min():u.readTime?mr(u.readTime):Ut.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Su(this.M),t.addTarget=function(o,u){let h;const g=u.target;return h=Uf(g)?{documents:lm(o,g)}:{query:x_(o,g)},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?h.resumeToken=Zb(o,u.resumeToken):u.snapshotVersion.compareTo(Ut.min())>0&&(h.readTime=ih(o,u.snapshotVersion.toTimestamp())),h}(this.M,e);const r=function cm(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return vt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Su(this.M),t.removeTarget=e,this.Lo(t)}}class M extends _{constructor(e,t,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,h),this.M=u,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ot(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function ID(n,e){return n&&n.length>0?(Ot(void 0!==e),n.map(t=>function(r,o){let u=mr(r.updateTime?r.updateTime:o);return u.isEqual(Ut.min())&&(u=mr(o)),new Vb(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.tu(r,t)}return Ot(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Su(this.M),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Zf(this.M,r))};this.Lo(t)}}class k extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.M=o,this.su=!1}iu(){if(this.su)throw new We(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So.co(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(Ae.UNKNOWN,o.toString())})}_o(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.So._o(e,t,r,o,u)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new We(Ae.UNKNOWN,o.toString())})}terminate(){this.su=!0}}class ${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}au(){0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Fr(t),this.uu=!1):Xe("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class oe{constructor(e,t,r,o,u){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=u,this.gu.Kr(g=>{r.enqueueAndForget((0,T.Z)(function*(){var w;Es(h)&&(Xe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,T.Z)(function*(S){const O=lt(S);O.wu.add(4),yield Ke(O),O.yu.set("Unknown"),O.wu.delete(4),yield ye(O)}),function(S){return w.apply(this,arguments)})(h))}))}),this.yu=new $(r,o)}}function ye(n){return Ve.apply(this,arguments)}function Ve(){return Ve=(0,T.Z)(function*(n){if(Es(n))for(const e of n.mu)yield e(!0)}),Ve.apply(this,arguments)}function Ke(n){return st.apply(this,arguments)}function st(){return st=(0,T.Z)(function*(n){for(const e of n.mu)yield e(!1)}),st.apply(this,arguments)}function dt(n,e){const t=lt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Bn(t)?ln(t):km(t).Mo()&&qe(t,e))}function At(n,e){const t=lt(n),r=km(t);t._u.delete(e),r.Mo()&&It(t,e),0===t._u.size&&(r.Mo()?r.$o():Es(t)&&t.yu.set("Unknown"))}function qe(n,e){n.pu.Z(e.targetId),km(n).Ho(e)}function It(n,e){n.pu.Z(e),km(n).Jo(e)}function ln(n){n.pu=new Gb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n._u.get(e)||null}),km(n).start(),n.yu.au()}function Bn(n){return Es(n)&&!km(n).ko()&&n._u.size>0}function Es(n){return 0===lt(n).wu.size}function Pm(n){n.pu=void 0}function X_(n){return ap.apply(this,arguments)}function ap(){return ap=(0,T.Z)(function*(n){n._u.forEach((e,t)=>{qe(n,e)})}),ap.apply(this,arguments)}function e0(n,e){return up.apply(this,arguments)}function up(){return up=(0,T.Z)(function*(n,e){Pm(n),Bn(n)?(n.yu.lu(e),ln(n)):n.yu.set("Unknown")}),up.apply(this,arguments)}function t0(n,e,t){return lp.apply(this,arguments)}function lp(){return lp=(0,T.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof I_&&2===e.state&&e.cause)try{yield(r=(0,T.Z)(function*(o,u){const h=u.cause;for(const g of u.targetIds)o._u.has(g)&&(yield o.remoteSyncer.rejectListen(g,h),o._u.delete(g),o.pu.removeTarget(g))}),function(o,u){return r.apply(this,arguments)})(n,e)}catch(r){Xe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield dh(n,r)}else if(e instanceof Wf?n.pu.ut(e):e instanceof sm?n.pu._t(e):n.pu.ht(e),!t.isEqual(Ut.min()))try{const r=yield Tm(n.localStore);t.compareTo(r)>=0&&(yield function(o,u){const h=o.pu.yt(u);return h.targetChanges.forEach((g,w)=>{if(g.resumeToken.approximateByteSize()>0){const S=o._u.get(w);S&&o._u.set(w,S.withResumeToken(g.resumeToken,u))}}),h.targetMismatches.forEach(g=>{const w=o._u.get(g);if(!w)return;o._u.set(g,w.withResumeToken(ii.EMPTY_BYTE_STRING,w.snapshotVersion)),It(o,g);const S=new Uc(w.target,g,1,w.sequenceNumber);qe(o,S)}),o.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Xe("RemoteStore","Failed to raise snapshot:",r),yield dh(n,r)}var r}),lp.apply(this,arguments)}function dh(n,e,t){return cp.apply(this,arguments)}function cp(){return cp=(0,T.Z)(function*(n,e,t){if(!Dl(e))throw e;n.wu.add(1),yield Ke(n),n.yu.set("Offline"),t||(t=()=>Tm(n.localStore)),n.asyncQueue.enqueueRetryable((0,T.Z)(function*(){Xe("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield ye(n)}))}),cp.apply(this,arguments)}function SS(n,e){return e().catch(t=>dh(n,t,e))}function Nm(n){return JD.apply(this,arguments)}function JD(){return JD=(0,T.Z)(function*(n){const e=lt(n),t=hh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Bx(e);)try{const o=yield IS(e.localStore,r);if(null===o){0===e.du.length&&t.$o();break}r=o.batchId,jx(e,o)}catch(o){yield dh(e,o)}xS(e)&&MS(e)}),JD.apply(this,arguments)}function Bx(n){return Es(n)&&n.du.length<10}function jx(n,e){n.du.push(e);const t=hh(n);t.Mo()&&t.Xo&&t.Zo(e.mutations)}function xS(n){return Es(n)&&!hh(n).ko()&&n.du.length>0}function MS(n){hh(n).start()}function $x(n){return XD.apply(this,arguments)}function XD(){return XD=(0,T.Z)(function*(n){hh(n).nu()}),XD.apply(this,arguments)}function Hx(n){return eT.apply(this,arguments)}function eT(){return eT=(0,T.Z)(function*(n){const e=hh(n);for(const t of n.du)e.Zo(t.mutations)}),eT.apply(this,arguments)}function Gx(n,e,t){return tT.apply(this,arguments)}function tT(){return tT=(0,T.Z)(function*(n,e,t){const r=n.du.shift(),o=vm.from(r,e,t);yield SS(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Nm(n)}),tT.apply(this,arguments)}function qx(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,T.Z)(function*(n,e){var t;e&&hh(n).Xo&&(yield(t=(0,T.Z)(function*(r,o){if(E_(u=o.code)&&u!==Ae.ABORTED){const h=r.du.shift();hh(r).Fo(),yield SS(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,o)),yield Nm(r)}var u}),function(r,o){return t.apply(this,arguments)})(n,e)),xS(n)&&MS(n)}),nT.apply(this,arguments)}function RS(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,T.Z)(function*(n,e){const t=lt(n);t.asyncQueue.verifyOperationInProgress(),Xe("RemoteStore","RemoteStore received new credentials");const r=Es(t);t.wu.add(3),yield Ke(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield ye(t)}),rT.apply(this,arguments)}function iT(n,e){return sT.apply(this,arguments)}function sT(){return sT=(0,T.Z)(function*(n,e){const t=lt(n);e?(t.wu.delete(2),yield ye(t)):e||(t.wu.add(2),yield Ke(t),t.yu.set("Unknown"))}),sT.apply(this,arguments)}function km(n){return n.Iu||(n.Iu=function(e,t,r){const o=lt(e);return o.iu(),new C(t,o.So,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Xr:X_.bind(null,n),eo:e0.bind(null,n),zo:t0.bind(null,n)}),n.mu.push(function(){var e=(0,T.Z)(function*(t){t?(n.Iu.Fo(),Bn(n)?ln(n):n.yu.set("Unknown")):(yield n.Iu.stop(),Pm(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function hh(n){return n.Tu||(n.Tu=function(e,t,r){const o=lt(e);return o.iu(),new M(t,o.So,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Xr:$x.bind(null,n),eo:qx.bind(null,n),eu:Hx.bind(null,n),tu:Gx.bind(null,n)}),n.mu.push(function(){var e=(0,T.Z)(function*(t){t?(n.Tu.Fo(),yield Nm(n)):(yield n.Tu.stop(),n.du.length>0&&(Xe("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class oT{constructor(e,t,r,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new ri,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,o,u){const h=Date.now()+r,g=new oT(e,t,h,o,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new We(Ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),Dl(n))return new We(Ae.UNAVAILABLE,`${e}: ${n}`);throw n}class Fm{constructor(e){this.comparator=e?(t,r)=>e(t,r)||it.comparator(t.key,r.key):(t,r)=>it.comparator(t.key,r.key),this.keyedMap=Gf(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new Fm(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Fm)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Fm;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class PS{constructor(){this.Eu=new gr(it.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):vt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Lm{constructor(e,t,r,o,u,h,g,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,o){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Lm(e,t,Fm.emptySet(t),u,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class zx{constructor(){this.Ru=void 0,this.listeners=[]}}class Wx{constructor(){this.queries=new Tu(e=>Xg(e),jf),this.onlineState="Unknown",this.bu=new Set}}function aT(n,e){return uT.apply(this,arguments)}function uT(){return uT=(0,T.Z)(function*(n,e){const t=lt(n),r=e.query;let o=!1,u=t.queries.get(r);if(u||(o=!0,u=new zx),o)try{u.Ru=yield t.onListen(r)}catch(h){const g=Om(h,`Initialization of query '${f_(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Pu(t.onlineState),u.Ru&&e.Vu(u.Ru)&&dT(t)}),uT.apply(this,arguments)}function lT(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,T.Z)(function*(n,e){const t=lt(n),r=e.query;let o=!1;const u=t.queries.get(r);if(u){const h=u.listeners.indexOf(e);h>=0&&(u.listeners.splice(h,1),o=0===u.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),cT.apply(this,arguments)}function Zx(n,e){const t=lt(n);let r=!1;for(const o of e){const h=t.queries.get(o.query);if(h){for(const g of h.listeners)g.Vu(o)&&(r=!0);h.Ru=o}}r&&dT(t)}function Kx(n,e,t){const r=lt(n),o=r.queries.get(e);if(o)for(const u of o.listeners)u.onError(t);r.queries.delete(e)}function dT(n){n.bu.forEach(e=>{e.next()})}class hT{constructor(e,t,r){this.query=e,this.vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Lm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||!(this.options.ku&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Lm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}class Yx{constructor(e,t){this.payload=e,this.byteLength=t}Mu(){return"metadata"in this.payload}}class NS{constructor(e){this.M=e}wi(e){return Au(this.M,e)}mi(e){return e.metadata.exists?Qb(this.M,e.document,!1):zn.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}gi(e){return mr(e)}}class Qx{constructor(e,t,r){this.Ou=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=kS(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=vn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new NS(this.M);for(const o of e)if(o.metadata.queries){const u=r.wi(o.metadata.name);for(const h of o.metadata.queries){const g=(t.get(h)||Dn()).add(u);t.set(h,g)}}return t}complete(){var e=this;return(0,T.Z)(function*(){const t=yield function FE(n,e,t,r){return Mm.apply(this,arguments)}(e.localStore,new NS(e.M),e.documents,e.Ou.id),r=e.$u(e.documents);for(const o of e.queries)yield LE(e.localStore,o,r.get(o.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function kS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class OS{constructor(e){this.key=e}}class FS{constructor(e){this.key=e}}class LS{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.current=!1,this.Ku=Dn(),this.mutatedKeys=Dn(),this.Gu=g_(e),this.Qu=new Fm(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new PS,o=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,g=!1;const w="F"===this.query.limitType&&o.size===this.query.limit?o.last():null,S="L"===this.query.limitType&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((O,V)=>{const de=o.get(O),be=p_(this.query,V)?V:null,Me=!!de&&this.mutatedKeys.has(de.key),nt=!!be&&(be.hasLocalMutations||this.mutatedKeys.has(be.key)&&be.hasCommittedMutations);let _t=!1;de&&be?de.data.isEqual(be.data)?Me!==nt&&(r.track({type:3,doc:be}),_t=!0):this.Hu(de,be)||(r.track({type:2,doc:be}),_t=!0,(w&&this.Gu(be,w)>0||S&&this.Gu(be,S)<0)&&(g=!0)):!de&&be?(r.track({type:0,doc:be}),_t=!0):de&&!be&&(r.track({type:1,doc:de}),_t=!0,(w||S)&&(g=!0)),_t&&(be?(h=h.add(be),u=nt?u.add(O):u.delete(O)):(h=h.delete(O),u=u.delete(O)))}),null!==this.query.limit)for(;h.size>this.query.limit;){const O="F"===this.query.limitType?h.last():h.first();h=h.delete(O.key),u=u.delete(O.key),r.track({type:1,doc:O})}return{Qu:h,zu:r,ii:g,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Au();u.sort((S,O)=>function(V,de){const be=Me=>{switch(Me){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return be(V)-be(de)}(S.type,O.type)||this.Gu(S.doc,O.doc)),this.Ju(r);const h=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,w=g!==this.qu;return this.qu=g,0!==u.length||w?{snapshot:new Lm(this.query,e.Qu,o,u,e.mutatedKeys,0===g,w,!1),Xu:h}:{Xu:h}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new PS,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Dn(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new FS(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new OS(r))}),t}ta(e){this.Uu=e._i,this.Ku=Dn();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ea(){return Lm.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}class Jx{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Xx{constructor(e){this.key=e,this.na=!1}}class eM{constructor(e,t,r,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.sa={},this.ia=new Tu(g=>Xg(g),jf),this.ra=new Map,this.oa=new Set,this.ua=new gr(it.comparator),this.aa=new Map,this.ca=new op,this.ha={},this.la=new Map,this.fa=xu.yn(),this.onlineState="Unknown",this.da=void 0}get isPrimaryClient(){return!0===this.da}}function tM(n,e){return fT.apply(this,arguments)}function fT(){return fT=(0,T.Z)(function*(n,e){const t=FT(n);let r,o;const u=t.ia.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),o=u.view.ea();else{const h=yield ip(t.localStore,Zs(e));t.isPrimaryClient&&dt(t.remoteStore,h);const g=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,o=yield pT(t,e,r,"current"===g)}return o}),fT.apply(this,arguments)}function pT(n,e,t,r){return gT.apply(this,arguments)}function gT(){return gT=(0,T.Z)(function*(n,e,t,r){n._a=(O,V,de)=>{return(be=(0,T.Z)(function*(Me,nt,_t,cn){let dn=nt.view.Wu(_t);dn.ii&&(dn=yield xm(Me.localStore,nt.query,!1).then(({documents:hn})=>nt.view.Wu(hn,dn)));const mn=cn&&cn.targetChanges.get(nt.targetId),nn=nt.view.applyChanges(dn,Me.isPrimaryClient,mn);return DT(Me,nt.targetId,nn.Xu),nn.snapshot}),function(Me,nt,_t,cn){return be.apply(this,arguments)})(n,O,V,de);var be};const o=yield xm(n.localStore,e,!0),u=new LS(e,o._i),h=u.Wu(o.documents),g=zf.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=u.applyChanges(h,n.isPrimaryClient,g);DT(n,t,w.Xu);const S=new Jx(e,t,u);return n.ia.set(e,S),n.ra.has(t)?n.ra.get(t).push(e):n.ra.set(t,[e]),w.snapshot}),gT.apply(this,arguments)}function nM(n,e){return mT.apply(this,arguments)}function mT(){return mT=(0,T.Z)(function*(n,e){const t=lt(n),r=t.ia.get(e),o=t.ra.get(r.targetId);if(o.length>1)return t.ra.set(r.targetId,o.filter(u=>!jf(u,e))),void t.ia.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield sp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),At(t.remoteStore,r.targetId),Vm(t,r.targetId)}).catch(xl))):(Vm(t,r.targetId),yield sp(t.localStore,r.targetId,!0))}),mT.apply(this,arguments)}function yT(){return yT=(0,T.Z)(function*(n,e,t){const r=LT(n);try{const o=yield function(u,h){const g=lt(u),w=qr.now(),S=h.reduce((V,de)=>V.add(de.key),Dn());let O;return g.persistence.runTransaction("Locally write mutations","readwrite",V=>g.fi.Ks(V,S).next(de=>{O=de;const be=[];for(const Me of h){const nt=b_(Me,O.get(Me.key));null!=nt&&be.push(new ca(Me.key,nt,bb(nt.value.mapValue),Wr.exists(!0)))}return g.Bs.addMutationBatch(V,w,be,h)})).then(V=>(V.applyToLocalDocumentSet(O),{batchId:V.batchId,changes:O}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(u,h,g){let w=u.ha[u.currentUser.toKey()];w||(w=new gr(Jt)),w=w.insert(h,g),u.ha[u.currentUser.toKey()]=w}(r,o.batchId,t),yield Wc(r,o.changes),yield Nm(r.remoteStore)}catch(o){const u=Om(o,"Failed to persist write");t.reject(u)}}),yT.apply(this,arguments)}function VS(n,e){return vT.apply(this,arguments)}function vT(){return vT=(0,T.Z)(function*(n,e){const t=lt(n);try{const r=yield Am(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.aa.get(u);h&&(Ot(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.na=!0:o.modifiedDocuments.size>0?Ot(h.na):o.removedDocuments.size>0&&(Ot(h.na),h.na=!1))}),yield Wc(t,r,e)}catch(r){yield xl(r)}}),vT.apply(this,arguments)}function US(n,e,t){const r=lt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.ia.forEach((u,h)=>{const g=h.view.Pu(e);g.snapshot&&o.push(g.snapshot)}),function(u,h){const g=lt(u);g.onlineState=h;let w=!1;g.queries.forEach((S,O)=>{for(const V of O.listeners)V.Pu(h)&&(w=!0)}),w&&dT(g)}(r.eventManager,e),o.length&&r.sa.zo(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iM(n,e,t){return _T.apply(this,arguments)}function _T(){return _T=(0,T.Z)(function*(n,e,t){const r=lt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.aa.get(e),u=o&&o.key;if(u){let h=new gr(it.comparator);h=h.insert(u,zn.newNoDocument(u,Ut.min()));const g=Dn().add(u),w=new qf(Ut.min(),new Map,new Wn(Jt),h,g);yield VS(r,w),r.ua=r.ua.remove(u),r.aa.delete(e),TT(r)}else yield sp(r.localStore,e,!1).then(()=>Vm(r,e,t)).catch(xl)}),_T.apply(this,arguments)}function sM(n,e){return wT.apply(this,arguments)}function wT(){return wT=(0,T.Z)(function*(n,e){const t=lt(n),r=e.batch.batchId;try{const o=yield z_(t.localStore,e);IT(t,r,null),CT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Wc(t,o)}catch(o){yield xl(o)}}),wT.apply(this,arguments)}function oM(n,e,t){return bT.apply(this,arguments)}function bT(){return bT=(0,T.Z)(function*(n,e,t){const r=lt(n);try{const o=yield function(u,h){const g=lt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let S;return g.Bs.lookupMutationBatch(w,h).next(O=>(Ot(null!==O),S=O.keys(),g.Bs.removeMutationBatch(w,O))).next(()=>g.Bs.performConsistencyCheck(w)).next(()=>g.fi.Ks(w,S))})}(r.localStore,e);IT(r,e,t),CT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Wc(r,o)}catch(o){yield xl(o)}}),bT.apply(this,arguments)}function ET(){return ET=(0,T.Z)(function*(n,e){const t=lt(n);Es(t.remoteStore)||Xe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const h=lt(u);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>h.Bs.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const o=t.la.get(r)||[];o.push(e),t.la.set(r,o)}catch(r){const o=Om(r,"Initialization of waitForPendingWrites() operation failed");e.reject(o)}}),ET.apply(this,arguments)}function CT(n,e){(n.la.get(e)||[]).forEach(t=>{t.resolve()}),n.la.delete(e)}function IT(n,e,t){const r=lt(n);let o=r.ha[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),r.ha[r.currentUser.toKey()]=o}}function Vm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ra.get(e))n.ia.delete(r),t&&n.sa.wa(r,t);n.ra.delete(e),n.isPrimaryClient&&n.ca.vi(e).forEach(r=>{n.ca.containsKey(r)||BS(n,r)})}function BS(n,e){n.oa.delete(e.path.canonicalString());const t=n.ua.get(e);null!==t&&(At(n.remoteStore,t),n.ua=n.ua.remove(e),n.aa.delete(t),TT(n))}function DT(n,e,t){for(const r of t)r instanceof OS?(n.ca.addReference(r.key,e),uM(n,r)):r instanceof FS?(Xe("SyncEngine","Document no longer in limbo: "+r.key),n.ca.removeReference(r.key,e),n.ca.containsKey(r.key)||BS(n,r.key)):vt()}function uM(n,e){const t=e.key,r=t.path.canonicalString();n.ua.get(t)||n.oa.has(r)||(Xe("SyncEngine","New document in limbo: "+t),n.oa.add(r),TT(n))}function TT(n){for(;n.oa.size>0&&n.ua.size<n.maxConcurrentLimboResolutions;){const e=n.oa.values().next().value;n.oa.delete(e);const t=new it(vn.fromString(e)),r=n.fa.next();n.aa.set(r,new Xx(t)),n.ua=n.ua.insert(t,r),dt(n.remoteStore,new Uc(Zs(eh(t.path)),r,2,vs.A))}}function Wc(n,e,t){return AT.apply(this,arguments)}function AT(){return AT=(0,T.Z)(function*(n,e,t){const r=lt(n),o=[],u=[],h=[];var g;r.ia.isEmpty()||(r.ia.forEach((g,w)=>{h.push(r._a(w,e,t).then(S=>{if(S){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,S.fromCache?"not-current":"current"),o.push(S);const O=Cm.Ys(w.targetId,S);u.push(O)}}))}),yield Promise.all(h),r.sa.zo(o),yield(g=(0,T.Z)(function*(w,S){const O=lt(w);try{yield O.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Se.forEach(S,de=>Se.forEach(de.Hs,be=>O.persistence.referenceDelegate.addReference(V,de.targetId,be)).next(()=>Se.forEach(de.Js,be=>O.persistence.referenceDelegate.removeReference(V,de.targetId,be)))))}catch(V){if(!Dl(V))throw V;Xe("LocalStore","Failed to update sequence numbers: "+V)}for(const V of S){const de=V.targetId;if(!V.fromCache){const be=O.ui.get(de),nt=be.withLastLimboFreeSnapshotVersion(be.snapshotVersion);O.ui=O.ui.insert(de,nt)}}}),function(w,S){return g.apply(this,arguments)})(r.localStore,u))}),AT.apply(this,arguments)}function lM(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,T.Z)(function*(n,e){const t=lt(n);if(!t.currentUser.isEqual(e)){Xe("SyncEngine","User change. New user:",e.toKey());const r=yield Dm(t.localStore,e);t.currentUser=e,(o=t).la.forEach(h=>{h.forEach(g=>{g.reject(new We(Ae.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.la.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Wc(t,r.di)}var o}),ST.apply(this,arguments)}function cM(n,e){const t=lt(n),r=t.aa.get(e);if(r&&r.na)return Dn().add(r.key);{let o=Dn();const u=t.ra.get(e);if(!u)return o;for(const h of u){const g=t.ia.get(h);o=o.unionWith(g.view.ju)}return o}}function dM(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,T.Z)(function*(n,e){const t=lt(n),r=yield xm(t.localStore,e.query,!0),o=e.view.ta(r);return t.isPrimaryClient&&DT(t,e.targetId,o.Xu),o}),xT.apply(this,arguments)}function hM(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,T.Z)(function*(n,e){const t=lt(n);return kE(t.localStore,e).then(r=>Wc(t,r))}),MT.apply(this,arguments)}function fM(n,e,t,r){return RT.apply(this,arguments)}function RT(){return RT=(0,T.Z)(function*(n,e,t,r){const o=lt(n),u=yield function(h,g){const w=lt(h),S=lt(w.Bs);return w.persistence.runTransaction("Lookup mutation documents","readonly",O=>S.fn(O,g).next(V=>V?w.fi.Ks(O,V):Se.resolve(null)))}(o.localStore,e);var g;null!==u?("pending"===t?yield Nm(o.remoteStore):"acknowledged"===t||"rejected"===t?(IT(o,e,r||null),CT(o,e),g=e,lt(lt(o.localStore).Bs)._n(g)):vt(),yield Wc(o,u)):Xe("SyncEngine","Cannot apply mutation batch with id: "+e)}),RT.apply(this,arguments)}function PT(){return PT=(0,T.Z)(function*(n,e){const t=lt(n);if(FT(t),LT(t),!0===e&&!0!==t.da){const r=t.sharedClientState.getAllActiveQueryTargets(),o=yield jS(t,r.toArray());t.da=!0,yield iT(t.remoteStore,!0);for(const u of o)dt(t.remoteStore,u)}else if(!1===e&&!1!==t.da){const r=[];let o=Promise.resolve();t.ra.forEach((u,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):o=o.then(()=>(Vm(t,h),sp(t.localStore,h,!0))),At(t.remoteStore,h)}),yield o,yield jS(t,r),function(u){const h=lt(u);h.aa.forEach((g,w)=>{At(h.remoteStore,w)}),h.ca.Si(),h.aa=new Map,h.ua=new gr(it.comparator)}(t),t.da=!1,yield iT(t.remoteStore,!1)}}),PT.apply(this,arguments)}function jS(n,e,t){return NT.apply(this,arguments)}function NT(){return NT=(0,T.Z)(function*(n,e,t){const r=lt(n),o=[],u=[];for(const h of e){let g;const w=r.ra.get(h);if(w&&0!==w.length){g=yield ip(r.localStore,Zs(w[0]));for(const S of w){const O=r.ia.get(S),V=yield dM(r,O);V.snapshot&&u.push(V.snapshot)}}else{const S=yield NE(r.localStore,h);g=yield ip(r.localStore,S),yield pT(r,$S(S),h,!1)}o.push(g)}return r.sa.zo(u),o}),NT.apply(this,arguments)}function $S(n){return xb(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function gM(n){const e=lt(n);return lt(lt(e.localStore).persistence).Fs()}function mM(n,e,t,r){return kT.apply(this,arguments)}function kT(){return kT=(0,T.Z)(function*(n,e,t,r){const o=lt(n);if(o.da)return void Xe("SyncEngine","Ignoring unexpected query state notification.");const u=o.ra.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const h=yield kE(o.localStore,Rb(u[0])),g=qf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Wc(o,h,g);break}case"rejected":yield sp(o.localStore,e,!0),Vm(o,e,r);break;default:vt()}}),kT.apply(this,arguments)}function yM(n,e,t){return OT.apply(this,arguments)}function OT(){return OT=(0,T.Z)(function*(n,e,t){const r=FT(n);if(r.da){for(const o of e){if(r.ra.has(o)){Xe("SyncEngine","Adding an already active target "+o);continue}const u=yield NE(r.localStore,o),h=yield ip(r.localStore,u);yield pT(r,$S(u),h.targetId,!1),dt(r.remoteStore,h)}for(const o of t)r.ra.has(o)&&(yield sp(r.localStore,o,!1).then(()=>{At(r.remoteStore,o),Vm(r,o)}).catch(xl))}}),OT.apply(this,arguments)}function FT(n){const e=lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iM.bind(null,e),e.sa.zo=Zx.bind(null,e.eventManager),e.sa.wa=Kx.bind(null,e.eventManager),e}function LT(n){const e=lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oM.bind(null,e),e}class HS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,T.Z)(function*(){t.M=f(e.databaseInfo.databaseId),t.sharedClientState=t.ga(e),t.persistence=t.ya(e),yield t.persistence.start(),t.gcScheduler=t.pa(e),t.localStore=t.Ia(e)})()}pa(e){return null}Ia(e){return Im(this.persistence,new Ml,e.initialUser,this.M)}ya(e){return new DS(K_.Yi,this.M)}ga(e){return new YD}terminate(){var e=this;return(0,T.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class GS extends HS{constructor(e,t,r){super(),this.Ta=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,T.Z)(function*(){yield t().call(r,e),yield r.Ta.initialize(r,e),yield LT(r.Ta.syncEngine),yield Nm(r.Ta.remoteStore),yield r.persistence.Ts(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Ia(e){return Im(this.persistence,new Ml,e.initialUser,this.M)}pa(e){return new $D(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}ya(e){const t=G_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?bs.withCacheSize(this.cacheSizeBytes):bs.DEFAULT;return new RE(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,l(),d(),this.M,this.sharedClientState,!!this.forceOwnership)}ga(e){return new YD}}class _M extends GS{constructor(e,t){super(e,t,!1),this.Ta=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,T.Z)(function*(){yield t().call(r,e);const o=r.Ta.syncEngine;r.sharedClientState instanceof GE&&(r.sharedClientState.syncEngine={$r:fM.bind(null,o),Br:mM.bind(null,o),Lr:yM.bind(null,o),Fs:gM.bind(null,o),Fr:hM.bind(null,o)},yield r.sharedClientState.start()),yield r.persistence.Ts(function(){var u=(0,T.Z)(function*(h){yield function pM(n,e){return PT.apply(this,arguments)}(r.Ta.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return u.apply(this,arguments)}}())})()}ga(e){const t=l();if(!GE.vt(t))throw new We(Ae.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=G_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new GE(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class VT{initialize(e,t){var r=this;return(0,T.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>US(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=lM.bind(null,r.syncEngine),yield iT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Wx}createDatastore(e){const t=f(e.databaseInfo.databaseId),r=new a(e.databaseInfo);return new k(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,u=g=>US(this.syncEngine,g,0),h=QD.vt()?new QD:new AS,new oe(t,r,o,u,h);var t,r,o,u,h}createSyncEngine(e,t){return function(r,o,u,h,g,w,S){const O=new eM(r,o,u,h,g,w);return S&&(O.da=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,T.Z)(function*(t){const r=lt(t);Xe("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield Ke(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function qS(n,e=10240){let t=0;return{read:()=>(0,T.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,T.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class qE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ea(this.observer.next,e)}error(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Aa(){this.muted=!0}Ea(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class wM{constructor(e,t){this.Ra=e,this.M=t,this.metadata=new ri,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then(r=>{r&&r.Mu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ra.cancel()}getMetadata(){var e=this;return(0,T.Z)(function*(){return e.metadata.promise})()}ma(){var e=this;return(0,T.Z)(function*(){return yield e.getMetadata(),e.Pa()})()}Pa(){var e=this;return(0,T.Z)(function*(){const t=yield e.Va();if(null===t)return null;const r=e.ba.decode(t),o=Number(r);isNaN(o)&&e.va(`length string (${r}) is not valid number`);const u=yield e.Sa(o);return new Yx(JSON.parse(u),t.length+o)})()}Da(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Va(){var e=this;return(0,T.Z)(function*(){for(;e.Da()<0&&!(yield e.Ca()););if(0===e.buffer.length)return null;const t=e.Da();t<0&&e.va("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Sa(e){var t=this;return(0,T.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ca())&&t.va("Reached the end of bundle when more is expected.");const r=t.ba.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}va(e){throw this.Ra.cancel(),new Error(`Invalid bundle format: ${e}`)}Ca(){var e=this;return(0,T.Z)(function*(){const t=yield e.Ra.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class bM{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,T.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new We(Ae.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(o=(0,T.Z)(function*(u,h){const g=lt(u),w=Su(g.M)+"/documents",S={documents:h.map(be=>om(g.M,be))},O=yield g._o("BatchGetDocuments",w,S),V=new Map;O.forEach(be=>{const Me=function Jb(n,e){return"found"in e?function(t,r){Ot(!!r.found);const o=Au(t,r.found.name),u=mr(r.found.updateTime),h=new qi({mapValue:{fields:r.found.fields}});return zn.newFoundDocument(o,u,h)}(n,e):"missing"in e?function(t,r){Ot(!!r.missing),Ot(!!r.readTime);const o=Au(t,r.missing),u=mr(r.readTime);return zn.newNoDocument(o,u)}(n,e):vt()}(g.M,be);V.set(Me.key.toString(),Me)});const de=[];return h.forEach(be=>{const Me=V.get(be.toString());Ot(!!Me),de.push(Me)}),de}),function(u,h){return o.apply(this,arguments)})(t.datastore,e);var o;return r.forEach(o=>t.recordVersion(o)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Cl(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,T.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,o)=>{const u=it.fromPath(o);e.mutations.push(new rh(u,e.precondition(u)))}),yield(r=(0,T.Z)(function*(o,u){const h=lt(o),g=Su(h.M)+"/documents",w={writes:u.map(S=>Zf(h.M,S))};yield h.co("Commit",g,w)}),function(o,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw vt();t=Ut.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new We(Ae.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Wr.updateTime(t):Wr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ut.min()))throw new We(Ae.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Wr.updateTime(t)}return Wr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class EM{constructor(e,t,r,o,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=o,this.deferred=u,this.xa=r.maxAttempts,this.No=new y(this.asyncQueue,"transaction_retry")}run(){this.xa-=1,this.Na()}Na(){var e=this;this.No.Ro((0,T.Z)(function*(){const t=new bM(e.datastore),r=e.ka(t);r&&r.then(o=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(o)}).catch(u=>{e.Ma(u)}))}).catch(o=>{e.Ma(o)})}))}ka(e){try{const t=this.updateFunction(e);return!Nf(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ma(e){this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Na(),Promise.resolve()))):this.deferred.reject(e)}Oa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!E_(t)}return!1}}class CM{constructor(e,t,r,o){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=hi.UNAUTHENTICATED,this.clientId=fb.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var h=(0,T.Z)(function*(g){Xe("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return h.apply(this,arguments)}}()),this.appCheckCredentials.start(r,h=>(Xe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}getConfiguration(){var e=this;return(0,T.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new We(Ae.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ri;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,T.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=Om(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function zS(n,e){return UT.apply(this,arguments)}function UT(){return UT=(0,T.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Xe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=(0,T.Z)(function*(u){r.isEqual(u)||(yield Dm(e.localStore,u),r=u)});return function(u){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),UT.apply(this,arguments)}function WS(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,T.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jT(n);Xe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>RS(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,u)=>RS(e.remoteStore,u)),n.onlineComponents=e}),BT.apply(this,arguments)}function jT(n){return $T.apply(this,arguments)}function $T(){return $T=(0,T.Z)(function*(n){return n.offlineComponents||(Xe("FirestoreClient","Using default OfflineComponentProvider"),yield zS(n,new HS)),n.offlineComponents}),$T.apply(this,arguments)}function zE(n){return HT.apply(this,arguments)}function HT(){return HT=(0,T.Z)(function*(n){return n.onlineComponents||(Xe("FirestoreClient","Using default OnlineComponentProvider"),yield WS(n,new VT)),n.onlineComponents}),HT.apply(this,arguments)}function ZS(n){return jT(n).then(e=>e.persistence)}function GT(n){return jT(n).then(e=>e.localStore)}function KS(n){return zE(n).then(e=>e.remoteStore)}function qT(n){return zE(n).then(e=>e.syncEngine)}function Um(n){return zT.apply(this,arguments)}function zT(){return zT=(0,T.Z)(function*(n){const e=yield zE(n),t=e.eventManager;return t.onListen=tM.bind(null,e.syncEngine),t.onUnlisten=nM.bind(null,e.syncEngine),t}),zT.apply(this,arguments)}function YS(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return function(o,u,h,g,w){const S=new qE({next:V=>{u.enqueueAndForget(()=>lT(o,O));const de=V.docs.has(h);!de&&V.fromCache?w.reject(new We(Ae.UNAVAILABLE,"Failed to get document because the client is offline.")):de&&V.fromCache&&g&&"server"===g.source?w.reject(new We(Ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(V)},error:V=>w.reject(V)}),O=new hT(eh(h.path),S,{includeMetadataChanges:!0,ku:!0});return aT(o,O)}(yield Um(n),n.asyncQueue,e,t,r)})),r.promise}function QS(n,e,t={}){const r=new ri;return n.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return function(o,u,h,g,w){const S=new qE({next:V=>{u.enqueueAndForget(()=>lT(o,O)),V.fromCache&&"server"===g.source?w.reject(new We(Ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(V)},error:V=>w.reject(V)}),O=new hT(h,S,{includeMetadataChanges:!0,ku:!0});return aT(o,O)}(yield Um(n),n.asyncQueue,e,t,r)})),r.promise}const JS=new Map;function WT(n,e,t){if(!t)throw new We(Ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function XS(n,e,t,r){if(!0===e&&!0===r)throw new We(Ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function e1(n){if(!it.isDocumentKey(n))throw new We(Ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function t1(n){if(it.isDocumentKey(n))throw new We(Ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function WE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":vt()}function bn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new We(Ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=WE(n);throw new We(Ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function n1(n,e){if(e<=0)throw new We(Ae.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class r1{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new We(Ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new We(Ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,XS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class n0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r1({}),this._settingsFrozen=!1,e instanceof Ha?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new We(Ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ha(o.options.projectId)}(e))}get app(){if(!this._app)throw new We(Ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new We(Ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r1(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new cb;switch(t.type){case"gapi":const r=t.client;return Ot(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new rD(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new We(Ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=JS.get(e);t&&(Xe("ComponentProvider","Removing Datastore"),JS.delete(e),t.terminate())}(this),Promise.resolve()}}class yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class Cs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Cs(this.firestore,e,this._query)}}class Rl extends Cs{constructor(e,t,r){super(e,t,eh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new it(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function i1(n,e,...t){if(n=(0,sn.m9)(n),WT("collection","path",e),n instanceof n0){const r=vn.fromString(e,...t);return t1(r),new Rl(n,null,r)}{if(!(n instanceof yr||n instanceof Rl))throw new We(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return t1(r),new Rl(n.firestore,null,r)}}function ZE(n,e,...t){if(n=(0,sn.m9)(n),1===arguments.length&&(e=fb.R()),WT("doc","path",e),n instanceof n0){const r=vn.fromString(e,...t);return e1(r),new yr(n,null,new it(r))}{if(!(n instanceof yr||n instanceof Rl))throw new We(Ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(vn.fromString(e,...t));return e1(r),new yr(n.firestore,n instanceof Rl?n.converter:null,new it(r))}}function s1(n,e){return n=(0,sn.m9)(n),e=(0,sn.m9)(e),(n instanceof yr||n instanceof Rl)&&(e instanceof yr||e instanceof Rl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function o1(n,e){return n=(0,sn.m9)(n),e=(0,sn.m9)(e),n instanceof Cs&&e instanceof Cs&&n.firestore===e.firestore&&jf(n._query,e._query)&&n.converter===e.converter}class kM{constructor(){this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new y(this,"async_queue_retry"),this.Qa=()=>{const t=d();t&&Xe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=d();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Qa)}get isShuttingDown(){return this.Ba}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ja(),this.Wa(e)}enterRestrictedMode(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;const t=d();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}enqueue(e){if(this.ja(),this.Ba)return new Promise(()=>{});const t=new ri;return this.Wa(()=>this.Ba&&this.Ka?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.$a.push(e),this.za()))}za(){var e=this;return(0,T.Z)(function*(){if(0!==e.$a.length){try{yield e.$a[0](),e.$a.shift(),e.No.reset()}catch(t){if(!Dl(t))throw t;Xe("AsyncQueue","Operation failed with retryable error: "+t)}e.$a.length>0&&e.No.Ro(()=>e.za())}})()}Wa(e){const t=this.Fa.then(()=>(this.qa=!0,e().catch(r=>{throw this.Ua=r,this.qa=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(r)),r}).then(r=>(this.qa=!1,r))));return this.Fa=t,t}enqueueAfterDelay(e,t,r){this.ja(),this.Ga.indexOf(e)>-1&&(t=0);const o=oT.createAndSchedule(this,e,t,r,u=>this.Ha(u));return this.La.push(o),o}ja(){this.Ua&&vt()}verifyOperationInProgress(){}Ja(){var e=this;return(0,T.Z)(function*(){let t;do{t=e.Fa,yield t}while(t!==e.Fa)})()}Ya(e){for(const t of this.La)if(t.timerId===e)return!0;return!1}Xa(e){return this.Ja().then(()=>{this.La.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.La)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ja()})}Za(e){this.Ga.push(e)}Ha(e){const t=this.La.indexOf(e);this.La.splice(t,1)}}function ZT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class OM{constructor(){this._progressObserver={},this._taskCompletionResolver=new ri,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ir extends n0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new kM,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||a1(this),this._firestoreClient.terminate()}}function LM(n=(0,_u.getApp)()){return(0,_u._getProvider)(n,"firestore").getImmediate()}function pi(n){return n._firestoreClient||a1(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a1(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new cD(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new CM(n._authCredentials,n._appCheckCredentials,n._queue,r)}function u1(n,e,t){const r=new ri;return n.asyncQueue.enqueue((0,T.Z)(function*(){try{yield zS(n,t),yield WS(n,e),r.resolve()}catch(o){if(!("FirebaseError"===(u=o).name?u.code===Ae.FAILED_PRECONDITION||u.code===Ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+o),r.reject(o)}var u})).then(()=>r.promise)}function l1(n){if(n._initialized||n._terminated)throw new We(Ae.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new We(Ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Pl(ii.fromBase64String(e))}catch(t){throw new We(Ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Pl(ii.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class dp{constructor(e){this._methodName=e}}class KE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new We(Ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new We(Ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Jt(this._lat,e._lat)||Jt(this._long,e._long)}}const zM=/^__.*__$/;class WM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fc(e,this.data,t,this.fieldTransforms)}}class c1{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ca(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function d1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class YE{constructor(e,t,r,o,u,h){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===u&&this.tc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get ec(){return this.settings.ec}nc(e){return new YE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}sc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.nc({path:r,ic:!1});return o.rc(e),o}oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.nc({path:r,ic:!1});return o.tc(),o}uc(e){return this.nc({path:void 0,ic:!0})}ac(e){return XE(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}tc(){if(this.path)for(let e=0;e<this.path.length;e++)this.rc(this.path.get(e))}rc(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(d1(this.ec)&&zM.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}class ZM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||f(e)}lc(e,t,r,o=!1){return new YE({ec:e,methodName:t,hc:r,path:zr.emptyPath(),ic:!1,cc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function hp(n){const e=n._freezeSettings(),t=f(n._databaseId);return new ZM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QE(n,e,t,r,o,u={}){const h=n.lc(u.merge||u.mergeFields?2:0,e,t,o);JT("Data must be an object, but it was:",h,r);const g=p1(r,h);let w,S;if(u.merge)w=new ja(h.fieldMask),S=h.fieldTransforms;else if(u.mergeFields){const O=[];for(const V of u.mergeFields){const de=XT(e,V,t);if(!h.contains(de))throw new We(Ae.INVALID_ARGUMENT,`Field '${de}' is specified in your field mask but missing from your input data.`);m1(O,de)||O.push(de)}w=new ja(O),S=h.fieldTransforms.filter(V=>w.covers(V.field))}else w=null,S=h.fieldTransforms;return new WM(new qi(g),w,S)}class r0 extends dp{_toFieldTransform(e){if(2!==e.ec)throw e.ac(1===e.ec?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof r0}}function h1(n,e,t){return new YE({ec:3,hc:e.settings.hc,methodName:n._methodName,ic:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class KT extends dp{_toFieldTransform(e){return new $f(e.path,new nh)}isEqual(e){return e instanceof KT}}class KM extends dp{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=h1(this,e,!0),r=this.fc.map(u=>fp(u,t)),o=new ua(r);return new $f(e.path,o)}isEqual(e){return this===e}}class YM extends dp{constructor(e,t){super(e),this.fc=t}_toFieldTransform(e){const t=h1(this,e,!0),r=this.fc.map(u=>fp(u,t)),o=new El(r);return new $f(e.path,o)}isEqual(e){return this===e}}class QM extends dp{constructor(e,t){super(e),this.dc=t}_toFieldTransform(e){const t=new Oc(e.M,Ob(e.M,this.dc));return new $f(e.path,t)}isEqual(e){return this===e}}function YT(n,e,t,r){const o=n.lc(1,e,t);JT("Data must be an object, but it was:",o,r);const u=[],h=qi.empty();zd(r,(w,S)=>{const O=JE(e,w,t);S=(0,sn.m9)(S);const V=o.oc(O);if(S instanceof r0)u.push(O);else{const de=fp(S,V);null!=de&&(u.push(O),h.set(O,de))}});const g=new ja(u);return new c1(h,g,o.fieldTransforms)}function QT(n,e,t,r,o,u){const h=n.lc(1,e,t),g=[XT(e,r,t)],w=[o];if(u.length%2!=0)throw new We(Ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let de=0;de<u.length;de+=2)g.push(XT(e,u[de])),w.push(u[de+1]);const S=[],O=qi.empty();for(let de=g.length-1;de>=0;--de)if(!m1(S,g[de])){const be=g[de];let Me=w[de];Me=(0,sn.m9)(Me);const nt=h.oc(be);if(Me instanceof r0)S.push(be);else{const _t=fp(Me,nt);null!=_t&&(S.push(be),O.set(be,_t))}}const V=new ja(S);return new c1(O,V,h.fieldTransforms)}function f1(n,e,t,r=!1){return fp(t,n.lc(r?4:3,e))}function fp(n,e){if(g1(n=(0,sn.m9)(n)))return JT("Unsupported field value:",e,n),p1(n,e);if(n instanceof dp)return function(t,r){if(!d1(r.ec))throw r.ac(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ac(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ic&&4!==e.ec)throw e.ac("Nested arrays are not supported");return function(t,r){const o=[];let u=0;for(const h of t){let g=fp(h,r.uc(u));null==g&&(g={nullValue:"NULL_VALUE"}),o.push(g),u++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=(0,sn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ob(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=qr.fromDate(t);return{timestampValue:ih(r.M,o)}}if(t instanceof qr){const o=new qr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ih(r.M,o)}}if(t instanceof KE)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Pl)return{bytesValue:Zb(r.M,t._byteString)};if(t instanceof yr){const o=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(o))throw r.ac(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:A_(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ac(`Unsupported field value: ${WE(t)}`)}(n,e)}function p1(n,e){const t={};return n_(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zd(n,(r,o)=>{const u=fp(o,e.sc(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function g1(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof qr||n instanceof KE||n instanceof Pl||n instanceof yr||n instanceof dp)}function JT(n,e,t){if(!g1(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=WE(t);throw e.ac("an object"===r?n+" a custom object":n+" "+r)}var r}function XT(n,e,t){if((e=(0,sn.m9)(e))instanceof Zc)return e._internalPath;if("string"==typeof e)return JE(n,e);throw XE("Field path arguments must be of type string or ",n,!1,void 0,t)}const JM=new RegExp("[~\\*/\\[\\]]");function JE(n,e,t){if(e.search(JM)>=0)throw XE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zc(...e.split("."))._internalPath}catch{throw XE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function XE(n,e,t,r,o){const u=r&&!r.isEmpty(),h=void 0!==o;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let w="";return(u||h)&&(w+=" (found",u&&(w+=` in field ${r}`),h&&(w+=` in document ${o}`),w+=")"),new We(Ae.INVALID_ARGUMENT,g+n+w)}function m1(n,e){return n.some(t=>t.isEqual(e))}class s0{constructor(e,t,r,o,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new XM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class XM extends s0{data(){return super.data()}}function eC(n,e){return"string"==typeof e?JE(n,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}class pp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kc extends s0{constructor(e,t,r,o,u,h){super(e,t,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new o0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(eC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class o0 extends Kc{data(e={}){return super.data(e)}}class fh{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new pp(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new o0(this._firestore,this._userDataWriter,r.key,r,new pp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new We(Ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new o0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new pp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>o||3!==h.type).map(h=>{const g=new o0(r._firestore,r._userDataWriter,h.doc.key,h.doc,new pp(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,S=-1;return 0!==h.type&&(w=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),1!==h.type&&(u=u.add(h.doc),S=u.indexOf(h.doc.key)),{type:eR(h.type),doc:g,oldIndex:w,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function eR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}function y1(n,e){return n instanceof Kc&&e instanceof Kc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof fh&&e instanceof fh&&n._firestore===e._firestore&&o1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function v1(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new We(Ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class a0{}function ph(n,...e){for(const t of e)n=t._apply(n);return n}class tR extends a0{constructor(e,t,r){super(),this._c=e,this.wc=t,this.mc=r,this.type="where"}_apply(e){const t=hp(e.firestore),r=function(o,u,h,g,w,S,O){let V;if(w.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new We(Ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){I1(O,S);const be=[];for(const Me of O)be.push(C1(g,o,Me));V={arrayValue:{values:be}}}else V=C1(g,o,O)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||I1(O,S),V=f1(h,"where",O,"in"===S||"not-in"===S);const de=Ai.create(w,S,V);return function(be,Me){if(Me.S()){const _t=Mb(be);if(null!==_t&&!_t.isEqual(Me.field))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_t.toString()}' and '${Me.field.toString()}'`);const cn=d_(be);null!==cn&&D1(0,Me.field,cn)}const nt=function(_t,cn){for(const dn of _t.filters)if(cn.indexOf(dn.op)>=0)return dn.op;return null}(be,function(_t){switch(_t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Me.op));if(null!==nt)throw new We(Ae.INVALID_ARGUMENT,nt===Me.op?`Invalid query. You cannot use more than one '${Me.op.toString()}' filter.`:`Invalid query. You cannot use '${Me.op.toString()}' filters with '${nt.toString()}' filters.`)}(o,de),de}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new Cs(e.firestore,e.converter,function(o,u){const h=o.filters.concat([u]);return new qa(o.path,o.collectionGroup,o.explicitOrderBy.slice(),h,o.limit,o.limitType,o.startAt,o.endAt)}(e._query,r))}}class rR extends a0{constructor(e,t){super(),this._c=e,this.gc=t,this.type="orderBy"}_apply(e){const t=function(r,o,u){if(null!==r.startAt)throw new We(Ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new We(Ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new Du(o,u);return function(g,w){if(null===d_(g)){const S=Mb(g);null!==S&&D1(0,S,w.field)}}(r,h),h}(e._query,this._c,this.gc);return new Cs(e.firestore,e.converter,function(r,o){const u=r.explicitOrderBy.concat([o]);return new qa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class _1 extends a0{constructor(e,t,r){super(),this.type=e,this.yc=t,this.Ic=r}_apply(e){return new Cs(e.firestore,e.converter,Jg(e._query,this.yc,this.Ic))}}class w1 extends a0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=E1(e,this.type,this.Tc,this.Ec);return new Cs(e.firestore,e.converter,(o=t,new qa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,o,r.endAt)));var r,o}}class b1 extends a0{constructor(e,t,r){super(),this.type=e,this.Tc=t,this.Ec=r}_apply(e){const t=E1(e,this.type,this.Tc,this.Ec);return new Cs(e.firestore,e.converter,(o=t,new qa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,o)));var r,o}}function E1(n,e,t,r){if(t[0]=(0,sn.m9)(t[0]),t[0]instanceof s0)return function(o,u,h,g,w){if(!g)throw new We(Ae.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const S=[];for(const O of th(o))if(O.field.isKeyField())S.push(Rc(u,g.key));else{const V=g.data.field(O.field);if(r_(V))throw new We(Ae.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+O.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===V){const de=O.field.canonicalString();throw new We(Ae.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${de}' (used as the orderBy) does not exist.`)}S.push(V)}return new Ga(S,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const o=hp(n.firestore);return function(u,h,g,w,S,O){const V=u.explicitOrderBy;if(S.length>V.length)throw new We(Ae.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const de=[];for(let be=0;be<S.length;be++){const Me=S[be];if(V[be].field.isKeyField()){if("string"!=typeof Me)throw new We(Ae.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof Me}`);if(!h_(u)&&-1!==Me.indexOf("/"))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${Me}' contains a slash.`);const nt=u.path.child(vn.fromString(Me));if(!it.isDocumentKey(nt))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${nt}' is not because it contains an odd number of segments.`);const _t=new it(nt);de.push(Rc(h,_t))}else{const nt=f1(g,w,Me);de.push(nt)}}return new Ga(de,O)}(n._query,n.firestore._databaseId,o,e,t,r)}}function C1(n,e,t){if("string"==typeof(t=(0,sn.m9)(t))){if(""===t)throw new We(Ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!h_(e)&&-1!==t.indexOf("/"))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(vn.fromString(t));if(!it.isDocumentKey(r))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Rc(n,new it(r))}if(t instanceof yr)return Rc(n,t._key);throw new We(Ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${WE(t)}.`)}function I1(n,e){if(!Array.isArray(n)||0===n.length)throw new We(Ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new We(Ae.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function D1(n,e,t){if(!t.isEqual(e))throw new We(Ae.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const dR={maxAttempts:5};class eA{convertValue(e,t="none"){switch(Mc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_l(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw vt()}}convertObject(e,t){const r={};return zd(e.fields,(o,u)=>{r[o]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new KE(Cr(e.latitude),Cr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($a(e));default:return null}}convertTimestamp(e){const t=vl(e);return new qr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=vn.fromString(e);Ot(hm(r));const o=new Ha(r.get(1),r.get(3)),u=new it(r.popFirst(5));return o.isEqual(t)||Fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function tC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class hR extends eA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}class T1{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=hp(e)}set(e,t,r){this._verifyNotCommitted();const o=gh(e,this._firestore),u=tC(o.converter,t,r),h=QE(this._dataReader,"WriteBatch.set",o._key,u,null!==o.converter,r);return this._mutations.push(h.toMutation(o._key,Wr.none())),this}update(e,t,r,...o){this._verifyNotCommitted();const u=gh(e,this._firestore);let h;return h="string"==typeof(t=(0,sn.m9)(t))||t instanceof Zc?QT(this._dataReader,"WriteBatch.update",u._key,t,r,o):YT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,Wr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=gh(e,this._firestore);return this._mutations=this._mutations.concat(new Cl(t._key,Wr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new We(Ae.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gh(n,e){if((n=(0,sn.m9)(n)).firestore!==e)throw new We(Ae.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class gp extends eA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Pl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}function A1(n,e,t){n=bn(n,yr);const r=bn(n.firestore,Ir),o=tC(n.converter,e,t);return Bm(r,[QE(hp(r),"setDoc",n._key,o,null!==n.converter,t).toMutation(n._key,Wr.none())])}function S1(n,e,t,...r){n=bn(n,yr);const o=bn(n.firestore,Ir),u=hp(o);let h;return h="string"==typeof(e=(0,sn.m9)(e))||e instanceof Zc?QT(u,"updateDoc",n._key,e,t,r):YT(u,"updateDoc",n._key,e),Bm(o,[h.toMutation(n._key,Wr.exists(!0))])}function x1(n,...e){var t,r,o;n=(0,sn.m9)(n);let u={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||ZT(e[h])||(u=e[h],h++);const g={includeMetadataChanges:u.includeMetadataChanges};if(ZT(e[h])){const V=e[h];e[h]=null===(t=V.next)||void 0===t?void 0:t.bind(V),e[h+1]=null===(r=V.error)||void 0===r?void 0:r.bind(V),e[h+2]=null===(o=V.complete)||void 0===o?void 0:o.bind(V)}let w,S,O;if(n instanceof yr)S=bn(n.firestore,Ir),O=eh(n._key.path),w={next:V=>{e[h]&&e[h](tA(S,n,V))},error:e[h+1],complete:e[h+2]};else{const V=bn(n,Cs);S=bn(V.firestore,Ir),O=V._query;const de=new gp(S);w={next:be=>{e[h]&&e[h](new fh(S,de,V,be))},error:e[h+1],complete:e[h+2]},v1(n._query)}return function(V,de,be,Me){const nt=new qE(Me),_t=new hT(de,nt,be);return V.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return aT(yield Um(V),_t)})),()=>{nt.Aa(),V.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return lT(yield Um(V),_t)}))}}(pi(S),O,g,w)}function Bm(n,e){return function(t,r){const o=new ri;return t.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return function rM(n,e,t){return yT.apply(this,arguments)}(yield qT(t),r,o)})),o.promise}(pi(n),e)}function tA(n,e,t){const r=t.docs.get(e._key),o=new gp(n);return new Kc(n,o,e._key,r,new pp(t.hasPendingWrites,t.fromCache),e.converter)}class ER extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=hp(e)}get(e){const t=gh(e,this._firestore),r=new hR(this._firestore);return this._transaction.lookup([t._key]).then(o=>{if(!o||1!==o.length)return vt();const u=o[0];if(u.isFoundDocument())return new s0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new s0(this._firestore,r,t._key,null,t.converter);throw vt()})}set(e,t,r){const o=gh(e,this._firestore),u=tC(o.converter,t,r),h=QE(this._dataReader,"Transaction.set",o._key,u,null!==o.converter,r);return this._transaction.set(o._key,h),this}update(e,t,r,...o){const u=gh(e,this._firestore);let h;return h="string"==typeof(t=(0,sn.m9)(t))||t instanceof Zc?QT(this._dataReader,"Transaction.update",u._key,t,r,o):YT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,h),this}delete(e){const t=gh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=gh(e,this._firestore),r=new gp(this._firestore);return super.get(e).then(o=>new Kc(this._firestore,r,t._key,o._document,new pp(!1,!1),t.converter))}}function nA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new We("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function R1(){if(typeof Uint8Array>"u")throw new We("unimplemented","Uint8Arrays are not available in this environment.")}function P1(){if(!function uD(){return typeof atob<"u"}())throw new We("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){xc=_u.SDK_VERSION,(0,_u._registerComponent)(new qs.wA("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),u=new Ir(o,new Rf(t.getProvider("auth-internal")),new iD(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,_u.registerVersion)(eD,"3.4.9",n),(0,_u.registerVersion)(eD,"3.4.9","esm2017")}();class u0{constructor(e){this._delegate=e}static fromBase64String(e){return P1(),new u0(Pl.fromBase64String(e))}static fromUint8Array(e){return R1(),new u0(Pl.fromUint8Array(e))}toBase64(){return P1(),this._delegate.toBase64()}toUint8Array(){return R1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function rA(n){return function RR(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class PR{enableIndexedDbPersistence(e,t){return function VM(n,e){l1(n=bn(n,Ir));const t=pi(n),r=n._freezeSettings(),o=new VT;return u1(t,o,new GS(o,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function UM(n){l1(n=bn(n,Ir));const e=pi(n),t=n._freezeSettings(),r=new VT;return u1(e,r,new _M(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function BM(n){if(n._initialized&&!n._terminated)throw new We(Ae.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ri;return n._queue.enqueueAndForgetEvenWhileRestricted((0,T.Z)(function*(){try{yield(t=(0,T.Z)(function*(r){if(!Wa.vt())return Promise.resolve();const o=r+"main";yield Wa.delete(o)}),function(r){return t.apply(this,arguments)})(G_(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class N1{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ha||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Mf("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function PM(n,e,t,r={}){var o;const u=(n=bn(n,n0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Mf("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,g;if("string"==typeof r.mockUserToken)h=r.mockUserToken,g=hi.MOCK_USER;else{h=(0,sn.Sg)(r.mockUserToken,null===(o=n._app)||void 0===o?void 0:o.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new We(Ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new hi(w)}n._authCredentials=new nD(new t_(h,g))}}(this._delegate,e,t,r)}enableNetwork(){return function $M(n){return function IM(n){return n.asyncQueue.enqueue((0,T.Z)(function*(){const e=yield ZS(n),t=yield KS(n);return e.setNetworkEnabled(!0),function(r){const o=lt(r);return o.wu.delete(0),ye(o)}(t)}))}(pi(n=bn(n,Ir)))}(this._delegate)}disableNetwork(){return function HM(n){return function DM(n){return n.asyncQueue.enqueue((0,T.Z)(function*(){const e=yield ZS(n),t=yield KS(n);return e.setNetworkEnabled(!1),(r=(0,T.Z)(function*(o){const u=lt(o);u.wu.add(0),yield Ke(u),u.yu.set("Offline")}),function(o){return r.apply(this,arguments)})(t);var r}))}(pi(n=bn(n,Ir)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,XS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jM(n){return function(e){const t=new ri;return e.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return function aM(n,e){return ET.apply(this,arguments)}(yield qT(e),t)})),t.promise}(pi(n=bn(n,Ir)))}(this._delegate)}onSnapshotsInSync(e){return function bR(n,e){return function SM(n,e){const t=new qE(e);return n.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return r=yield Um(n),o=t,lt(r).bu.add(o),void o.next();var r,o})),()=>{t.Aa(),n.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return r=yield Um(n),o=t,void lt(r).bu.delete(o);var r,o}))}}(pi(n=bn(n,Ir)),ZT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new We("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jm(this,i1(this._delegate,e))}catch(t){throw Ks(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ka(this,ZE(this._delegate,e))}catch(t){throw Ks(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ys(this,function NM(n,e){if(n=bn(n,n0),WT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new We(Ae.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Cs(n,null,(t=e,new qa(vn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ks(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function CR(n,e,t){n=bn(n,Ir);const r=Object.assign(Object.assign({},dR),t);return function(o){if(o.maxAttempts<1)throw new We(Ae.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function xM(n,e,t){const r=new ri;return n.asyncQueue.enqueueAndForget((0,T.Z)(function*(){const o=yield(u=n,zE(u).then(h=>h.datastore));var u;new EM(n.asyncQueue,o,t,e,r).run()})),r.promise}(pi(n),o=>e(new ER(n,o)),r)}(this._delegate,t=>e(new k1(this,t)))}batch(){return pi(this._delegate),new O1(new T1(this._delegate,e=>Bm(this._delegate,e)))}loadBundle(e){return function GM(n,e){const t=pi(n=bn(n,Ir)),r=new OM;return function MM(n,e,t,r){const o=function(u,h){let g;return g="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,S){if(w instanceof Uint8Array)return qS(w,S);if(w instanceof ArrayBuffer)return qS(new Uint8Array(w),S);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new wM(w,h);var w}(t,f(e));n.asyncQueue.enqueueAndForget((0,T.Z)(function*(){!function vM(n,e,t){const r=lt(n);var o;(o=(0,T.Z)(function*(u,h,g){try{const w=yield h.getMetadata();if(yield function(de,be){const Me=lt(de),nt=mr(be.createTime);return Me.persistence.runTransaction("hasNewerBundle","readonly",_t=>Me._s.getBundleMetadata(_t,be.id)).then(_t=>!!_t&&_t.createTime.compareTo(nt)>=0)}(u.localStore,w))return yield h.close(),g._completeWith({taskState:"Success",documentsLoaded:(de=w).totalDocuments,bytesLoaded:de.totalBytes,totalDocuments:de.totalDocuments,totalBytes:de.totalBytes}),Promise.resolve(new Set);g._updateProgress(kS(w));const S=new Qx(w,u.localStore,h.M);let O=yield h.ma();for(;O;){const de=yield S.Fu(O);de&&g._updateProgress(de),O=yield h.ma()}const V=yield S.complete();return yield Wc(u,V.Lu,void 0),yield function(de,be){const Me=lt(de);return Me.persistence.runTransaction("Save bundle","readwrite",nt=>Me._s.saveBundleMetadata(nt,be))}(u.localStore,w),g._completeWith(V.progress),Promise.resolve(V.Bu)}catch(w){return Mf("SyncEngine",`Loading bundle failed with ${w}`),g._failWith(w),Promise.resolve(new Set)}var de}),function(u,h,g){return o.apply(this,arguments)})(r,e,t).then(o=>{r.sharedClientState.notifyBundleLoaded(o)})}(yield qT(n),o,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function qM(n,e){return function RM(n,e){return n.asyncQueue.enqueue((0,T.Z)(function*(){return function(t,r){const o=lt(t);return o.persistence.runTransaction("Get named query","readonly",u=>o._s.getNamedQuery(u,r))}(yield GT(n),e)}))}(pi(n=bn(n,Ir)),e).then(t=>t?new Cs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ys(this,t):null)}}class nC extends eA{constructor(e){super(),this.firestore=e}convertBytes(e){return new u0(new Pl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ka.forKey(t,this.firestore,null)}}class k1{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new nC(e)}get(e){const t=yp(e);return this._delegate.get(t).then(r=>new l0(this._firestore,new Kc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const o=yp(e);return r?(nA("Transaction.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=yp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=yp(e);return this._delegate.delete(t),this}}class O1{constructor(e){this._delegate=e}set(e,t,r){const o=yp(e);return r?(nA("WriteBatch.set",r),this._delegate.set(o,t,r)):this._delegate.set(o,t),this}update(e,t,r,...o){const u=yp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...o),this}delete(e){const t=yp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class mp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new o0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new c0(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=mp.INSTANCES;let o=r.get(e);o||(o=new WeakMap,r.set(e,o));let u=o.get(t);return u||(u=new mp(e,new nC(e),t),o.set(t,u)),u}}mp.INSTANCES=new WeakMap;class Ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new We("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ka(t,new yr(t._delegate,r,new it(e)))}static forKey(e,t,r){return new Ka(t,new yr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new jm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jm(this.firestore,i1(this._delegate,e))}catch(t){throw Ks(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,sn.m9)(e))instanceof yr&&s1(this._delegate,e)}set(e,t){t=nA("DocumentReference.set",t);try{return t?A1(this._delegate,e,t):A1(this._delegate,e)}catch(r){throw Ks(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?S1(this._delegate,e):S1(this._delegate,e,t,...r)}catch(o){throw Ks(o,"updateDoc()","DocumentReference.update()")}}delete(){return function _R(n){return Bm(bn(n.firestore,Ir),[new Cl(n._key,Wr.none())])}(this._delegate)}onSnapshot(...e){const t=F1(e),r=L1(e,o=>new l0(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)));return x1(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function pR(n){n=bn(n,yr);const e=bn(n.firestore,Ir),t=pi(e),r=new gp(e);return function TM(n,e){const t=new ri;return n.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return(r=(0,T.Z)(function*(o,u,h){try{const g=yield function(w,S){const O=lt(w);return O.persistence.runTransaction("read document","readonly",V=>O.fi.Ls(V,S))}(o,u);g.isFoundDocument()?h.resolve(g):g.isNoDocument()?h.resolve(null):h.reject(new We(Ae.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const w=Om(g,`Failed to get document '${u} from cache`);h.reject(w)}}),function(o,u,h){return r.apply(this,arguments)})(yield GT(n),e,t);var r})),t.promise}(t,n._key).then(o=>new Kc(e,r,n._key,o,new pp(null!==o&&o.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function gR(n){n=bn(n,yr);const e=bn(n.firestore,Ir);return YS(pi(e),n._key,{source:"server"}).then(t=>tA(e,n,t))}(this._delegate):function fR(n){n=bn(n,yr);const e=bn(n.firestore,Ir);return YS(pi(e),n._key).then(t=>tA(e,n,t))}(this._delegate),t.then(r=>new l0(this.firestore,new Kc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ka(this.firestore,this._delegate.withConverter(e?mp.getInstance(this.firestore,e):null))}}function Ks(n,e,t){return n.message=n.message.replace(e,t),n}function F1(n){for(const e of n)if("object"==typeof e&&!rA(e))return e;return{}}function L1(n,e){var t,r;let o;return o=rA(n[0])?n[0]:rA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{o.next&&o.next(e(u))},error:null===(t=o.error)||void 0===t?void 0:t.bind(o),complete:null===(r=o.complete)||void 0===r?void 0:r.bind(o)}}class l0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return y1(this._delegate,e._delegate)}}class c0 extends l0{data(e){const t=this._delegate.data(e);return function tD(n,e){n||vt()}(void 0!==t),t}}class Ys{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new nC(e)}where(e,t,r){try{return new Ys(this.firestore,ph(this._delegate,function nR(n,e,t){const r=e,o=eC("where",n);return new tR(o,r,t)}(e,t,r)))}catch(o){throw Ks(o,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ys(this.firestore,ph(this._delegate,function iR(n,e="asc"){const t=e,r=eC("orderBy",n);return new rR(r,t)}(e,t)))}catch(r){throw Ks(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ys(this.firestore,ph(this._delegate,function sR(n){return n1("limit",n),new _1("limit",n,"F")}(e)))}catch(t){throw Ks(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ys(this.firestore,ph(this._delegate,function oR(n){return n1("limitToLast",n),new _1("limitToLast",n,"L")}(e)))}catch(t){throw Ks(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ys(this.firestore,ph(this._delegate,function aR(...n){return new w1("startAt",n,!0)}(...e)))}catch(t){throw Ks(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ys(this.firestore,ph(this._delegate,function uR(...n){return new w1("startAfter",n,!1)}(...e)))}catch(t){throw Ks(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ys(this.firestore,ph(this._delegate,function lR(...n){return new b1("endBefore",n,!1)}(...e)))}catch(t){throw Ks(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ys(this.firestore,ph(this._delegate,function cR(...n){return new b1("endAt",n,!0)}(...e)))}catch(t){throw Ks(t,"endAt()","Query.endAt()")}}isEqual(e){return o1(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function yR(n){n=bn(n,Cs);const e=bn(n.firestore,Ir),t=pi(e),r=new gp(e);return function AM(n,e){const t=new ri;return n.asyncQueue.enqueueAndForget((0,T.Z)(function*(){return(r=(0,T.Z)(function*(o,u,h){try{const g=yield xm(o,u,!0),w=new LS(u,g._i),S=w.Wu(g.documents),O=w.applyChanges(S,!1);h.resolve(O.snapshot)}catch(g){const w=Om(g,`Failed to execute query '${u} against cache`);h.reject(w)}}),function(o,u,h){return r.apply(this,arguments)})(yield GT(n),e,t);var r})),t.promise}(t,n._query).then(o=>new fh(e,r,n,o))}(this._delegate):"server"===e?.source?function vR(n){n=bn(n,Cs);const e=bn(n.firestore,Ir),t=pi(e),r=new gp(e);return QS(t,n._query,{source:"server"}).then(o=>new fh(e,r,n,o))}(this._delegate):function mR(n){n=bn(n,Cs);const e=bn(n.firestore,Ir),t=pi(e),r=new gp(e);return v1(n._query),QS(t,n._query).then(o=>new fh(e,r,n,o))}(this._delegate),t.then(r=>new iA(this.firestore,new fh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=F1(e),r=L1(e,o=>new iA(this.firestore,new fh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)));return x1(this._delegate,t,r)}withConverter(e){return new Ys(this.firestore,this._delegate.withConverter(e?mp.getInstance(this.firestore,e):null))}}class kR{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new c0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ys(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new c0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new kR(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new c0(this._firestore,r))})}isEqual(e){return y1(this._delegate,e._delegate)}}class jm extends Ys{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ka(this.firestore,e):null}doc(e){try{return new Ka(this.firestore,void 0===e?ZE(this._delegate):ZE(this._delegate,e))}catch(t){throw Ks(t,"doc()","CollectionReference.doc()")}}add(e){return function wR(n,e){const t=bn(n.firestore,Ir),r=ZE(n),o=tC(n.converter,e);return Bm(t,[QE(hp(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,Wr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Ka(this.firestore,t))}isEqual(e){return s1(this._delegate,e._delegate)}withConverter(e){return new jm(this.firestore,this._delegate.withConverter(e?mp.getInstance(this.firestore,e):null))}}function yp(n){return bn(n,yr)}class sA{constructor(...e){this._delegate=new Zc(...e)}static documentId(){return new sA(zr.keyField().canonicalString())}isEqual(e){return(e=(0,sn.m9)(e))instanceof Zc&&this._delegate._internalPath.isEqual(e._internalPath)}}class vp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function DR(){return new KT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new vp(e)}static delete(){const e=function IR(){return new r0("deleteField")}();return e._methodName="FieldValue.delete",new vp(e)}static arrayUnion(...e){const t=function TR(...n){return new KM("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new vp(t)}static arrayRemove(...e){const t=function AR(...n){return new YM("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new vp(t)}static increment(e){const t=function SR(n){return new QM("increment",n)}(e);return t._methodName="FieldValue.increment",new vp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const OR={Firestore:N1,GeoPoint:KE,Timestamp:qr,Blob:u0,Transaction:k1,WriteBatch:O1,DocumentReference:Ka,DocumentSnapshot:l0,Query:Ys,QueryDocumentSnapshot:c0,QuerySnapshot:iA,CollectionReference:jm,FieldPath:sA,FieldValue:vp,setLogLevel:function NR(n){!function lb(n){ml.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function LR(n){(function FR(n,e){n.INTERNAL.registerComponent(new qs.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),o=t.getProvider("firestore").getImmediate();return e(r,o)},"PUBLIC").setServiceProps(Object.assign({},OR)))})(n,(e,t)=>new N1(e,t,new PR)),n.registerVersion("@firebase/firestore-compat","0.1.18")}(bw.Z);var oA=R(6451),rC=R(5363),VR=R(6063);class UR extends Sr.x{constructor(e=1/0,t=1/0,r=VR.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:u,_windowTime:h}=this;t||(r.push(e),!o&&r.push(u.now()+h)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,u=o.slice();for(let h=0;h<u.length&&!e.closed;h+=r?1:2)e.next(u[h]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,u=(o?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!o){const h=t.now();let g=0;for(let w=1;w<r.length&&r[w]<=h;w+=2)g=w;g&&r.splice(0,g+1)}}}var BR=R(3099);function V1(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=n??1/0,(0,BR.B)({connector:()=>new UR(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function U1(n,e){return(0,Mr.m)(e)?_r(()=>n,e):_r(()=>n)}var aA=R(9468),mh=R(5867);class $m{constructor(e){return e}}class uA{constructor(){return(0,mh.C6)()}}const lA=new c.OlP("angularfire2._apps"),$R={provide:$m,useFactory:function jR(n){return n&&1===n.length?n[0]:new $m((0,mh.Mq)())},deps:[[new c.FiY,lA]]},HR={provide:uA,deps:[[new c.FiY,lA]]};function GR(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $m(r)}}let qR=(()=>{class n{constructor(t){(0,mh.KN)("angularfire",In.q4.full,"core"),(0,mh.KN)("angularfire",In.q4.full,"app"),(0,mh.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$R,HR]}),n})();function zR(n,...e){return{ngModule:qR,providers:[{provide:lA,useFactory:GR(n),multi:!0,deps:[c.R0b,c.zs3,In.HU,...e]}]}}const WR=(0,In.u3)(mh.ZF,!0),B1=new Map,ZR={activated:!1,tokenObservers:[]},KR={initialized:!1,enabled:!1};function zi(n){return B1.get(n)||ZR}function Ru(n,e){B1.set(n,e)}function iC(){return KR}class eP{constructor(e,t,r,o,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=o,o>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,T.Z)(function*(){t.stop();try{t.pending=new sn.BH,yield function tP(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new sn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qs=new sn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function $1(n){if(!zi(n).activated)throw Qs.create("use-before-activation",{appName:n.name})}function hA(n,e){return fA.apply(this,arguments)}function fA(){return fA=(0,T.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const V=yield o.getHeartbeatsHeader();V&&(r["X-Firebase-Client"]=V)}const u={method:"POST",body:JSON.stringify(e),headers:r};let h,g;try{h=yield fetch(n,u)}catch(V){throw Qs.create("fetch-network-error",{originalErrorMessage:V.message})}if(200!==h.status)throw Qs.create("fetch-status-error",{httpStatus:h.status});try{g=yield h.json()}catch(V){throw Qs.create("fetch-parse-error",{originalErrorMessage:V.message})}const w=g.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Qs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const S=1e3*Number(w[1]),O=Date.now();return{token:g.token,expireTimeMillis:O+S,issuedAtTimeMillis:O}}),fA.apply(this,arguments)}function oP(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const d0="firebase-app-check-store";let aC=null;function G1(){return aC||(aC=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Qs.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(d0,{keyPath:"compositeKey"})}}catch(t){e(Qs.create("storage-open",{originalErrorMessage:t.message}))}}),aC)}function pA(){return pA=(0,T.Z)(function*(n,e){const r=(yield G1()).transaction(d0,"readwrite"),u=r.objectStore(d0).put({compositeKey:n,value:e});return new Promise((h,g)=>{u.onsuccess=w=>{h()},r.onerror=w=>{var S;g(Qs.create("storage-set",{originalErrorMessage:null===(S=w.target.error)||void 0===S?void 0:S.message}))}})}),pA.apply(this,arguments)}const h0=new La.Yd("@firebase/app-check");function Z1(n,e){return(0,sn.hl)()?function cP(n,e){return function q1(n,e){return pA.apply(this,arguments)}(function W1(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{h0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function K1(){return iC().enabled}function Y1(){return vA.apply(this,arguments)}function vA(){return vA=(0,T.Z)(function*(){const n=iC();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),vA.apply(this,arguments)}const mP={error:"UNKNOWN_ERROR"};function yP(n){return sn.US.encodeString(JSON.stringify(n),!1)}function uC(n){return _A.apply(this,arguments)}function _A(){return _A=(0,T.Z)(function*(n,e=!1){const t=n.app;$1(t);const r=zi(t);let u,o=r.token;if(!o){const w=yield r.cachedTokenPromise;w&&lC(w)&&(o=w)}if(!e&&o&&lC(o))return{token:o.token};let g,h=!1;if(K1()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hA(oP(t,yield Y1()),n.heartbeatServiceProvider).then(S=>(r.exchangeTokenPromise=void 0,S)),h=!0);const w=yield r.exchangeTokenPromise;return yield Z1(t,w),Ru(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(w=>(r.exchangeTokenPromise=void 0,w)),h=!0),o=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?h0.warn(w.message):h0.error(w),u=w}return o?(g={token:o.token},Ru(t,Object.assign(Object.assign({},r),{token:o})),yield Z1(t,o)):g=_P(u),h&&J1(t,g),g}),_A.apply(this,arguments)}function bA(n,e){const t=zi(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Ru(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function Q1(n){const{app:e}=n,t=zi(e);let r=t.tokenRefresher;r||(r=function vP(n){const{app:e}=n;return new eP((0,T.Z)(function*(){let r;if(r=zi(e).token?yield uC(n,!0):yield uC(n),r.error)throw r.error}),()=>!0,()=>{const t=zi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Ru(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function J1(n,e){const t=zi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function lC(n){return n.expireTimeMillis-Date.now()>0}function _P(n){return{token:yP(mP),error:n}}class wP{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=zi(this.app);for(const t of e)bA(this.app,t.next);return Promise.resolve()}}const ox="app-check-internal";!function kP(){(0,_u._registerComponent)(new qs.wA("app-check",n=>function bP(n,e){return new wP(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ox).initialize()})),(0,_u._registerComponent)(new qs.wA(ox,n=>function EP(n){return{getToken:e=>uC(n,e),addTokenListener:e=>function wA(n,e,t,r){const{app:o}=n,u=zi(o),h={next:t,error:r,type:e};if(Ru(o,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,h]})),u.token&&lC(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),Q1(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Q1(n))}(n,"INTERNAL",e),removeTokenListener:e=>bA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,_u.registerVersion)("@firebase/app-check","0.5.8")}();class f0{constructor(){return(0,In.vb)("app-check")}}typeof window<"u"&&window;var UP=R(127);const ux=new c.OlP("angularfire2.auth.use-emulator"),lx=new c.OlP("angularfire2.auth.settings"),cx=new c.OlP("angularfire2.auth.tenant-id"),dx=new c.OlP("angularfire2.auth.langugage-code"),hx=new c.OlP("angularfire2.auth.use-device-language"),fx=new c.OlP("angularfire.auth.persistence"),px=(n,e,t,r,o,u,h,g)=>(0,ia.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=o,u&&w.useDeviceLanguage(),h)for(const[S,O]of Object.entries(h))w.settings[S]=O;return g&&w.setPersistence(g),w},[t,r,o,u,h,g]);let Hm=(()=>{class n{constructor(t,r,o,u,h,g,w,S,O,V,de,be){const Me=new Sr.x,nt=yt(void 0).pipe((0,rC.Q)(h.outsideAngular),_r(()=>u.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,5881)))),(0,xt.U)(()=>(0,ia.on)(t,u,r)),(0,xt.U)(_t=>px(_t,u,g,S,O,V,w,de)),V1({bufferSize:1,refCount:!1}));if(_a(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=yt(null);else{nt.pipe(Jr()).subscribe();const cn=nt.pipe(_r(nn=>nn.getRedirectResult().then(hn=>hn,()=>null)),In.iC,V1({bufferSize:1,refCount:!1})),dn=nt.pipe(_r(nn=>new qn.y(hn=>({unsubscribe:u.runOutsideAngular(()=>nn.onAuthStateChanged(On=>hn.next(On),On=>hn.error(On),()=>hn.complete()))})))),mn=nt.pipe(_r(nn=>new qn.y(hn=>({unsubscribe:u.runOutsideAngular(()=>nn.onIdTokenChanged(On=>hn.next(On),On=>hn.error(On),()=>hn.complete()))}))));this.authState=cn.pipe(U1(dn),(0,aA.R)(h.outsideAngular),(0,rC.Q)(h.insideAngular)),this.user=cn.pipe(U1(mn),(0,aA.R)(h.outsideAngular),(0,rC.Q)(h.insideAngular)),this.idToken=this.user.pipe(_r(nn=>nn?(0,Yt.D)(nn.getIdToken()):yt(null))),this.idTokenResult=this.user.pipe(_r(nn=>nn?(0,Yt.D)(nn.getIdTokenResult()):yt(null))),this.credential=(0,oA.T)(cn,Me,this.authState.pipe(li(nn=>!nn))).pipe((0,xt.U)(nn=>nn?.user?nn:null),(0,aA.R)(h.outsideAngular),(0,rC.Q)(h.insideAngular))}return(0,ia.pX)(this,nt,u,{spy:{apply:(_t,cn,dn)=>{(_t.startsWith("signIn")||_t.startsWith("createUser"))&&dn.then(mn=>Me.next(mn))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ia.Dh),c.LFG(ia.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(In.HU),c.LFG(ux,8),c.LFG(lx,8),c.LFG(cx,8),c.LFG(dx,8),c.LFG(hx,8),c.LFG(fx,8),c.LFG(f0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function gx(n,e){return function jP(n,e=Xy.z){return new qn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function TA(n,e){return gx(n,e).pipe((0,xt.U)(t=>({payload:t,type:"query"})))}function dC(n,e){return TA(n,e).pipe(Ku(void 0),ev(),(0,xt.U)(([t,r])=>{const o=r.payload.docChanges(),u=o.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,g)=>{const w=o.find(O=>O.doc.ref.isEqual(h.ref)),S=t?.payload.docs.find(O=>O.ref.isEqual(h.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(h.metadata)||!w&&S&&JSON.stringify(S.metadata)===JSON.stringify(h.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),u}))}function mx(n,e,t){return dC(n,t).pipe(du((r,o)=>function HP(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function GP(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return AA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return AA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return AA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,o.map(u=>u.payload),e),[]),function ww(n,e=Ho.y){return n=n??xI,(0,Jn.e)((t,r)=>{let o,u=!0;t.subscribe((0,xr.x)(r,h=>{const g=e(h);(u||!n(o,g))&&(u=!1,o=g,r.next(h))}))})}(),(0,xt.U)(r=>r.map(o=>({type:o.type,payload:o}))))}function AA(n,e,t,...r){const o=n.slice();return o.splice(e,t,...r),o}function yx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class vx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=dC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,xt.U)(r=>r.filter(o=>e.indexOf(o.type)>-1)))),t.pipe(Ku(void 0),ev(),li(([r,o])=>o.length>0||!r),(0,xt.U)(([r,o])=>o),In.iC)}auditTrail(e){return this.stateChanges(e).pipe(du((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=yx(e);return mx(this.query,t,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return TA(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),In.iC)}get(e){return(0,Yt.D)(this.query.get(e)).pipe(In.iC)}add(e){return this.ref.add(e)}doc(e){return new _x(this.ref.doc(e),this.afs)}}class _x{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:o,query:u}=Ex(r,t);return new vx(o,u,this.afs)}snapshotChanges(){return function $P(n,e){return gx(n,e).pipe(Ku(void 0),ev(),(0,xt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,xt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Yt.D)(this.ref.get(e)).pipe(In.iC)}}class qP{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?dC(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),li(t=>t.length>0),In.iC):dC(this.query,this.afs.schedulers.outsideAngular).pipe(In.iC)}auditTrail(e){return this.stateChanges(e).pipe(du((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=yx(e);return mx(this.query,t,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return TA(this.query,this.afs.schedulers.outsideAngular).pipe((0,xt.U)(r=>r.payload.docs.map(o=>e.idField?Object.assign({[e.idField]:o.id},o.data()):o.data())),In.iC)}get(e){return(0,Yt.D)(this.query.get(e)).pipe(In.iC)}}const wx=new c.OlP("angularfire2.enableFirestorePersistence"),bx=new c.OlP("angularfire2.firestore.persistenceSettings"),zP=new c.OlP("angularfire2.firestore.settings"),WP=new c.OlP("angularfire2.firestore.use-emulator");function Ex(n,e=(t=>t)){return{query:e(n),ref:n}}let Cx=(()=>{class n{constructor(t,r,o,u,h,g,w,S,O,V,de,be,Me,nt,_t,cn,dn){this.schedulers=w;const mn=(0,ia.on)(t,g,r),nn=O;V&&px(mn,g,de,Me,nt,_t,be,cn),[this.firestore,this.persistenceEnabled$]=(0,ia.cc)(`${mn.name}.firestore`,"AngularFirestore",mn.name,()=>{const hn=g.runOutsideAngular(()=>mn.firestore());if(u&&hn.settings(u),nn&&hn.useEmulator(...nn),o&&!_a(h)){const On=()=>{try{return(0,Yt.D)(hn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(Is){return typeof console<"u"&&console.warn(Is),yt(!1)}};return[hn,g.runOutsideAngular(On)]}return[hn,yt(!1)]},[u,nn,o])}collection(t,r){let o;o="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:h}=Ex(o,r),g=this.schedulers.ngZone.run(()=>u);return new vx(g,h,this)}collectionGroup(t,r){const o=r||(h=>h),u=this.firestore.collectionGroup(t);return new qP(o(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const o=this.schedulers.ngZone.run(()=>r);return new _x(o,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ia.Dh),c.LFG(ia.xv,8),c.LFG(wx,8),c.LFG(zP,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(In.HU),c.LFG(bx,8),c.LFG(WP,8),c.LFG(Hm,8),c.LFG(ux,8),c.LFG(lx,8),c.LFG(cx,8),c.LFG(dx,8),c.LFG(hx,8),c.LFG(fx,8),c.LFG(f0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZP=(()=>{class n{constructor(){UP.Z.registerVersion("angularfire",In.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:wx,useValue:!0},{provide:bx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Cx]}),n})(),SA=(()=>{class n{constructor(t){this.firestore=t}agregarProducto(t){return this.firestore.collection("productos").add(t)}getProductos(){return this.firestore.collection("productos").snapshotChanges()}getProducto(t){return this.firestore.collection("productos").doc(t).snapshotChanges()}eliminarProducto(t){return this.firestore.collection("productos").doc(t).delete()}actualizarProducto(t,r){return this.firestore.collection("productos").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Cx))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KP(n,e){1&n&&(c.TgZ(0,"div",18)(1,"button",19),c._uU(2,"Log in"),c.qZA(),c.TgZ(3,"button",20),c._uU(4,"Sign up"),c.qZA()())}function YP(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",21),c.NdJ("click",function(){c.CHM(t);const o=c.oxw();return c.KtG(o.logOut())}),c._uU(1,"Cerrar Sesi\xf3n"),c.qZA()}}const QP=function(){return["/home"]};let Nl=(()=>{class n{constructor(t,r){this.afAuth=t,this.router=r,this.userName=""}ngOnInit(){this.afAuth.currentUser.then(t=>{t&&(this.dataUser=t,this.userName=this.dataUser.email)})}logOut(){this.userName="",this.afAuth.signOut().then(()=>this.router.navigate(["/login"]))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Hm),c.Y36(Nr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-navbar"]],decls:28,vars:5,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"navbar-brand"],["src","assets/icons/logo.png","alt",""],["type","button","data-toggle","collapse","data-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],[1,"nav-link",3,"routerLink"],[1,"sr-only"],[1,"nav-item"],["routerLink","/lista",1,"nav-link"],["routerLink","/ayuda",1,"nav-link"],["routerLink","/lector",1,"nav-link"],["routerLink","/envios",1,"nav-link"],["class","form-inline my-2 my-lg-0",4,"ngIf"],[1,"mr-4","mt-2","text-white"],["type","button","class","btn btn-outline-light",3,"click",4,"ngIf"],[1,"form-inline","my-2","my-lg-0"],["type","button","routerLink","/login",1,"btn","btn-link"],["type","button","routerLink","/registrar",1,"btn","btn-link"],["type","button",1,"btn","btn-outline-light",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0)(1,"a",1),c._UZ(2,"img",2),c.qZA(),c.TgZ(3,"button",3),c._UZ(4,"span",4),c.qZA(),c.TgZ(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),c._uU(9,"Home "),c.TgZ(10,"span",9),c._uU(11,"(current)"),c.qZA()()(),c.TgZ(12,"li",10)(13,"a",11),c._uU(14,"Lista"),c.qZA()(),c.TgZ(15,"li",10)(16,"a",12),c._uU(17,"Ayuda"),c.qZA()(),c.TgZ(18,"li",10)(19,"a",13),c._uU(20,"Sobre nosotros"),c.qZA()(),c.TgZ(21,"li",10)(22,"a",14),c._uU(23,"Envios"),c.qZA()()(),c.YNc(24,KP,5,0,"div",15),c.qZA(),c.TgZ(25,"h6",16),c._uU(26),c.qZA(),c.YNc(27,YP,2,0,"button",17),c.qZA()),2&t&&(c.xp6(8),c.Q6J("routerLink",c.DdM(4,QP)),c.xp6(16),c.Q6J("ngIf",""==r.userName),c.xp6(2),c.Oqu(r.userName),c.xp6(1),c.Q6J("ngIf",""!=r.userName))},dependencies:[is,uc,lc],styles:["@media screen and (min-width: 360px){div[_ngcontent-%COMP%]{text-align:center;justify-content:center;align-items:center}}img[_ngcontent-%COMP%]{max-width:30px;max-height:30px}"]}),n})();function JP(n,e){1&n&&(c.TgZ(0,"div",15)(1,"span"),c._uU(2,"Los campos son obligatorios"),c.qZA()())}let XP=(()=>{class n{constructor(t,r,o){this.fb=t,this.bddService=r,this.router=o,this.createProducto=this.fb.group({nombre:["",$i.required],categoria:["",$i.required],precio:["",$i.required],descripcion:["",$i.required],img:["undefined",$i.required]}),this.submitted=!1}ngOnInit(){}agregarProducto(){if(this.submitted=!0,this.createProducto.invalid)return;let t={nombre:this.createProducto.value.nombre,categoria:this.createProducto.value.categoria,precio:this.createProducto.value.precio,descripcion:this.createProducto.value.descripcion,img:this.createProducto.value.img};this.bddService.agregarProducto(t).then(()=>{wc().fire("producto agregado exitosamente"),this.router.navigate(["/lista"])}).catch(r=>{console.log(r)}),console.log(t),this.submitted=!1}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jy),c.Y36(SA),c.Y36(Nr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-altas"]],decls:33,vars:2,consts:[[1,"container","center","pt-4"],[1,"card",2,"width","60%"],[1,"card-body"],[1,"card-title","mt-2"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col","mt-3"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control"],["type","text","placeholder","Categor\xeda","formControlName","categoria",1,"form-control"],["type","text","placeholder","Precio","formControlName","precio",1,"form-control"],["placeholder","Descripci\xf3n","rows","3","formControlName","descripcion",1,"form-control"],["type","text","placeholder","Img","formControlName","img",1,"form-control"],["class","mt-4 text-center",4,"ngIf"],[1,"col"],["type","submit",1,"btn","btn-dark","mt-4","mb-3","mr-4"],["type","submit","routerLink","/lista",1,"btn","btn-secondary","mt-4","mb-3"],[1,"mt-4","text-center"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),c._uU(5,"Agregar producto"),c.qZA(),c.TgZ(6,"form",4),c.NdJ("ngSubmit",function(){return r.agregarProducto()}),c.TgZ(7,"div",5)(8,"label"),c._uU(9,"Nombre"),c.qZA(),c._UZ(10,"input",6),c.qZA(),c.TgZ(11,"div",5)(12,"label"),c._uU(13,"Categor\xeda"),c.qZA(),c._UZ(14,"input",7),c.qZA(),c.TgZ(15,"div",5)(16,"label"),c._uU(17,"Precio"),c.qZA(),c._UZ(18,"input",8),c.qZA(),c.TgZ(19,"div",5)(20,"label"),c._uU(21,"Descripci\xf3n"),c.qZA(),c._UZ(22,"textarea",9),c.qZA(),c.TgZ(23,"div",5)(24,"label"),c._uU(25,"Img"),c.qZA(),c._UZ(26,"input",10),c.qZA(),c.YNc(27,JP,3,0,"div",11),c.TgZ(28,"div",12)(29,"button",13),c._uU(30,"Agregar"),c.qZA(),c.TgZ(31,"button",14),c._uU(32,"Cancelar"),c.qZA()()()()()()),2&t&&(c.xp6(6),c.Q6J("formGroup",r.createProducto),c.xp6(21),c.Q6J("ngIf",r.submitted&&r.createProducto.invalid))},dependencies:[is,uc,Jh,dc,hc,Fa,gc,mc,Nl],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:85%}span[_ngcontent-%COMP%]{color:red}"]}),n})();function eN(n,e){1&n&&(c.TgZ(0,"div",15)(1,"span"),c._uU(2,"Los campos son obligatorios"),c.qZA()())}let tN=(()=>{class n{constructor(t,r,o,u){this.fb=t,this.bddService=r,this.aRoute=o,this.router=u,this.editProducto=this.fb.group({nombre:["",$i.required],categoria:["",$i.required],precio:["",$i.required],descripcion:["",$i.required],img:["",$i.required]}),this.id=this.aRoute.snapshot.paramMap.get("id"),this.submitted=!1,this.limpiar()}ngOnInit(){}editar(){this.submitted=!0,this.editProducto.invalid||null!==this.id&&this.bddService.actualizarProducto(this.id,{nombre:this.editProducto.value.nombre,categoria:this.editProducto.value.categoria,precio:this.editProducto.value.precio,descripcion:this.editProducto.value.descripcion,img:this.editProducto.value.img}).then(()=>{wc().fire("producto editado exitosamente"),this.router.navigate(["/lista"])})}limpiar(){null!==this.id&&this.bddService.getProducto(this.id).subscribe(t=>{this.editProducto.setValue({nombre:t.payload.data().nombre,categoria:t.payload.data().categoria,precio:t.payload.data().precio,descripcion:t.payload.data().descripcion,img:t.payload.data().img})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jy),c.Y36(SA),c.Y36(Pa),c.Y36(Nr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-editar"]],decls:33,vars:2,consts:[[1,"container","center","pt-4"],[1,"card",2,"width","60%"],[1,"card-body"],[1,"card-title","mt-2"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col","mt-3"],["type","text","placeholder","Nombre","formControlName","nombre",1,"form-control"],["type","text","placeholder","Categor\xeda","formControlName","categoria",1,"form-control"],["type","text","placeholder","Precio","formControlName","precio",1,"form-control"],["placeholder","Descripci\xf3n","rows","3","formControlName","descripcion",1,"form-control"],["type","text","placeholder","Img","formControlName","img",1,"form-control"],["class","mt-4 text-center",4,"ngIf"],[1,"col"],["type","submit",1,"btn","btn-dark","mt-4","mb-3","mr-4"],["type","submit","routerLink","/lista",1,"btn","btn-secondary","mt-4","mb-3"],[1,"mt-4","text-center"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c.TgZ(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),c._uU(5,"Editar producto"),c.qZA(),c.TgZ(6,"form",4),c.NdJ("ngSubmit",function(){return r.editar()}),c.TgZ(7,"div",5)(8,"label"),c._uU(9,"Nombre"),c.qZA(),c._UZ(10,"input",6),c.qZA(),c.TgZ(11,"div",5)(12,"label"),c._uU(13,"Categor\xeda"),c.qZA(),c._UZ(14,"input",7),c.qZA(),c.TgZ(15,"div",5)(16,"label"),c._uU(17,"Precio"),c.qZA(),c._UZ(18,"input",8),c.qZA(),c.TgZ(19,"div",5)(20,"label"),c._uU(21,"Descripci\xf3n"),c.qZA(),c._UZ(22,"textarea",9),c.qZA(),c.TgZ(23,"div",5)(24,"label"),c._uU(25,"Img"),c.qZA(),c._UZ(26,"input",10),c.qZA(),c.YNc(27,eN,3,0,"div",11),c.TgZ(28,"div",12)(29,"button",13),c._uU(30,"Aceptar"),c.qZA(),c.TgZ(31,"button",14),c._uU(32,"Cancelar"),c.qZA()()()()()()),2&t&&(c.xp6(6),c.Q6J("formGroup",r.editProducto),c.xp6(21),c.Q6J("ngIf",r.submitted&&r.editProducto.invalid))},dependencies:[is,uc,Jh,dc,hc,Fa,gc,mc,Nl],styles:[".center[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:80%}span[_ngcontent-%COMP%]{color:red}"]}),n})();const Ix=["admin@gmail.com"];let nN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-loading"]],decls:3,vars:0,consts:[["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"span",1),c._uU(2,"Loading..."),c.qZA()())}}),n})();function rN(n,e){1&n&&(c.TgZ(0,"div",3),c._UZ(1,"app-loading"),c.qZA())}function iN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",4)(1,"div",5)(2,"button",6),c.NdJ("click",function(){c.CHM(t);const o=c.oxw();return c.KtG(o.consulta(""))}),c._uU(3,"Todo"),c.qZA(),c.TgZ(4,"button",6),c.NdJ("click",function(){c.CHM(t);const o=c.oxw();return c.KtG(o.consulta("cables"))}),c._uU(5,"Cables"),c.qZA(),c.TgZ(6,"button",6),c.NdJ("click",function(){c.CHM(t);const o=c.oxw();return c.KtG(o.consulta("audio"))}),c._uU(7,"Audio"),c.qZA(),c.TgZ(8,"button",6),c.NdJ("click",function(){c.CHM(t);const o=c.oxw();return c.KtG(o.consulta("seguridad"))}),c._uU(9,"Seguridad"),c.qZA(),c.TgZ(10,"button",6),c.NdJ("click",function(){c.CHM(t);const o=c.oxw();return c.KtG(o.consulta("iluminacion"))}),c._uU(11,"Iluminaci\xf3n"),c.qZA()()()}}function sN(n,e){1&n&&(c.TgZ(0,"button",12),c._uU(1,"Agregar"),c.qZA())}const oN=function(n){return["/editar/",n]};function aN(n,e){if(1&n&&(c.TgZ(0,"strong",18),c._uU(1," Editar "),c.qZA()),2&n){const t=c.oxw(2).$implicit;c.Q6J("routerLink",c.VKq(1,oN,t.id))}}function uN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"strong",19),c.NdJ("click",function(){c.CHM(t);const o=c.oxw(2).$implicit,u=c.oxw(2);return c.KtG(u.eliminarProducto(o.id))}),c._uU(1," Eliminar "),c.qZA()}}function lN(n,e){if(1&n&&(c.TgZ(0,"tr")(1,"td"),c._UZ(2,"img",14),c.qZA(),c.TgZ(3,"td"),c._uU(4),c.qZA(),c.TgZ(5,"td"),c._uU(6),c.qZA(),c.TgZ(7,"td"),c._uU(8),c.qZA(),c.TgZ(9,"td"),c._uU(10),c.qZA(),c.TgZ(11,"td",15),c.YNc(12,aN,2,3,"strong",16),c.qZA(),c.TgZ(13,"td",15),c.YNc(14,uN,2,0,"strong",17),c.qZA()()),2&n){const t=c.oxw().$implicit,r=c.oxw(2);c.xp6(2),c.s9C("src",r.src+t.img+r.src2,c.LSH),c.xp6(2),c.Oqu(t.nombre),c.xp6(2),c.Oqu(t.categoria),c.xp6(2),c.hij("$",t.precio,""),c.xp6(2),c.Oqu(t.descripcion),c.xp6(2),c.Q6J("ngIf",r.admin),c.xp6(2),c.Q6J("ngIf",r.admin)}}function cN(n,e){if(1&n&&(c.TgZ(0,"tbody"),c.YNc(1,lN,15,7,"tr",13),c.qZA()),2&n){const t=e.$implicit,r=c.oxw(2);c.xp6(1),c.Q6J("ngIf",t.categoria==r.condicion||""==r.condicion)}}function dN(n,e){if(1&n&&(c.TgZ(0,"div",7)(1,"table",8)(2,"tr",9),c._UZ(3,"th"),c.TgZ(4,"th"),c._uU(5,"Nombre"),c.qZA(),c.TgZ(6,"th"),c._uU(7,"Categor\xeda"),c.qZA(),c.TgZ(8,"th"),c._uU(9,"Precio"),c.qZA(),c.TgZ(10,"th"),c._uU(11,"Descripci\xf3n"),c.qZA(),c.TgZ(12,"th"),c.YNc(13,sN,2,0,"button",10),c.qZA()(),c.YNc(14,cN,2,1,"tbody",11),c.qZA()()),2&n){const t=c.oxw();c.xp6(13),c.Q6J("ngIf",t.admin),c.xp6(1),c.Q6J("ngForOf",t.productos)}}let hN=(()=>{class n{constructor(t,r,o){this.afAuth=t,this.bddService=r,this.router=o,this.productos=[],this.condicion="",this.src="../../../assets/img/productos/",this.src2=".jpg",this.admins=[],this.loading=!0,this.admin=!1,this.userName="",this.admins=Ix}ngOnInit(){this.afAuth.currentUser.then(t=>{t?(this.getProductos(),this.dataUser=t,this.userName=this.dataUser.email,this.checkAdmin(),console.log(this.admins)):this.router.navigate(["/login"])})}getProductos(){this.bddService.getProductos().subscribe(t=>{this.productos=[],t.forEach(r=>{this.productos.push({id:r.payload.doc.id,...r.payload.doc.data()})}),console.log(this.productos),this.loading=!1})}eliminarProducto(t){this.bddService.eliminarProducto(t).then(()=>{wc().fire("producto eliminado")}).catch(r=>{console.log(r)})}consulta(t){this.condicion=t}checkAdmin(){Ix.forEach(t=>{t==this.userName&&(this.admin=!0)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Hm),c.Y36(SA),c.Y36(Nr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-lista"]],decls:4,vars:3,consts:[["class","center","style","height: 85%;",4,"ngIf"],["class","center mt-4",4,"ngIf"],["class","container mt-4",4,"ngIf"],[1,"center",2,"height","85%"],[1,"center","mt-4"],["role","group","aria-label","Basic example",1,"btn-group"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"container","mt-4"],[1,"table","tb"],[1,"table-info"],["type","button","class","btn btn-sm btn-info","routerLink","/alta",4,"ngIf"],[4,"ngFor","ngForOf"],["type","button","routerLink","/alta",1,"btn","btn-sm","btn-info"],[4,"ngIf"],["alt","",2,"max-width","150px",3,"src"],[1,"center"],["role","button",3,"routerLink",4,"ngIf"],["role","button",3,"click",4,"ngIf"],["role","button",3,"routerLink"],["role","button",3,"click"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c.YNc(1,rN,2,0,"div",0),c.YNc(2,iN,12,0,"div",1),c.YNc(3,dN,15,2,"div",2)),2&t&&(c.xp6(1),c.Q6J("ngIf",r.loading),c.xp6(1),c.Q6J("ngIf",!r.loading),c.xp6(1),c.Q6J("ngIf",!r.loading))},dependencies:[Ss,is,uc,Nl,nN],styles:[".tb[_ngcontent-%COMP%]{background-color:#fff}.center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}"]}),n})(),fN=(()=>{class n{constructor(t,r,o){this.fb=t,this.afAuth=r,this.router=o,this.loginUsuario=this.fb.group({correo:["",$i.required],contrasenia:["",$i.required]})}ngOnInit(){}login(){this.afAuth.signInWithEmailAndPassword(this.loginUsuario.value.correo,this.loginUsuario.value.contrasenia).then(o=>{console.log(o),this.router.navigate(["/home"])}).catch(o=>{console.log(o),wc().fire(this.firebaseError(o.code))})}firebaseError(t){return"auth/user-not-found"===t?"El usuario no ha sido encontrado":"Correo o contrase\xf1a incorrectos"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jy),c.Y36(Hm),c.Y36(Nr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:21,vars:1,consts:[[1,"wrapper"],[1,"cont"],[1,"mt-3",3,"formGroup","ngSubmit"],[1,"mt-2"],["type","text","formControlName","correo",1,"form-control"],["type","password","formControlName","contrasenia",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-md","btn-block","mt-4"],[1,"text-center"],[1,"mt-3"],["routerLink","/registrar"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c.TgZ(1,"div",0)(2,"div",1)(3,"h1"),c._uU(4,"Iniciar Sesi\xf3n"),c.qZA(),c.TgZ(5,"form",2),c.NdJ("ngSubmit",function(){return r.login()}),c.TgZ(6,"div",3)(7,"label"),c._uU(8,"Correo Electr\xf3nico"),c.qZA(),c._UZ(9,"input",4),c.qZA(),c.TgZ(10,"div",3)(11,"label"),c._uU(12,"Contrase\xf1a"),c.qZA(),c._UZ(13,"input",5),c.qZA(),c.TgZ(14,"button",6),c._uU(15,"Iniciar Sesi\xf3n"),c.qZA(),c.TgZ(16,"div",7)(17,"p",8),c._uU(18,"\xbfNo tienes cuenta? "),c.TgZ(19,"a",9),c._uU(20,"Reg\xedstrate"),c.qZA()()()()()()),2&t&&(c.xp6(5),c.Q6J("formGroup",r.loginUsuario))},dependencies:[lc,Jh,dc,hc,Fa,gc,mc,Nl],styles:[".wrapper[_ngcontent-%COMP%]{height:85%;width:100%;display:flex;justify-content:center;align-items:center}.cont[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}form[_ngcontent-%COMP%]{width:18%}"]}),n})(),pN=(()=>{class n{constructor(t,r,o){this.fb=t,this.afAuth=r,this.router=o,this.contra1="",this.contra2="",this.registrarUsuario=t.group({correo:["",$i.required],numero:["",$i.required],contrasenia:["",$i.required],rContrasenia:["",$i.required]})}ngOnInit(){}registrar(){const t=this.registrarUsuario.value.correo,o=this.registrarUsuario.value.contrasenia,u=this.registrarUsuario.value.rContrasenia;this.contra1=this.registrarUsuario.value.contrasenia,this.contra2=this.registrarUsuario.value.rContrasenia,console.log(this.contra1),o==u?this.afAuth.createUserWithEmailAndPassword(t,o).then(h=>{console.log(h),wc().fire("usuario registrado"),this.router.navigate(["/home"])}).catch(h=>{console.log(h),wc().fire(this.firebaseError(h.code))}):wc().fire(this.firebaseError("no-match-password"))}firebaseError(t){switch(t){case"auth/email-already-in-use":return"El usuario ya existe";case"auth/weak-password":return"La contrase\xf1a es muy d\xe9bil";case"auth/invalid-email":return"El correo es inv\xe1lido";case"no-match-password":return"Las contrase\xf1as no coinciden";default:return"Error desconocido"}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jy),c.Y36(Hm),c.Y36(Nr))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-registrar"]],decls:29,vars:1,consts:[[1,"wrapper"],[1,"cont"],[1,"mt-2",3,"formGroup","ngSubmit"],[1,"mt-2"],["type","text","formControlName","correo",1,"form-control"],["type","text","formControlName","numero",1,"form-control"],["type","password","formControlName","contrasenia",1,"form-control"],["type","password","formControlName","rContrasenia",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-md","btn-block","mt-4"],[1,"text-center"],[1,"mt-3"],["routerLink","/login"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c.TgZ(1,"div",0)(2,"div",1)(3,"h1"),c._uU(4,"Crear una cuenta"),c.qZA(),c.TgZ(5,"form",2),c.NdJ("ngSubmit",function(){return r.registrar()}),c.TgZ(6,"div",3)(7,"label"),c._uU(8,"Correo Electr\xf3nico"),c.qZA(),c._UZ(9,"input",4),c.qZA(),c.TgZ(10,"div",3)(11,"label"),c._uU(12,"N\xfamero de celular"),c.qZA(),c._UZ(13,"input",5),c.qZA(),c.TgZ(14,"div",3)(15,"label"),c._uU(16,"Contrase\xf1a"),c.qZA(),c._UZ(17,"input",6),c.qZA(),c.TgZ(18,"div",3)(19,"label"),c._uU(20,"Repetir contrase\xf1a"),c.qZA(),c._UZ(21,"input",7),c.qZA(),c.TgZ(22,"button",8),c._uU(23,"Crear cuenta"),c.qZA(),c.TgZ(24,"div",9)(25,"p",10),c._uU(26,"\xbfYa tienes cuenta? "),c.TgZ(27,"a",11),c._uU(28,"Inicia Sesi\xf3n"),c.qZA()()()()()()),2&t&&(c.xp6(5),c.Q6J("formGroup",r.registrarUsuario))},dependencies:[lc,Jh,dc,hc,Fa,gc,mc,Nl],styles:[".wrapper[_ngcontent-%COMP%]{height:85%;display:flex;justify-content:center;align-items:center;width:100%}.cont[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%}form[_ngcontent-%COMP%]{width:30%}"]}),n})(),gN=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:84,vars:0,consts:[[1,"text","center"],[1,"jumbotron","p-3","p-md-5","text-white","rounded","bg-dark"],[1,"col-md-6","px-0"],[1,"display-4","font-italic",2,"color","aquamarine"],[1,"lead","my-3"],[1,"row","mb-2"],[1,"col-md-6"],[1,"card","flex-md-row","mb-4","box-shadow","h-md-250"],[1,"card-body","d-flex","flex-column","align-items-start"],[1,"d-inline-block","mb-2","text-primary"],[1,"mb-0"],["routerLink","/lista",1,"text-dark"],[1,"mb-1","text-muted"],[1,"card-text","mb-auto"],["src","../../assets/img/productos/hdmi.jpg","alt","Card image cap",1,"card-img-right","flex-auto","d-none","d-md-block"],[1,"d-inline-block","mb-2","text-success"],["src","../../assets/img/productos/timbre.jpg","alt","Card image cap",1,"card-img-right","flex-auto","d-none","d-md-block"],["src","../../assets/img/Ejemplos/baseTv.jpg","alt","Card image cap",1,"card-img-right","flex-auto","d-none","d-md-block"],["src","../../assets/img/Ejemplos/foco.jpg","alt","Card image cap",1,"card-img-right","flex-auto","d-none","d-md-block"],["src","../../assets/img/Ejemplos/bocina.jpg","alt","Card image cap",1,"card-img-right","flex-auto","d-none","d-md-block"],["src","../../assets/img/Ejemplos/alexa.jpg","alt","Card image cap",1,"card-img-right","flex-auto","d-none","d-md-block"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c.TgZ(1,"div",0)(2,"h4"),c._uU(3,"Se requiere una cuenta para hacer pedidos"),c.qZA(),c.TgZ(4,"h5"),c._uU(5," Checa nuestras promocines"),c.qZA()(),c.TgZ(6,"div",1)(7,"div",2)(8,"h1",3),c._uU(9,"ElectricPanas"),c.qZA(),c.TgZ(10,"p",4),c._uU(11,"Tu tienda de componentes de confianza"),c.qZA()()(),c.TgZ(12,"div",5)(13,"div",6)(14,"div",7)(15,"div",8),c._UZ(16,"strong",9),c.TgZ(17,"h3",10)(18,"a",11),c._uU(19,"Cables"),c.qZA()(),c.TgZ(20,"div",12),c._uU(21,"Checa nuestros"),c.qZA(),c.TgZ(22,"p",13),c._uU(23,"Cables hdm1 de hasta 5mts"),c.qZA()(),c._UZ(24,"img",14),c.qZA()(),c.TgZ(25,"div",6)(26,"div",7)(27,"div",8),c._UZ(28,"strong",15),c.TgZ(29,"h3",10)(30,"a",11),c._uU(31,"Timbre"),c.qZA()(),c.TgZ(32,"div",12),c._uU(33,"Nuevo Producto"),c.qZA(),c.TgZ(34,"p",13),c._uU(35,"Timbre inalambrico para exteriores."),c.qZA()(),c._UZ(36,"img",16),c.qZA()(),c.TgZ(37,"div",6)(38,"div",7)(39,"div",8),c._UZ(40,"strong",9),c.TgZ(41,"h3",10)(42,"a",11),c._uU(43,"Bases para TV"),c.qZA()(),c.TgZ(44,"div",12),c._uU(45,"Contamos con varios modelos"),c.qZA(),c.TgZ(46,"p",13),c._uU(47,"Para todo tipo de TVs y pantallas"),c.qZA()(),c._UZ(48,"img",17),c.qZA()(),c.TgZ(49,"div",6)(50,"div",7)(51,"div",8),c._UZ(52,"strong",9),c.TgZ(53,"h3",10)(54,"a",11),c._uU(55,"Focos"),c.qZA()(),c.TgZ(56,"div",12),c._uU(57,"Nuevos focos rgb"),c.qZA(),c.TgZ(58,"p",13),c._uU(59,"Nuevos productos en focos"),c.qZA()(),c._UZ(60,"img",18),c.qZA()(),c.TgZ(61,"div",6)(62,"div",7)(63,"div",8),c._UZ(64,"strong",9),c.TgZ(65,"h3",10)(66,"a",11),c._uU(67,"Bocinas"),c.qZA()(),c._UZ(68,"div",12),c.TgZ(69,"p",13),c._uU(70,"Contamos con bocinas de alta calidad"),c.qZA()(),c._UZ(71,"img",19),c.qZA()(),c.TgZ(72,"div",6)(73,"div",7)(74,"div",8),c._UZ(75,"strong",9),c.TgZ(76,"h3",10)(77,"a",11),c._uU(78,"Alexas"),c.qZA()(),c.TgZ(79,"div",12),c._uU(80,"Has tu casa inteligente"),c.qZA(),c.TgZ(81,"p",13),c._uU(82,"Checa nuestras ofetas en productos de amazon"),c.qZA()(),c._UZ(83,"img",20),c.qZA()()())},dependencies:[lc,Nl],styles:[".tb[_ngcontent-%COMP%]{background-color:#fff}.center[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}img[_ngcontent-%COMP%]{max-width:150px}.card[_ngcontent-%COMP%]{background-color:#7fffd4}"]}),n})(),mN=(()=>{class n{constructor(){this.text="",this.speech=new SpeechSynthesisUtterance}ngOnInit(){}hablar(t){this.text=t.innerHTML,console.log(this.text),this.speech.text=this.text,this.speech.volume=1,this.speech.rate=1,this.speech.pitch=1,speechSynthesis.speak(this.speech)}pause(){speechSynthesis.pause(),console.log("f")}resumen(){speechSynthesis.resume(),console.log("f1")}cancelar(){speechSynthesis.cancel(),console.log("f3")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-lector"]],decls:39,vars:0,consts:[[1,"contenido"],[1,"articulos"],[1,"secciones"],["texto",""],[1,"menu-secundario"],[1,"container"],[1,"row"],[1,"col-3"],["type","button",1,"btn","btn-primary","btn-lg","active",3,"click"]],template:function(t,r){if(1&t){const o=c.EpF();c._UZ(0,"app-navbar"),c.TgZ(1,"body")(2,"div",0)(3,"div",1)(4,"div",2,3)(6,"div")(7,"h2"),c._uU(8,"SOBRE NOSOTROS"),c.qZA(),c._UZ(9,"br"),c.TgZ(10,"p"),c._uU(11," Somos una empresa orgullosamente mexicana, forjada con el trabajo de un visionario emprendedor que puso los cimientos y prepar\xf3 a su familia con los principios de trabajo, compromiso responsabilidad y visi\xf3n, valores que hoy nos distinguen. Nuestro crecimiento desde 1956 hasta hoy ha sido con pasos firmes, con nuestros dos conceptos de tiendas, Steren y Steren Shop, hoy tenemos m\xe1s de 400 tiendas en toda la Rep\xfablica Mexicana donde ofrecemos asesor\xeda personalizada para cada cliente, un cat\xe1logo con m\xe1s de 4,000 productos, nuestro Programa de Lealtad Steren Card, la Extensi\xf3n de Garant\xeda, y nuestra revista Solutions con promociones y sugerencias del mes. Tenemos presencia en m\xe1s de 1,500 puntos de venta en autoservicios y 9 Centros de Distribuci\xf3n en la Ciudad de M\xe9xico, Monterrey, Guadalajara, Tijuana, Centro y Suram\xe9rica, adem\xe1s, oficinas de control de calidad para todos los productos en nuestro pa\xeds y en Shangai, China. La experiencia ElectricPanas traspas\xf3 las fronteras con nuestra expansi\xf3n a Guatemala, Costa Rica, Colombia, El Salvador, Panam\xe1 y Ecuador. Estos pa\xedses hermanos nos han abierto sus puertas y el concepto de Soluciones en electr\xf3nica ya est\xe1 presente con m\xe1s de 15 tiendas al d\xeda de hoy. Otro canal de venta que ofrecemos para comodidad de las personas que no tienen tiempo de visitarnos f\xedsicamente, o que ya son consumidores por internet, es nuestra Tienda en L\xednea www.steren.com.mx, donde tenemos una amplia gama de productos como accesorios para computadoras, Antenas HD, Cables HDMI, Repetidores Wi-Fi, C\xe1maras de seguridad, Cables VGA, Aud\xedfonos, Micr\xf3fonos, Pilas, Bafles, bocinas, Conectores, Amplificadores, Mult\xedmetros, Arduino, Drones, Kits para armar y asesor\xeda a trav\xe9s de un chat en tiempo real. Nuestro objetivo es tener clientes contentos y satisfechos, para ello buscamos certificar nuestros procesos y hoy en d\xeda somos ISO 9001:2015, tambi\xe9n tenemos un 01 800 en el cual atendemos m\xe1s de 10,000 llamadas cada mes, de las cuales el 90% son de soporte para clientes Steren Card, para conocer o instalar los productos que compraron, preguntar ubicaci\xf3n de tiendas, soporte a ventas y el resto son dudas, comentarios y sugerencias; siempre encontrar\xe1n una voz amable, paciente que los gu\xeda y asesora por tel\xe9fono, Twitter, Facebook, y las principales redes sociales. As\xed es Steren. "),c.qZA()()(),c.TgZ(12,"div",2,3)(14,"div")(15,"h2"),c._uU(16,"FILOSOF\xcdA ELECTRIC PANAS"),c.qZA(),c._UZ(17,"br"),c.TgZ(18,"p"),c._uU(19," MISI\xd3N y VISI\xd3N: Mejorar la vida de las personas con soluciones en tecnolog\xeda. Ser una empresa en constante crecimiento, rentable y vanguardista con excelencia operativa y vocaci\xf3n de servicio. Consolidarnos como marca global y omnicanal generando valor agregado a nuestros colaboradores, la mejor experiencia de compra a nuestros clientes y acciones que impacten positivamente en el entorno VALORES: Inclusi\xf3n, Integridad, Reinvenci\xf3n, Servicio al cliente "),c.qZA()()()(),c._UZ(20,"div",4),c.qZA(),c.TgZ(21,"footer")(22,"p"),c._uU(23," Pol\xedtica de calidad Estamos comprometidos con la comercializaci\xf3n de un amplio surtido de productos electr\xf3nicos que satisfagan los requerimientos y expectativas de nuestros clientes y partes interesadasa trav\xe9s de un correcto proceso log\xedstico, cultura de innovaci\xf3n, trabajo en equipo, desarrollo del personal y excelencia en nuestros servicios, dentro de un ambiente laboral sano, comprometidos con el medio ambiente y la sociedad, logrando as\xed el crecimiento de nuestra organizaci\xf3n y la mejora continua de los procesos. "),c.qZA()(),c._UZ(24,"br"),c.TgZ(25,"div",5)(26,"div",6)(27,"div",7)(28,"button",8),c.NdJ("click",function(){c.CHM(o);const h=c.MAs(5);return c.KtG(r.hablar(h))}),c._uU(29,"Leer"),c.qZA()(),c.TgZ(30,"div",7)(31,"button",8),c.NdJ("click",function(){return r.resumen()}),c._uU(32,"Reanudar"),c.qZA()(),c.TgZ(33,"div",7)(34,"button",8),c.NdJ("click",function(){return r.pause()}),c._uU(35,"Pause "),c.qZA()(),c.TgZ(36,"div",7)(37,"button",8),c.NdJ("click",function(){return r.cancelar()}),c._uU(38,"Cancelar "),c.qZA()()()()()}},dependencies:[Nl],styles:["body[_ngcontent-%COMP%]{color:#d3c5c5;display:flex;flex-direction:column;align-items:center}.contenido[_ngcontent-%COMP%]{margin-top:2em;width:84%;background-color:#363333;border-radius:15px;font-size:large;color:#f7f3f3}.secciones[_ngcontent-%COMP%]{display:flex;align-items:center;padding:35px;font-weight:700}footer[_ngcontent-%COMP%]{margin-top:20px;width:84%;background-color:#363333;border-radius:15px;font-size:large;color:#7fffd4}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;padding:50px;font-family:Courier New,Courier,monospace;color:#f7f3f3;font-weight:700}"]}),n})(),yN=(()=>{class n{constructor(){}ngOnInit(){}boton(){var t=~~(Math.random()*Dx.length);this.myAngularxQrCode=Dx[t].url}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-generador-codigos"]],decls:7,vars:3,consts:[[3,"qrdata","width","errorCorrectionLevel"],["id","Aqui va el nombre"],["type","button",1,"btn","btn1",3,"click"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c.TgZ(1,"body")(2,"div"),c._UZ(3,"qrcode",0),c.qZA(),c.TgZ(4,"div",1)(5,"button",2),c.NdJ("click",function(){return r.boton()}),c._uU(6,"Presione para generar Qr"),c.qZA()()()),2&t&&(c.xp6(3),c.Q6J("qrdata",r.myAngularxQrCode)("width",600)("errorCorrectionLevel","M"))},dependencies:[ht,Nl],styles:["body[_ngcontent-%COMP%]{background:rgb(117,168,226)}div[_ngcontent-%COMP%]{align-items:center;display:flex;justify-content:center;padding-top:1px}.btn[_ngcontent-%COMP%]{margin-top:30px;border:3px solid rgba(100,100,100,.1);margin-bottom:20px;padding:20px;width:600px;font-family:Popins,sans-serif;font-size:16px;border-radius:8px;cursor:pointer;color:#fff;background-size:400%}.btn[_ngcontent-%COMP%]{background-image:linear-gradient(to left,#456ac7,#6462db,#714cd6)}"]}),n})();const Dx=[{nombre:"esiima",url:"https://esiima.uaa.mx/"},{nombre:"youtube",url:"https://youtube.com/"},{nombre:"google",url:"https://www.google.com.mx/"},{nombre:"facebook",url:"https://www.facebook.com/"},{nombre:"instagram",url:"https://www.instagram.com/"},{nombre:"Stackblitz",url:"https://stackblitz.com/"},{nombre:"GitHub",url:"https://github.com/"}],vN=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:fN},{path:"registrar",component:pN},{path:"alta",component:XP},{path:"lista",component:hN},{path:"editar/:id",component:tN},{path:"home",component:gN},{path:"lector",component:mN},{path:"generador",component:yN},{path:"ayuda",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-ayuda"]],decls:57,vars:0,consts:[[1,"container"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c.TgZ(1,"div",0)(2,"h3"),c._uU(3,"Necesitas ayuda "),c.qZA(),c._UZ(4,"br"),c.TgZ(5,"p"),c._uU(6,"preguntas frecuentes"),c.qZA(),c.TgZ(7,"p")(8,"span")(9,"strong"),c._uU(10,"1) \xbfDonde puedo recojer mi compra ?"),c.qZA()()(),c.TgZ(11,"p")(12,"strong"),c._uU(13,"Respuesta :"),c.qZA(),c._uU(14,"Puedes recojerlo en cualquiera de nuestras tiendas o ser enviados a tu casa"),c.qZA(),c.TgZ(15,"p")(16,"span")(17,"strong"),c._uU(18," 2)\xbfDonde puedo puedo pedir un renbolso?"),c.qZA()()(),c.TgZ(19,"p")(20,"strong"),c._uU(21,"Respuesta :"),c.qZA(),c._uU(22," Puedes contactar con nosotros en alguna de nuestras redes"),c.qZA(),c.TgZ(23,"p")(24,"span")(25,"strong"),c._uU(26,"3) \xbfQue metodos de pago aceptan ?"),c.qZA()()(),c.TgZ(27,"p")(28,"strong"),c._uU(29,"Respuesta :"),c.qZA(),c.TgZ(30,"strong"),c._uU(31,"Para tu comodidad contamos con m\xfaltiples m\xe9todos para pagar tu compra, los cuales son: Dep\xf3sito Bancario, Transferencia Bancaria, Dep\xf3sito en tiendas Oxxo, Mercado Pago, PayPal, Tarjetas de D\xe9bito, Tarjetas de Cr\xe9dito"),c.qZA()(),c.TgZ(32,"p")(33,"span")(34,"strong"),c._uU(35," 4) \xbfCU\xc1NTO CUESTAN LOS ENVIOS?"),c.qZA()()(),c.TgZ(36,"p")(37,"strong"),c._uU(38,"Respuesta :"),c.qZA(),c._uU(39," Nuestros productos pueden llegar a cualquier parte de la rep\xfablica mexicana, para saber el precio de tu envi\xf3, \xfanicamente agrega los productos que deseas a tu carrito de compra, una vez en el carrito selecciona en la casilla tipo de entrega la opci\xf3n \u201cA domicilio\u201d la p\xe1gina calcular\xe1 autom\xe1ticamente el precio de tu envi\xf3 y te lo mostrar\xe1.\n"),c.qZA(),c.TgZ(40,"p")(41,"span")(42,"strong"),c._uU(43," 5) \xbfDonde se encuntran nuestras tiendas?"),c.qZA()()(),c.TgZ(44,"p")(45,"strong"),c._uU(46,"Respuesta :"),c.qZA(),c.TgZ(47,"strong"),c._uU(48,"Le recordamos que enviamos a toda la rep\xfablica mexicana, desde nuestras tiendas que se encuentran en Guadalajara"),c.qZA()(),c.TgZ(49,"p")(50,"span")(51,"strong"),c._uU(52," 6) \xbfLos productos cuentan con garantia?"),c.qZA()()(),c.TgZ(53,"p")(54,"strong"),c._uU(55,"Respuesta :"),c.qZA(),c._uU(56," S\xed, todos nuestros productos cuentan con garant\xeda, la cual es vigente dentro de un a\xf1o, a no ser que en el producto se especifique otro periodo de garant\xeda."),c.qZA()())},dependencies:[Nl],styles:["div[_ngcontent-%COMP%]{margin-top:2em;padding:2em;background-color:#363333;border-radius:15px;font-size:large;color:#7fffd4}strong[_ngcontent-%COMP%]{color:#d3c5c5}"]}),n})()},{path:"envios",component:(()=>{class n{constructor(){this.Titulo="electricpanas envios",this.currentdate=new Date,this.costo1=200,this.costo2=250,this.costo3=230,this.costo4=300}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-envios"]],decls:51,vars:23,consts:[["id","Titulo"],["id","texto",2,"text-align","center"],["id","centro",2,"text-align","center"],["id","main-container"],[1,"table","tb"],[1,"table-info"]],template:function(t,r){1&t&&(c._UZ(0,"app-navbar"),c.TgZ(1,"body")(2,"div",0)(3,"p",1),c._uU(4),c.ALo(5,"uppercase"),c.qZA(),c.TgZ(6,"h2",2),c._uU(7),c.ALo(8,"date"),c.qZA()(),c.TgZ(9,"div",3)(10,"table",4)(11,"thead")(12,"tr",5)(13,"th"),c._uU(14,"Zona"),c.qZA(),c.TgZ(15,"th"),c._uU(16,"Tiempo Estimado"),c.qZA(),c.TgZ(17,"th"),c._uU(18,"Costo"),c.qZA()()(),c.TgZ(19,"tr")(20,"td"),c._uU(21,"norte de la republica"),c.qZA(),c.TgZ(22,"td"),c._uU(23,"3 dias despues de la fecha actual"),c.qZA(),c.TgZ(24,"td"),c._uU(25),c.ALo(26,"currency"),c.qZA()(),c.TgZ(27,"tr")(28,"td"),c._uU(29,"Sur de la republica"),c.qZA(),c.TgZ(30,"td"),c._uU(31,"4 dias despues de la fecha actual"),c.qZA(),c.TgZ(32,"td"),c._uU(33),c.ALo(34,"currency"),c.qZA()(),c.TgZ(35,"tr")(36,"td"),c._uU(37,"costa oeste"),c.qZA(),c.TgZ(38,"td"),c._uU(39,"4 dias despues de la fecha actual"),c.qZA(),c.TgZ(40,"td"),c._uU(41),c.ALo(42,"currency"),c.qZA()(),c.TgZ(43,"tr")(44,"td"),c._uU(45,"Costa noroeste"),c.qZA(),c.TgZ(46,"td"),c._uU(47,"2 dias despues de la fecha actual"),c.qZA(),c.TgZ(48,"td"),c._uU(49),c.ALo(50,"currency"),c.qZA()()()()()),2&t&&(c.xp6(4),c.Oqu(c.lcZ(5,6,r.Titulo)),c.xp6(3),c.Oqu(c.xi3(8,8,r.currentdate,"d/M/y")),c.xp6(18),c.Oqu(c.xi3(26,11,r.costo1,"$")),c.xp6(8),c.Oqu(c.xi3(34,14,r.costo2,"$")),c.xp6(8),c.Oqu(c.xi3(42,17,r.costo3,"$")),c.xp6(8),c.Oqu(c.xi3(50,20,r.costo4,"$")))},dependencies:[Nl,Ll,Ou,ga],styles:["#texto[_ngcontent-%COMP%]{padding-top:2em;font:700 30px Tahoma;width:100%;align-items:center}#centro[_ngcontent-%COMP%]{font:700 30px Tahoma}#main-container[_ngcontent-%COMP%]{margin:3em auto 150px;width:60%}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{padding:20px}tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{background-color:#c7dbf9;color:#fff}"]}),n})()},{path:"**",redirectTo:"home",pathMatch:"full"}];let _N=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Vh.forRoot(vN),Vh]}),n})(),wN=(()=>{class n{constructor(){this.title="proyecto-final"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[Mh]}),n})();var bN=R(1144);const EN=["addListener","removeListener"],CN=["addEventListener","removeEventListener"],IN=["on","off"];function hC(n,e,t,r){if((0,Mr.m)(t)&&(r=t,t=void 0),r)return hC(n,e,t).pipe($s(r));const[o,u]=function AN(n){return(0,Mr.m)(n.addEventListener)&&(0,Mr.m)(n.removeEventListener)}(n)?CN.map(h=>g=>n[h](e,g,t)):function DN(n){return(0,Mr.m)(n.addListener)&&(0,Mr.m)(n.removeListener)}(n)?EN.map(Tx(n,e)):function TN(n){return(0,Mr.m)(n.on)&&(0,Mr.m)(n.off)}(n)?IN.map(Tx(n,e)):[];if(!o&&(0,bN.z)(n))return(0,wr.z)(h=>hC(h,e,t))((0,Qr.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new qn.y(h=>{const g=(...w)=>h.next(1<w.length?w:w[0]);return o(g),()=>u(g)})}function Tx(n,e){return t=>r=>n[t](e,r)}var Ax=R(5032);const yh=new qn.y(Ax.Z),xN={connector:()=>new Sr.x};function Sx(n,e=xN){const{connector:t}=e;return(0,Jn.e)((r,o)=>{const u=t();(0,Yt.D)(n(function SN(n){return new qn.y(e=>n.subscribe(e))}(u))).subscribe(o),o.add(r.subscribe(u))})}function xx(n,e){return e?t=>Go(e.pipe((0,tn.q)(1),function PN(){return(0,Jn.e)((n,e)=>{n.subscribe((0,xr.x)(e,Ax.Z))})}()),t.pipe(xx(n))):(0,wr.z)((t,r)=>n(t,r).pipe((0,tn.q)(1),ql(t)))}var NN=R(3532);const p0="Service workers are disabled or not supported by this browser";class fC{constructor(e){if(this.serviceWorker=e,e){const r=hC(e,"controllerchange").pipe((0,xt.U)(()=>e.controller)),u=Go(po(()=>yt(e.controller)),r);this.worker=u.pipe(li(O=>!!O)),this.registration=this.worker.pipe(_r(()=>e.getRegistration()));const S=hC(e,"message").pipe((0,xt.U)(O=>O.data)).pipe(li(O=>O&&O.type)).pipe(function RN(n){return n?e=>Sx(n)(e):e=>function MN(n,e){const t=(0,Mr.m)(n)?n:()=>n;return(0,Mr.m)(e)?Sx(e,{connector:t}):r=>new Ch(r,t)}(new Sr.x)(e)}());S.connect(),this.events=S}else this.worker=this.events=this.registration=function LN(n){return po(()=>gs(new Error(n)))}(p0)}postMessage(e,t){return this.worker.pipe((0,tn.q)(1),(0,fr.b)(r=>{r.postMessage({action:e,...t})})).toPromise().then(()=>{})}postMessageWithOperation(e,t,r){const o=this.waitForOperationCompleted(r),u=this.postMessage(e,t);return Promise.all([u,o]).then(([,h])=>h)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?r=>r.type===e:r=>e.includes(r.type),this.events.pipe(li(t))}nextEventOfType(e){return this.eventsOfType(e).pipe((0,tn.q)(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(li(t=>t.nonce===e),(0,tn.q)(1),(0,xt.U)(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let VN=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new Sr.x,!t.isEnabled)return this.messages=yh,this.notificationClicks=yh,void(this.subscription=yh);this.messages=this.sw.eventsOfType("PUSH").pipe((0,xt.U)(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe((0,xt.U)(o=>o.data)),this.pushManager=this.sw.registration.pipe((0,xt.U)(o=>o.pushManager));const r=this.pushManager.pipe(_r(o=>o.getSubscription()));this.subscription=(0,oA.T)(r,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(p0));const r={userVisibleOnly:!0};let o=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),u=new Uint8Array(new ArrayBuffer(o.length));for(let h=0;h<o.length;h++)u[h]=o.charCodeAt(h);return r.applicationServerKey=u,this.pushManager.pipe(_r(h=>h.subscribe(r)),(0,tn.q)(1)).toPromise().then(h=>(this.subscriptionChanges.next(h),h))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe((0,tn.q)(1),_r(r=>{if(null===r)throw new Error("Not subscribed to push notifications.");return r.unsubscribe().then(o=>{if(!o)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(p0))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),UN=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=yh,this.available=yh,this.activated=yh,void(this.unrecoverable=yh);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.available=this.versionUpdates.pipe(li(r=>"VERSION_READY"===r.type),(0,xt.U)(r=>({type:"UPDATE_AVAILABLE",current:r.currentVersion,available:r.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(p0));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(p0));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(fC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class xA{}const Mx=new c.OlP("NGSW_REGISTER_SCRIPT");function BN(n,e,t,r){return()=>{if(!Gn(r)||!("serviceWorker"in navigator)||!1===t.enabled)return;let u;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)u=t.registrationStrategy();else{const[g,...w]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(g){case"registerImmediately":u=yt(null);break;case"registerWithDelay":u=Rx(+w[0]||0);break;case"registerWhenStable":u=w[0]?(0,oA.T)(Px(n),Rx(+w[0])):Px(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(c.R0b).runOutsideAngular(()=>u.pipe((0,tn.q)(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(g=>console.error("Service worker registration failed with:",g))))}}function Rx(n){return yt(null).pipe(function FN(n,e=Xy.z){const t=function ON(n=0,e,t=Xy.P){let r=-1;return null!=e&&((0,NN.K)(e)?t=e:r=e),new qn.y(o=>{let u=function kN(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let h=0;return t.schedule(function(){o.closed||(o.next(h++),0<=r?this.schedule(void 0,r):o.complete())},u)})}(n,e);return xx(()=>t)}(n))}function Px(n){return n.get(c.z2F).isStable.pipe(li(t=>t))}function jN(n,e){return new fC(Gn(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let $N=(()=>{class n{static register(t,r={}){return{ngModule:n,providers:[{provide:Mx,useValue:t},{provide:xA,useValue:r},{provide:fC,useFactory:jN,deps:[xA,c.Lbi]},{provide:c.ip1,useFactory:BN,deps:[c.zs3,Mx,xA,c.Lbi],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[VN,UN]}),n})();const pC_firebase={apiKey:"AIzaSyDz4ph_8uewKti9aZVBBt2prT5Zgc80Wdk",authDomain:"proyectofinaltw-4dfac.firebaseapp.com",projectId:"proyectofinaltw-4dfac",storageBucket:"proyectofinaltw-4dfac.appspot.com",messagingSenderId:"933578757374",appId:"1:933578757374:web:f57083b590841b92e101af"};var HN=R(2587);class MA{constructor(e){return e}}class kx{constructor(){return(0,In.vb)("auth")}}const RA=new c.OlP("angularfire2.auth-instances");function qN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new MA(r)}}const zN={provide:kx,deps:[[new c.FiY,RA]]},WN={provide:MA,useFactory:function GN(n,e){const t=(0,In.JM)("auth",n,e);return t&&new MA(t)},deps:[[new c.FiY,RA],$m]};let ZN=(()=>{class n{constructor(){(0,mh.KN)("angularfire",In.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[WN,zN]}),n})();function KN(n,...e){return{ngModule:ZN,providers:[{provide:RA,useFactory:qN(n),multi:!0,deps:[c.R0b,c.zs3,In.HU,uA,[new c.FiY,f0],...e]}]}}const YN=(0,In.u3)(HN.n,!0);class PA{constructor(e){return e}}const Ox="firestore",NA=new c.OlP("angularfire2.firestore-instances");function XN(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new PA(r)}}const ek={provide:class QN{constructor(){return(0,In.vb)(Ox)}},deps:[[new c.FiY,NA]]},tk={provide:PA,useFactory:function JN(n,e){const t=(0,In.JM)(Ox,n,e);return t&&new PA(t)},deps:[[new c.FiY,NA],$m]};let nk=(()=>{class n{constructor(){(0,mh.KN)("angularfire",In.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[tk,ek]}),n})();function rk(n,...e){return{ngModule:nk,providers:[{provide:NA,useFactory:XN(n),multi:!0,deps:[c.R0b,c.zs3,In.HU,uA,[new c.FiY,kx],[new c.FiY,f0],...e]}]}}const ik=(0,In.u3)(LM,!0);let sk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[wN]}),n.\u0275inj=c.cJS({providers:[],imports:[Ji,_N,$N.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"}),ia.hO.initializeApp(pC_firebase),zR(()=>WR(pC_firebase)),KN(()=>YN()),rk(()=>ik()),ZP,wn,yw]}),n})();(0,c.G48)(),jl().bootstrapModule(sk).catch(n=>console.error(n))},4901:Ze=>{"use strict";var q={single_source_shortest_paths:function(R,c,P){var A={},L={};L[c]=0;var H,Q,z,le,G,te,B=q.PriorityQueue.make();for(B.push(c,0);!B.empty();)for(z in le=(H=B.pop()).cost,G=R[Q=H.value]||{})G.hasOwnProperty(z)&&(te=le+G[z],(typeof L[z]>"u"||L[z]>te)&&(L[z]=te,B.push(z,te),A[z]=Q));if(typeof P<"u"&&typeof L[P]>"u"){var Te=["Could not find a path from ",c," to ",P,"."].join("");throw new Error(Te)}return A},extract_shortest_path_from_predecessor_list:function(R,c){for(var P=[],A=c;A;)P.push(A),A=R[A];return P.reverse(),P},find_path:function(R,c,P){var A=q.single_source_shortest_paths(R,c,P);return q.extract_shortest_path_from_predecessor_list(A,P)},PriorityQueue:{make:function(R){var A,c=q.PriorityQueue,P={};for(A in R=R||{},c)c.hasOwnProperty(A)&&(P[A]=c[A]);return P.queue=[],P.sorter=R.sorter||c.default_sorter,P},default_sorter:function(R,c){return R.cost-c.cost},push:function(R,c){this.queue.push({value:R,cost:c}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Ze.exports=q},8419:Ze=>{"use strict";Ze.exports=function(R){for(var c=[],P=R.length,A=0;A<P;A++){var L=R.charCodeAt(A);if(L>=55296&&L<=56319&&P>A+1){var B=R.charCodeAt(A+1);B>=56320&&B<=57343&&(L=1024*(L-55296)+B-56320+65536,A+=1)}L<128?c.push(L):L<2048?(c.push(L>>6|192),c.push(63&L|128)):L<55296||L>=57344&&L<65536?(c.push(L>>12|224),c.push(L>>6&63|128),c.push(63&L|128)):L>=65536&&L<=1114111?(c.push(L>>18|240),c.push(L>>12&63|128),c.push(L>>6&63|128),c.push(63&L|128)):c.push(239,191,189)}return new Uint8Array(c).buffer}},5867:(Ze,q,R)=>{"use strict";R.d(q,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=R(9681);(0,c.registerVersion)("firebase","9.8.2","app")},127:(Ze,q,R)=>{"use strict";R.d(q,{Z:()=>c.Z});var c=R(3942);c.Z.registerVersion("firebase","9.8.2","app-compat")},5881:(Ze,q,R)=>{"use strict";R.r(q);var c=R(5861),P=R(3942),A=R(2587),L=R(2090),Q=(R(9681),R(1877),R(4859));function z(){return window}function W(){return(W=(0,c.Z)(function*(Ce,X,ee){var Re;const{BuildInfo:Je}=z();(0,A.aq)(X.sessionId,"AuthEvent did not contain a session ID");const bt=yield pe(X.sessionId),Be={};return(0,A.ar)()?Be.ibi=Je.packageName:(0,A.as)()?Be.apn=Je.packageName:(0,A.at)(Ce,"operation-not-supported-in-this-environment"),Je.displayName&&(Be.appDisplayName=Je.displayName),Be.sessionId=bt,(0,A.au)(Ce,ee,X.type,void 0,null!==(Re=X.eventId)&&void 0!==Re?Re:void 0,Be)})).apply(this,arguments)}function De(){return(De=(0,c.Z)(function*(Ce){const{BuildInfo:X}=z(),ee={};(0,A.ar)()?ee.iosBundleId=X.packageName:(0,A.as)()?ee.androidPackageName=X.packageName:(0,A.at)(Ce,"operation-not-supported-in-this-environment"),yield(0,A.av)(Ce,ee)})).apply(this,arguments)}function $e(){return($e=(0,c.Z)(function*(Ce,X,ee){const{cordova:Re}=z();let Je=()=>{};try{yield new Promise((bt,Be)=>{let ut=null;function Tt(){var Ct;bt();const rr=null===(Ct=Re.plugins.browsertab)||void 0===Ct?void 0:Ct.close;"function"==typeof rr&&rr(),"function"==typeof ee?.close&&ee.close()}function fn(){ut||(ut=window.setTimeout(()=>{Be((0,A.aw)(Ce,"redirect-cancelled-by-user"))},2e3))}function or(){"visible"===document?.visibilityState&&fn()}X.addPassiveListener(Tt),document.addEventListener("resume",fn,!1),(0,A.as)()&&document.addEventListener("visibilitychange",or,!1),Je=()=>{X.removePassiveListener(Tt),document.removeEventListener("resume",fn,!1),document.removeEventListener("visibilitychange",or,!1),ut&&window.clearTimeout(ut)}})}finally{Je()}})).apply(this,arguments)}function pe(Ce){return ke.apply(this,arguments)}function ke(){return(ke=(0,c.Z)(function*(Ce){const X=Ne(Ce),ee=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array(ee)).map(Je=>Je.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Ne(Ce){if((0,A.aq)(/[0-9a-zA-Z]+/.test(Ce),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(Ce);const X=new ArrayBuffer(Ce.length),ee=new Uint8Array(X);for(let Re=0;Re<Ce.length;Re++)ee[Re]=Ce.charCodeAt(Re);return ee}class Fe extends A.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach(ee=>ee(X)),super.onEvent(X)}initialized(){var X=this;return(0,c.Z)(function*(){yield X.initPromise})()}}function ie(Ce){return U.apply(this,arguments)}function U(){return(U=(0,c.Z)(function*(Ce){const X=yield ne()._get(ae(Ce));return X&&(yield ne()._remove(ae(Ce))),X})).apply(this,arguments)}function J(){const Ce=[],X="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ee=0;ee<20;ee++){const Re=Math.floor(Math.random()*X.length);Ce.push(X.charAt(Re))}return Ce.join("")}function ne(){return(0,A.ay)(A.b)}function ae(Ce){return(0,A.az)("authEvent",Ce.config.apiKey,Ce.name)}function ze(Ce){if(!Ce?.includes("?"))return{};const[X,...ee]=Ce.split("?");return(0,L.zd)(ee.join("?"))}function Qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,A.aw)("no-auth-event")}}function Mt(){var Ce;return(null===(Ce=self?.location)||void 0===Ce?void 0:Ce.protocol)||null}function en(Ce=(0,L.z$)()){return!("file:"!==Mt()&&"ionic:"!==Mt()&&"capacitor:"!==Mt()||!Ce.toLowerCase().match(/iphone|ipad|ipod|android/))}function Lr(){try{const Ce=self.localStorage,X=A.aI();if(Ce)return Ce.setItem(X,"1"),Ce.removeItem(X),!function oi(Ce=(0,L.z$)()){return function Rn(){return(0,L.w1)()&&11===document?.documentMode}()||function _n(Ce=(0,L.z$)()){return/Edge\/\d+/.test(Ce)}(Ce)}()||(0,L.hl)()}catch{return Vr()&&(0,L.hl)()}return!1}function Vr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function jn(){return(function Gt(){return"http:"===Mt()||"https:"===Mt()}()||(0,L.ru)()||en())&&!function Pn(){return(0,L.b$)()||(0,L.UG)()}()&&Lr()&&!Vr()}function Dr(){return en()&&typeof document<"u"}function Fn(){return(Fn=(0,c.Z)(function*(){return!!Dr()&&new Promise(Ce=>{const X=setTimeout(()=>{Ce(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),Ce(!0)})})})).apply(this,arguments)}const kt={LOCAL:"local",NONE:"none",SESSION:"session"},sr=A.ax,nr="persistence";function wt(Ce){return En.apply(this,arguments)}function En(){return(En=(0,c.Z)(function*(Ce){yield Ce._initializationPromise;const X=Bt(),ee=A.az(nr,Ce.config.apiKey,Ce.name);X&&X.setItem(ee,Ce._getPersistence())})).apply(this,arguments)}function Bt(){var Ce;try{return(null===(Ce=function Tn(){return typeof window<"u"?window:null}())||void 0===Ce?void 0:Ce.sessionStorage)||null}catch{return null}}const Ye=A.ax;class tt{constructor(){this.browserResolver=A.ay(A.k),this.cordovaResolver=A.ay(class Kt{constructor(){this._redirectPersistence=A.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=A.aB,this._overrideRedirectResult=A.aC}_initialize(X){var ee=this;return(0,c.Z)(function*(){const Re=X._key();let Je=ee.eventManagers.get(Re);return Je||(Je=new Fe(X),ee.eventManagers.set(Re,Je),ee.attachCallbackListeners(X,Je)),Je})()}_openPopup(X){(0,A.at)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,ee,Re,Je){var bt=this;return(0,c.Z)(function*(){!function he(Ce){var X,ee,Re,Je,bt,Be,ut,Tt,fn,or;const Ct=z();(0,A.ax)("function"==typeof(null===(X=Ct?.universalLinks)||void 0===X?void 0:X.subscribe),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,A.ax)(typeof(null===(ee=Ct?.BuildInfo)||void 0===ee?void 0:ee.packageName)<"u",Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,A.ax)("function"==typeof(null===(bt=null===(Je=null===(Re=Ct?.cordova)||void 0===Re?void 0:Re.plugins)||void 0===Je?void 0:Je.browsertab)||void 0===bt?void 0:bt.openUrl),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.ax)("function"==typeof(null===(Tt=null===(ut=null===(Be=Ct?.cordova)||void 0===Be?void 0:Be.plugins)||void 0===ut?void 0:ut.browsertab)||void 0===Tt?void 0:Tt.isAvailable),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,A.ax)("function"==typeof(null===(or=null===(fn=Ct?.cordova)||void 0===fn?void 0:fn.InAppBrowser)||void 0===or?void 0:or.open),Ce,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const Be=yield bt._initialize(X);yield Be.initialized(),Be.resetRedirect(),(0,A.aD)(),yield bt._originValidation(X);const ut=function fe(Ce,X,ee=null){return{type:X,eventId:ee,urlResponse:null,sessionId:J(),postBody:null,tenantId:Ce.tenantId,error:(0,A.aw)(Ce,"no-auth-event")}}(X,Re,Je);yield function Le(Ce,X){return ne()._set(ae(Ce),X)}(X,ut);const Tt=yield function G(Ce,X,ee){return W.apply(this,arguments)}(X,ut,ee),fn=yield function Ee(Ce){const{cordova:X}=z();return new Promise(ee=>{X.plugins.browsertab.isAvailable(Re=>{let Je=null;Re?X.plugins.browsertab.openUrl(Ce):Je=X.InAppBrowser.open(Ce,(0,A.ap)()?"_blank":"_system","location=yes"),ee(Je)})})}(Tt);return function Te(Ce,X,ee){return $e.apply(this,arguments)}(X,Be,fn)})()}_isIframeWebStorageSupported(X,ee){throw new Error("Method not implemented.")}_originValidation(X){const ee=X._key();return this.originValidationPromises[ee]||(this.originValidationPromises[ee]=function te(Ce){return De.apply(this,arguments)}(X)),this.originValidationPromises[ee]}attachCallbackListeners(X,ee){const{universalLinks:Re,handleOpenURL:Je,BuildInfo:bt}=z(),Be=setTimeout((0,c.Z)(function*(){yield ie(X),ee.onEvent(Qe())}),500),ut=function(){var or=(0,c.Z)(function*(Ct){clearTimeout(Be);const rr=yield ie(X);let Sn=null;rr&&Ct?.url&&(Sn=function me(Ce,X){var ee,Re;const Je=function _e(Ce){const X=ze(Ce),ee=X.link?decodeURIComponent(X.link):void 0,Re=ze(ee).link,Je=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return ze(Je).link||Je||Re||ee||Ce}(X);if(Je.includes("/__/auth/callback")){const bt=ze(Je),Be=bt.firebaseError?function ce(Ce){try{return JSON.parse(Ce)}catch{return null}}(decodeURIComponent(bt.firebaseError)):null,ut=null===(Re=null===(ee=Be?.code)||void 0===ee?void 0:ee.split("auth/"))||void 0===Re?void 0:Re[1],Tt=ut?(0,A.aw)(ut):null;return Tt?{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,error:Tt,urlResponse:null,sessionId:null,postBody:null}:{type:Ce.type,eventId:Ce.eventId,tenantId:Ce.tenantId,sessionId:Ce.sessionId,urlResponse:Je,postBody:null}}return null}(rr,Ct.url)),ee.onEvent(Sn||Qe())});return function(rr){return or.apply(this,arguments)}}();typeof Re<"u"&&"function"==typeof Re.subscribe&&Re.subscribe(null,ut);const Tt=Je,fn=`${bt.packageName.toLowerCase()}://`;z().handleOpenURL=function(){var or=(0,c.Z)(function*(Ct){if(Ct.toLowerCase().startsWith(fn)&&ut({url:Ct}),"function"==typeof Tt)try{Tt(Ct)}catch(rr){console.error(rr)}});return function(Ct){return or.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=A.a,this._completeRedirectFn=A.aB,this._overrideRedirectResult=A.aC}_initialize(X){var ee=this;return(0,c.Z)(function*(){return yield ee.selectUnderlyingResolver(),ee.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,ee,Re,Je){var bt=this;return(0,c.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openPopup(X,ee,Re,Je)})()}_openRedirect(X,ee,Re,Je){var bt=this;return(0,c.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openRedirect(X,ee,Re,Je)})()}_isIframeWebStorageSupported(X,ee){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,ee)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return Dr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ye(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,c.Z)(function*(){if(X.underlyingResolver)return;const ee=yield function at(){return Fn.apply(this,arguments)}();X.underlyingResolver=ee?X.cordovaResolver:X.browserResolver})()}}function ai(Ce){return Ce.unwrap()}function mt(Ce){return An(Ce)}function An(Ce){const{_tokenResponse:X}=Ce instanceof L.ZR?Ce.customData:Ce;if(!X)return null;if(!(Ce instanceof L.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return A.P.credentialFromResult(Ce);const ee=X.providerId;if(!ee||ee===A.o.PASSWORD)return null;let Re;switch(ee){case A.o.GOOGLE:Re=A.Q;break;case A.o.FACEBOOK:Re=A.N;break;case A.o.GITHUB:Re=A.T;break;case A.o.TWITTER:Re=A.W;break;default:const{oauthIdToken:Je,oauthAccessToken:bt,oauthTokenSecret:Be,pendingToken:ut,nonce:Tt}=X;return bt||Be||Je||ut?ut?ee.startsWith("saml.")?A.aL._create(ee,ut):A.J._fromParams({providerId:ee,signInMethod:ee,pendingToken:ut,idToken:Je,accessToken:bt}):new A.U(ee).credential({idToken:Je,accessToken:bt,rawNonce:Tt}):null}return Ce instanceof L.ZR?Re.credentialFromError(Ce):Re.credentialFromResult(Ce)}function Cn(Ce,X){return X.catch(ee=>{throw ee instanceof L.ZR&&function Ur(Ce,X){var ee;const Re=null===(ee=X.customData)||void 0===ee?void 0:ee._tokenResponse;if("auth/multi-factor-auth-required"===X.code)X.resolver=new ue(Ce,A.an(Ce,X));else if(Re){const Je=An(X),bt=X;Je&&(bt.credential=Je,bt.tenantId=Re.tenantId||void 0,bt.email=Re.email||void 0,bt.phoneNumber=Re.phoneNumber||void 0)}}(Ce,ee),ee}).then(ee=>{const Je=ee.user;return{operationType:ee.operationType,credential:mt(ee),additionalUserInfo:A.al(ee),user:Oe.getOrCreate(Je)}})}function se(Ce,X){return re.apply(this,arguments)}function re(){return(re=(0,c.Z)(function*(Ce,X){const ee=yield X;return{verificationId:ee.verificationId,confirm:Re=>Cn(Ce,ee.confirm(Re))}})).apply(this,arguments)}class ue{constructor(X,ee){this.resolver=ee,this.auth=function Vn(Ce){return Ce.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return Cn(ai(this.auth),this.resolver.resolveSignIn(X))}}class Oe{constructor(X){this._delegate=X,this.multiFactor=A.ao(X)}static getOrCreate(X){return Oe.USER_MAP.has(X)||Oe.USER_MAP.set(X,new Oe(X)),Oe.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var ee=this;return(0,c.Z)(function*(){return Cn(ee.auth,A.Z(ee._delegate,X))})()}linkWithPhoneNumber(X,ee){var Re=this;return(0,c.Z)(function*(){return se(Re.auth,A.l(Re._delegate,X,ee))})()}linkWithPopup(X){var ee=this;return(0,c.Z)(function*(){return Cn(ee.auth,A.d(ee._delegate,X,tt))})()}linkWithRedirect(X){var ee=this;return(0,c.Z)(function*(){return yield wt(A.aE(ee.auth)),A.g(ee._delegate,X,tt)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var ee=this;return(0,c.Z)(function*(){return Cn(ee.auth,A._(ee._delegate,X))})()}reauthenticateWithPhoneNumber(X,ee){return se(this.auth,A.r(this._delegate,X,ee))}reauthenticateWithPopup(X){return Cn(this.auth,A.e(this._delegate,X,tt))}reauthenticateWithRedirect(X){var ee=this;return(0,c.Z)(function*(){return yield wt(A.aE(ee.auth)),A.h(ee._delegate,X,tt)})()}sendEmailVerification(X){return A.ab(this._delegate,X)}unlink(X){var ee=this;return(0,c.Z)(function*(){return yield A.ak(ee._delegate,X),ee})()}updateEmail(X){return A.ag(this._delegate,X)}updatePassword(X){return A.ah(this._delegate,X)}updatePhoneNumber(X){return A.u(this._delegate,X)}updateProfile(X){return A.af(this._delegate,X)}verifyBeforeUpdateEmail(X,ee){return A.ac(this._delegate,X,ee)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Oe.USER_MAP=new WeakMap;const Z=A.ax;let ve=(()=>{class Ce{constructor(ee,Re){if(this.app=ee,Re.isInitialized())return this._delegate=Re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Je}=ee.options;Z(Je,"invalid-api-key",{appName:ee.name}),Z(Je,"invalid-api-key",{appName:ee.name});const bt=typeof window<"u"?tt:void 0;this._delegate=Re.initialize({options:{persistence:ot(Je,ee.name),popupRedirectResolver:bt}}),this._delegate._updateErrorMap(A.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Oe.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ee){this._delegate.languageCode=ee}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ee){this._delegate.tenantId=ee}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ee,Re){A.G(this._delegate,ee,Re)}applyActionCode(ee){return A.a2(this._delegate,ee)}checkActionCode(ee){return A.a3(this._delegate,ee)}confirmPasswordReset(ee,Re){return A.a1(this._delegate,ee,Re)}createUserWithEmailAndPassword(ee,Re){var Je=this;return(0,c.Z)(function*(){return Cn(Je._delegate,A.a5(Je._delegate,ee,Re))})()}fetchProvidersForEmail(ee){return this.fetchSignInMethodsForEmail(ee)}fetchSignInMethodsForEmail(ee){return A.aa(this._delegate,ee)}isSignInWithEmailLink(ee){return A.a8(this._delegate,ee)}getRedirectResult(){var ee=this;return(0,c.Z)(function*(){Z(jn(),ee._delegate,"operation-not-supported-in-this-environment");const Re=yield A.j(ee._delegate,tt);return Re?Cn(ee._delegate,Promise.resolve(Re)):{credential:null,user:null}})()}addFrameworkForLogging(ee){!function Ft(Ce,X){(0,A.aE)(Ce)._logFramework(X)}(this._delegate,ee)}onAuthStateChanged(ee,Re,Je){const{next:bt,error:Be,complete:ut}=Ge(ee,Re,Je);return this._delegate.onAuthStateChanged(bt,Be,ut)}onIdTokenChanged(ee,Re,Je){const{next:bt,error:Be,complete:ut}=Ge(ee,Re,Je);return this._delegate.onIdTokenChanged(bt,Be,ut)}sendSignInLinkToEmail(ee,Re){return A.a7(this._delegate,ee,Re)}sendPasswordResetEmail(ee,Re){return A.a0(this._delegate,ee,Re||void 0)}setPersistence(ee){var Re=this;return(0,c.Z)(function*(){let Je;switch(function Tr(Ce,X){sr(Object.values(kt).includes(X),Ce,"invalid-persistence-type"),(0,L.b$)()?sr(X!==kt.SESSION,Ce,"unsupported-persistence-type"):(0,L.UG)()?sr(X===kt.NONE,Ce,"unsupported-persistence-type"):Vr()?sr(X===kt.NONE||X===kt.LOCAL&&(0,L.hl)(),Ce,"unsupported-persistence-type"):sr(X===kt.NONE||Lr(),Ce,"unsupported-persistence-type")}(Re._delegate,ee),ee){case kt.SESSION:Je=A.a;break;case kt.LOCAL:Je=(yield A.ay(A.i)._isAvailable())?A.i:A.b;break;case kt.NONE:Je=A.L;break;default:return A.at("argument-error",{appName:Re._delegate.name})}return Re._delegate.setPersistence(Je)})()}signInAndRetrieveDataWithCredential(ee){return this.signInWithCredential(ee)}signInAnonymously(){return Cn(this._delegate,A.X(this._delegate))}signInWithCredential(ee){return Cn(this._delegate,A.Y(this._delegate,ee))}signInWithCustomToken(ee){return Cn(this._delegate,A.$(this._delegate,ee))}signInWithEmailAndPassword(ee,Re){return Cn(this._delegate,A.a6(this._delegate,ee,Re))}signInWithEmailLink(ee,Re){return Cn(this._delegate,A.a9(this._delegate,ee,Re))}signInWithPhoneNumber(ee,Re){return se(this._delegate,A.s(this._delegate,ee,Re))}signInWithPopup(ee){var Re=this;return(0,c.Z)(function*(){return Z(jn(),Re._delegate,"operation-not-supported-in-this-environment"),Cn(Re._delegate,A.c(Re._delegate,ee,tt))})()}signInWithRedirect(ee){var Re=this;return(0,c.Z)(function*(){return Z(jn(),Re._delegate,"operation-not-supported-in-this-environment"),yield wt(Re._delegate),A.f(Re._delegate,ee,tt)})()}updateCurrentUser(ee){return this._delegate.updateCurrentUser(ee)}verifyPasswordResetCode(ee){return A.a4(this._delegate,ee)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return Ce.Persistence=kt,Ce})();function Ge(Ce,X,ee){let Re=Ce;"function"!=typeof Ce&&({next:Re,error:X,complete:ee}=Ce);const Je=Re;return{next:Be=>Je(Be&&Oe.getOrCreate(Be)),error:X,complete:ee}}function ot(Ce,X){const ee=function Ar(Ce,X){const ee=Bt();if(!ee)return[];const Re=A.az(nr,Ce,X);switch(ee.getItem(Re)){case kt.NONE:return[A.L];case kt.LOCAL:return[A.i,A.a];case kt.SESSION:return[A.a];default:return[]}}(Ce,X);if(typeof self<"u"&&!ee.includes(A.i)&&ee.push(A.i),typeof window<"u")for(const Re of[A.b,A.a])ee.includes(Re)||ee.push(Re);return ee.includes(A.L)||ee.push(A.L),ee}class Et{constructor(){this.providerId="phone",this._delegate=new A.P(ai(P.Z.auth()))}static credential(X,ee){return A.P.credential(X,ee)}verifyPhoneNumber(X,ee){return this._delegate.verifyPhoneNumber(X,ee)}unwrap(){return this._delegate}}Et.PHONE_SIGN_IN_METHOD=A.P.PHONE_SIGN_IN_METHOD,Et.PROVIDER_ID=A.P.PROVIDER_ID;const St=A.ax;class yn{constructor(X,ee,Re=P.Z.app()){var Je;St(null===(Je=Re.options)||void 0===Je?void 0:Je.apiKey,"invalid-api-key",{appName:Re.name}),this._delegate=new A.R(X,ee,Re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Zn(Ce){Ce.INTERNAL.registerComponent(new Q.wA("auth-compat",X=>{const ee=X.getProvider("app-compat").getImmediate(),Re=X.getProvider("auth");return new ve(ee,Re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:A.A.EMAIL_SIGNIN,PASSWORD_RESET:A.A.PASSWORD_RESET,RECOVER_EMAIL:A.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:A.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:A.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:A.A.VERIFY_EMAIL}},EmailAuthProvider:A.M,FacebookAuthProvider:A.N,GithubAuthProvider:A.T,GoogleAuthProvider:A.Q,OAuthProvider:A.U,SAMLAuthProvider:A.V,PhoneAuthProvider:Et,PhoneMultiFactorGenerator:A.m,RecaptchaVerifier:yn,TwitterAuthProvider:A.W,Auth:ve,AuthCredential:A.H,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Ce.registerVersion("@firebase/auth-compat","0.2.15")}(P.Z)},8306:(Ze,q,R)=>{"use strict";R.d(q,{y:()=>G});var c=R(930),P=R(727),A=R(8822),L=R(4671);var Q=R(2416),z=R(576),le=R(2806);let G=(()=>{class Ee{constructor($e){$e&&(this._subscribe=$e)}lift($e){const he=new Ee;return he.source=this,he.operator=$e,he}subscribe($e,he,pe){const ke=function De(Ee){return Ee&&Ee instanceof c.Lv||function te(Ee){return Ee&&(0,z.m)(Ee.next)&&(0,z.m)(Ee.error)&&(0,z.m)(Ee.complete)}(Ee)&&(0,P.Nn)(Ee)}($e)?$e:new c.Hp($e,he,pe);return(0,le.x)(()=>{const{operator:Ne,source:Pe}=this;ke.add(Ne?Ne.call(ke,Pe):Pe?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe($e){try{return this._subscribe($e)}catch(he){$e.error(he)}}forEach($e,he){return new(he=W(he))((pe,ke)=>{const Ne=new c.Hp({next:Pe=>{try{$e(Pe)}catch(Fe){ke(Fe),Ne.unsubscribe()}},error:ke,complete:pe});this.subscribe(Ne)})}_subscribe($e){var he;return null===(he=this.source)||void 0===he?void 0:he.subscribe($e)}[A.L](){return this}pipe(...$e){return function H(Ee){return 0===Ee.length?L.y:1===Ee.length?Ee[0]:function($e){return Ee.reduce((he,pe)=>pe(he),$e)}}($e)(this)}toPromise($e){return new($e=W($e))((he,pe)=>{let ke;this.subscribe(Ne=>ke=Ne,Ne=>pe(Ne),()=>he(ke))})}}return Ee.create=Te=>new Ee(Te),Ee})();function W(Ee){var Te;return null!==(Te=Ee??Q.v.Promise)&&void 0!==Te?Te:Promise}},7579:(Ze,q,R)=>{"use strict";R.d(q,{x:()=>Q});var c=R(8306),P=R(727);const L=(0,R(3888).d)(le=>function(){le(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var B=R(8737),H=R(2806);let Q=(()=>{class le extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const te=new z(this,this);return te.operator=W,te}_throwIfClosed(){if(this.closed)throw new L}next(W){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(W)}})}error(W){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:te}=this;for(;te.length;)te.shift().error(W)}})}complete(){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:te,isStopped:De,observers:Ee}=this;return te||De?P.Lc:(this.currentObservers=null,Ee.push(W),new P.w0(()=>{this.currentObservers=null,(0,B.P)(Ee,W)}))}_checkFinalizedStatuses(W){const{hasError:te,thrownError:De,isStopped:Ee}=this;te?W.error(De):Ee&&W.complete()}asObservable(){const W=new c.y;return W.source=this,W}}return le.create=(G,W)=>new z(G,W),le})();class z extends Q{constructor(G,W){super(),this.destination=G,this.source=W}next(G){var W,te;null===(te=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===te||te.call(W,G)}error(G){var W,te;null===(te=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===te||te.call(W,G)}complete(){var G,W;null===(W=null===(G=this.destination)||void 0===G?void 0:G.complete)||void 0===W||W.call(G)}_subscribe(G){var W,te;return null!==(te=null===(W=this.source)||void 0===W?void 0:W.subscribe(G))&&void 0!==te?te:P.Lc}}},930:(Ze,q,R)=>{"use strict";R.d(q,{Hp:()=>$e,Lv:()=>te});var c=R(576),P=R(727),A=R(2416),L=R(7849),B=R(5032);const H=le("C",void 0,void 0);function le(Pe,Fe,fe){return{kind:Pe,value:Fe,error:fe}}var G=R(3410),W=R(2806);class te extends P.w0{constructor(Fe){super(),this.isStopped=!1,Fe?(this.destination=Fe,(0,P.Nn)(Fe)&&Fe.add(this)):this.destination=Ne}static create(Fe,fe,Le){return new $e(Fe,fe,Le)}next(Fe){this.isStopped?ke(function z(Pe){return le("N",Pe,void 0)}(Fe),this):this._next(Fe)}error(Fe){this.isStopped?ke(function Q(Pe){return le("E",void 0,Pe)}(Fe),this):(this.isStopped=!0,this._error(Fe))}complete(){this.isStopped?ke(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Fe){this.destination.next(Fe)}_error(Fe){try{this.destination.error(Fe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const De=Function.prototype.bind;function Ee(Pe,Fe){return De.call(Pe,Fe)}class Te{constructor(Fe){this.partialObserver=Fe}next(Fe){const{partialObserver:fe}=this;if(fe.next)try{fe.next(Fe)}catch(Le){he(Le)}}error(Fe){const{partialObserver:fe}=this;if(fe.error)try{fe.error(Fe)}catch(Le){he(Le)}else he(Fe)}complete(){const{partialObserver:Fe}=this;if(Fe.complete)try{Fe.complete()}catch(fe){he(fe)}}}class $e extends te{constructor(Fe,fe,Le){let ie;if(super(),(0,c.m)(Fe)||!Fe)ie={next:Fe??void 0,error:fe??void 0,complete:Le??void 0};else{let U;this&&A.v.useDeprecatedNextContext?(U=Object.create(Fe),U.unsubscribe=()=>this.unsubscribe(),ie={next:Fe.next&&Ee(Fe.next,U),error:Fe.error&&Ee(Fe.error,U),complete:Fe.complete&&Ee(Fe.complete,U)}):ie=Fe}this.destination=new Te(ie)}}function he(Pe){A.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Pe):(0,L.h)(Pe)}function ke(Pe,Fe){const{onStoppedNotification:fe}=A.v;fe&&G.z.setTimeout(()=>fe(Pe,Fe))}const Ne={closed:!0,next:B.Z,error:function pe(Pe){throw Pe},complete:B.Z}},727:(Ze,q,R)=>{"use strict";R.d(q,{Lc:()=>H,w0:()=>B,Nn:()=>Q});var c=R(576);const A=(0,R(3888).d)(le=>function(W){le(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((te,De)=>`${De+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var L=R(8737);class B{constructor(G){this.initialTeardown=G,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let G;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Ee of W)Ee.remove(this);else W.remove(this);const{initialTeardown:te}=this;if((0,c.m)(te))try{te()}catch(Ee){G=Ee instanceof A?Ee.errors:[Ee]}const{_finalizers:De}=this;if(De){this._finalizers=null;for(const Ee of De)try{z(Ee)}catch(Te){G=G??[],Te instanceof A?G=[...G,...Te.errors]:G.push(Te)}}if(G)throw new A(G)}}add(G){var W;if(G&&G!==this)if(this.closed)z(G);else{if(G instanceof B){if(G.closed||G._hasParent(this))return;G._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(G)}}_hasParent(G){const{_parentage:W}=this;return W===G||Array.isArray(W)&&W.includes(G)}_addParent(G){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(G),W):W?[W,G]:G}_removeParent(G){const{_parentage:W}=this;W===G?this._parentage=null:Array.isArray(W)&&(0,L.P)(W,G)}remove(G){const{_finalizers:W}=this;W&&(0,L.P)(W,G),G instanceof B&&G._removeParent(this)}}B.EMPTY=(()=>{const le=new B;return le.closed=!0,le})();const H=B.EMPTY;function Q(le){return le instanceof B||le&&"closed"in le&&(0,c.m)(le.remove)&&(0,c.m)(le.add)&&(0,c.m)(le.unsubscribe)}function z(le){(0,c.m)(le)?le():le.unsubscribe()}},2416:(Ze,q,R)=>{"use strict";R.d(q,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ze,q,R)=>{"use strict";R.d(q,{E:()=>P});const P=new(R(8306).y)(B=>B.complete())},8996:(Ze,q,R)=>{"use strict";R.d(q,{D:()=>Fe});var c=R(8421),P=R(5363),A=R(9468),H=R(8306),z=R(2202),le=R(576),G=R(9672);function te(fe,Le){if(!fe)throw new Error("Iterable cannot be null");return new H.y(ie=>{(0,G.f)(ie,Le,()=>{const U=fe[Symbol.asyncIterator]();(0,G.f)(ie,Le,()=>{U.next().then(me=>{me.done?ie.complete():ie.next(me.value)})},0,!0)})})}var De=R(3670),Ee=R(8239),Te=R(1144),$e=R(6495),he=R(2206),pe=R(4532),ke=R(3260);function Fe(fe,Le){return Le?function Pe(fe,Le){if(null!=fe){if((0,De.c)(fe))return function L(fe,Le){return(0,c.Xf)(fe).pipe((0,A.R)(Le),(0,P.Q)(Le))}(fe,Le);if((0,Te.z)(fe))return function Q(fe,Le){return new H.y(ie=>{let U=0;return Le.schedule(function(){U===fe.length?ie.complete():(ie.next(fe[U++]),ie.closed||this.schedule())})})}(fe,Le);if((0,Ee.t)(fe))return function B(fe,Le){return(0,c.Xf)(fe).pipe((0,A.R)(Le),(0,P.Q)(Le))}(fe,Le);if((0,he.D)(fe))return te(fe,Le);if((0,$e.T)(fe))return function W(fe,Le){return new H.y(ie=>{let U;return(0,G.f)(ie,Le,()=>{U=fe[z.h](),(0,G.f)(ie,Le,()=>{let me,J;try{({value:me,done:J}=U.next())}catch(ne){return void ie.error(ne)}J?ie.complete():ie.next(me)},0,!0)}),()=>(0,le.m)(U?.return)&&U.return()})}(fe,Le);if((0,ke.L)(fe))return function Ne(fe,Le){return te((0,ke.Q)(fe),Le)}(fe,Le)}throw(0,pe.z)(fe)}(fe,Le):(0,c.Xf)(fe)}},8421:(Ze,q,R)=>{"use strict";R.d(q,{Xf:()=>De});var c=R(655),P=R(1144),A=R(8239),L=R(8306),B=R(3670),H=R(2206),Q=R(4532),z=R(6495),le=R(3260),G=R(576),W=R(7849),te=R(8822);function De(Pe){if(Pe instanceof L.y)return Pe;if(null!=Pe){if((0,B.c)(Pe))return function Ee(Pe){return new L.y(Fe=>{const fe=Pe[te.L]();if((0,G.m)(fe.subscribe))return fe.subscribe(Fe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,P.z)(Pe))return function Te(Pe){return new L.y(Fe=>{for(let fe=0;fe<Pe.length&&!Fe.closed;fe++)Fe.next(Pe[fe]);Fe.complete()})}(Pe);if((0,A.t)(Pe))return function $e(Pe){return new L.y(Fe=>{Pe.then(fe=>{Fe.closed||(Fe.next(fe),Fe.complete())},fe=>Fe.error(fe)).then(null,W.h)})}(Pe);if((0,H.D)(Pe))return pe(Pe);if((0,z.T)(Pe))return function he(Pe){return new L.y(Fe=>{for(const fe of Pe)if(Fe.next(fe),Fe.closed)return;Fe.complete()})}(Pe);if((0,le.L)(Pe))return function ke(Pe){return pe((0,le.Q)(Pe))}(Pe)}throw(0,Q.z)(Pe)}function pe(Pe){return new L.y(Fe=>{(function Ne(Pe,Fe){var fe,Le,ie,U;return(0,c.mG)(this,void 0,void 0,function*(){try{for(fe=(0,c.KL)(Pe);!(Le=yield fe.next()).done;)if(Fe.next(Le.value),Fe.closed)return}catch(me){ie={error:me}}finally{try{Le&&!Le.done&&(U=fe.return)&&(yield U.call(fe))}finally{if(ie)throw ie.error}}Fe.complete()})})(Pe,Fe).catch(fe=>Fe.error(fe))})}},6451:(Ze,q,R)=>{"use strict";R.d(q,{T:()=>H});var c=R(8189),P=R(8421),A=R(515),L=R(3269),B=R(8996);function H(...Q){const z=(0,L.yG)(Q),le=(0,L._6)(Q,1/0),G=Q;return G.length?1===G.length?(0,P.Xf)(G[0]):(0,c.J)(le)((0,B.D)(G,z)):A.E}},5403:(Ze,q,R)=>{"use strict";R.d(q,{x:()=>P});var c=R(930);function P(L,B,H,Q,z){return new A(L,B,H,Q,z)}class A extends c.Lv{constructor(B,H,Q,z,le,G){super(B),this.onFinalize=le,this.shouldUnsubscribe=G,this._next=H?function(W){try{H(W)}catch(te){B.error(te)}}:super._next,this._error=z?function(W){try{z(W)}catch(te){B.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(W){B.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var B;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(B=this.onFinalize)||void 0===B||B.call(this))}}}},4004:(Ze,q,R)=>{"use strict";R.d(q,{U:()=>A});var c=R(4482),P=R(5403);function A(L,B){return(0,c.e)((H,Q)=>{let z=0;H.subscribe((0,P.x)(Q,le=>{Q.next(L.call(B,le,z++))}))})}},8189:(Ze,q,R)=>{"use strict";R.d(q,{J:()=>A});var c=R(5577),P=R(4671);function A(L=1/0){return(0,c.z)(P.y,L)}},5577:(Ze,q,R)=>{"use strict";R.d(q,{z:()=>z});var c=R(4004),P=R(8421),A=R(4482),L=R(9672),B=R(5403),Q=R(576);function z(le,G,W=1/0){return(0,Q.m)(G)?z((te,De)=>(0,c.U)((Ee,Te)=>G(te,Ee,De,Te))((0,P.Xf)(le(te,De))),W):("number"==typeof G&&(W=G),(0,A.e)((te,De)=>function H(le,G,W,te,De,Ee,Te,$e){const he=[];let pe=0,ke=0,Ne=!1;const Pe=()=>{Ne&&!he.length&&!pe&&G.complete()},Fe=Le=>pe<te?fe(Le):he.push(Le),fe=Le=>{Ee&&G.next(Le),pe++;let ie=!1;(0,P.Xf)(W(Le,ke++)).subscribe((0,B.x)(G,U=>{De?.(U),Ee?Fe(U):G.next(U)},()=>{ie=!0},void 0,()=>{if(ie)try{for(pe--;he.length&&pe<te;){const U=he.shift();Te?(0,L.f)(G,Te,()=>fe(U)):fe(U)}Pe()}catch(U){G.error(U)}}))};return le.subscribe((0,B.x)(G,Fe,()=>{Ne=!0,Pe()})),()=>{$e?.()}}(te,De,le,W)))}},5363:(Ze,q,R)=>{"use strict";R.d(q,{Q:()=>L});var c=R(9672),P=R(4482),A=R(5403);function L(B,H=0){return(0,P.e)((Q,z)=>{Q.subscribe((0,A.x)(z,le=>(0,c.f)(z,B,()=>z.next(le),H),()=>(0,c.f)(z,B,()=>z.complete(),H),le=>(0,c.f)(z,B,()=>z.error(le),H)))})}},3099:(Ze,q,R)=>{"use strict";R.d(q,{B:()=>H});var c=R(8996),P=R(5698),A=R(7579),L=R(930),B=R(4482);function H(z={}){const{connector:le=(()=>new A.x),resetOnError:G=!0,resetOnComplete:W=!0,resetOnRefCountZero:te=!0}=z;return De=>{let Ee=null,Te=null,$e=null,he=0,pe=!1,ke=!1;const Ne=()=>{Te?.unsubscribe(),Te=null},Pe=()=>{Ne(),Ee=$e=null,pe=ke=!1},Fe=()=>{const fe=Ee;Pe(),fe?.unsubscribe()};return(0,B.e)((fe,Le)=>{he++,!ke&&!pe&&Ne();const ie=$e=$e??le();Le.add(()=>{he--,0===he&&!ke&&!pe&&(Te=Q(Fe,te))}),ie.subscribe(Le),Ee||(Ee=new L.Hp({next:U=>ie.next(U),error:U=>{ke=!0,Ne(),Te=Q(Pe,G,U),ie.error(U)},complete:()=>{pe=!0,Ne(),Te=Q(Pe,W),ie.complete()}}),(0,c.D)(fe).subscribe(Ee))})(De)}}function Q(z,le,...G){return!0===le?(z(),null):!1===le?null:le(...G).pipe((0,P.q)(1)).subscribe(()=>z())}},9468:(Ze,q,R)=>{"use strict";R.d(q,{R:()=>P});var c=R(4482);function P(A,L=0){return(0,c.e)((B,H)=>{H.add(A.schedule(()=>B.subscribe(H),L))})}},5698:(Ze,q,R)=>{"use strict";R.d(q,{q:()=>L});var c=R(515),P=R(4482),A=R(5403);function L(B){return B<=0?()=>c.E:(0,P.e)((H,Q)=>{let z=0;H.subscribe((0,A.x)(Q,le=>{++z<=B&&(Q.next(le),B<=z&&Q.complete())}))})}},8505:(Ze,q,R)=>{"use strict";R.d(q,{b:()=>B});var c=R(576),P=R(4482),A=R(5403),L=R(4671);function B(H,Q,z){const le=(0,c.m)(H)||Q||z?{next:H,error:Q,complete:z}:H;return le?(0,P.e)((G,W)=>{var te;null===(te=le.subscribe)||void 0===te||te.call(le);let De=!0;G.subscribe((0,A.x)(W,Ee=>{var Te;null===(Te=le.next)||void 0===Te||Te.call(le,Ee),W.next(Ee)},()=>{var Ee;De=!1,null===(Ee=le.complete)||void 0===Ee||Ee.call(le),W.complete()},Ee=>{var Te;De=!1,null===(Te=le.error)||void 0===Te||Te.call(le,Ee),W.error(Ee)},()=>{var Ee,Te;De&&(null===(Ee=le.unsubscribe)||void 0===Ee||Ee.call(le)),null===(Te=le.finalize)||void 0===Te||Te.call(le)}))}):L.y}},4408:(Ze,q,R)=>{"use strict";R.d(q,{o:()=>B});var c=R(727);class P extends c.w0{constructor(Q,z){super()}schedule(Q,z=0){return this}}const A={setInterval(H,Q,...z){const{delegate:le}=A;return le?.setInterval?le.setInterval(H,Q,...z):setInterval(H,Q,...z)},clearInterval(H){const{delegate:Q}=A;return(Q?.clearInterval||clearInterval)(H)},delegate:void 0};var L=R(8737);class B extends P{constructor(Q,z){super(Q,z),this.scheduler=Q,this.work=z,this.pending=!1}schedule(Q,z=0){if(this.closed)return this;this.state=Q;const le=this.id,G=this.scheduler;return null!=le&&(this.id=this.recycleAsyncId(G,le,z)),this.pending=!0,this.delay=z,this.id=this.id||this.requestAsyncId(G,this.id,z),this}requestAsyncId(Q,z,le=0){return A.setInterval(Q.flush.bind(Q,this),le)}recycleAsyncId(Q,z,le=0){if(null!=le&&this.delay===le&&!1===this.pending)return z;A.clearInterval(z)}execute(Q,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const le=this._execute(Q,z);if(le)return le;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,z){let G,le=!1;try{this.work(Q)}catch(W){le=!0,G=W||new Error("Scheduled action threw falsy error")}if(le)return this.unsubscribe(),G}unsubscribe(){if(!this.closed){const{id:Q,scheduler:z}=this,{actions:le}=z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,L.P)(le,this),null!=Q&&(this.id=this.recycleAsyncId(z,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ze,q,R)=>{"use strict";R.d(q,{v:()=>A});var c=R(6063);class P{constructor(B,H=P.now){this.schedulerActionCtor=B,this.now=H}schedule(B,H=0,Q){return new this.schedulerActionCtor(this,B).schedule(Q,H)}}P.now=c.l.now;class A extends P{constructor(B,H=P.now){super(B,H),this.actions=[],this._active=!1,this._scheduled=void 0}flush(B){const{actions:H}=this;if(this._active)return void H.push(B);let Q;this._active=!0;do{if(Q=B.execute(B.state,B.delay))break}while(B=H.shift());if(this._active=!1,Q){for(;B=H.shift();)B.unsubscribe();throw Q}}}},4986:(Ze,q,R)=>{"use strict";R.d(q,{P:()=>L,z:()=>A});var c=R(4408);const A=new(R(7565).v)(c.o),L=A},6063:(Ze,q,R)=>{"use strict";R.d(q,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(Ze,q,R)=>{"use strict";R.d(q,{z:()=>c});const c={setTimeout(P,A,...L){const{delegate:B}=c;return B?.setTimeout?B.setTimeout(P,A,...L):setTimeout(P,A,...L)},clearTimeout(P){const{delegate:A}=c;return(A?.clearTimeout||clearTimeout)(P)},delegate:void 0}},2202:(Ze,q,R)=>{"use strict";R.d(q,{h:()=>P});const P=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ze,q,R)=>{"use strict";R.d(q,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ze,q,R)=>{"use strict";R.d(q,{_6:()=>H,jO:()=>L,yG:()=>B});var c=R(576),P=R(3532);function A(Q){return Q[Q.length-1]}function L(Q){return(0,c.m)(A(Q))?Q.pop():void 0}function B(Q){return(0,P.K)(A(Q))?Q.pop():void 0}function H(Q,z){return"number"==typeof A(Q)?Q.pop():z}},8737:(Ze,q,R)=>{"use strict";function c(P,A){if(P){const L=P.indexOf(A);0<=L&&P.splice(L,1)}}R.d(q,{P:()=>c})},3888:(Ze,q,R)=>{"use strict";function c(P){const L=P(B=>{Error.call(B),B.stack=(new Error).stack});return L.prototype=Object.create(Error.prototype),L.prototype.constructor=L,L}R.d(q,{d:()=>c})},2806:(Ze,q,R)=>{"use strict";R.d(q,{O:()=>L,x:()=>A});var c=R(2416);let P=null;function A(B){if(c.v.useDeprecatedSynchronousErrorHandling){const H=!P;if(H&&(P={errorThrown:!1,error:null}),B(),H){const{errorThrown:Q,error:z}=P;if(P=null,Q)throw z}}else B()}function L(B){c.v.useDeprecatedSynchronousErrorHandling&&P&&(P.errorThrown=!0,P.error=B)}},9672:(Ze,q,R)=>{"use strict";function c(P,A,L,B=0,H=!1){const Q=A.schedule(function(){L(),H?P.add(this.schedule(null,B)):this.unsubscribe()},B);if(P.add(Q),!H)return Q}R.d(q,{f:()=>c})},4671:(Ze,q,R)=>{"use strict";function c(P){return P}R.d(q,{y:()=>c})},1144:(Ze,q,R)=>{"use strict";R.d(q,{z:()=>c});const c=P=>P&&"number"==typeof P.length&&"function"!=typeof P},2206:(Ze,q,R)=>{"use strict";R.d(q,{D:()=>P});var c=R(576);function P(A){return Symbol.asyncIterator&&(0,c.m)(A?.[Symbol.asyncIterator])}},576:(Ze,q,R)=>{"use strict";function c(P){return"function"==typeof P}R.d(q,{m:()=>c})},3670:(Ze,q,R)=>{"use strict";R.d(q,{c:()=>A});var c=R(8822),P=R(576);function A(L){return(0,P.m)(L[c.L])}},6495:(Ze,q,R)=>{"use strict";R.d(q,{T:()=>A});var c=R(2202),P=R(576);function A(L){return(0,P.m)(L?.[c.h])}},8239:(Ze,q,R)=>{"use strict";R.d(q,{t:()=>P});var c=R(576);function P(A){return(0,c.m)(A?.then)}},3260:(Ze,q,R)=>{"use strict";R.d(q,{L:()=>L,Q:()=>A});var c=R(655),P=R(576);function A(B){return(0,c.FC)(this,arguments,function*(){const Q=B.getReader();try{for(;;){const{value:z,done:le}=yield(0,c.qq)(Q.read());if(le)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(z)}}finally{Q.releaseLock()}})}function L(B){return(0,P.m)(B?.getReader)}},3532:(Ze,q,R)=>{"use strict";R.d(q,{K:()=>P});var c=R(576);function P(A){return A&&(0,c.m)(A.schedule)}},4482:(Ze,q,R)=>{"use strict";R.d(q,{A:()=>P,e:()=>A});var c=R(576);function P(L){return(0,c.m)(L?.lift)}function A(L){return B=>{if(P(B))return B.lift(function(H){try{return L(H,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ze,q,R)=>{"use strict";function c(){}R.d(q,{Z:()=>c})},7849:(Ze,q,R)=>{"use strict";R.d(q,{h:()=>A});var c=R(2416),P=R(3410);function A(L){P.z.setTimeout(()=>{const{onUnhandledError:B}=c.v;if(!B)throw L;B(L)})}},4532:(Ze,q,R)=>{"use strict";function c(P){return new TypeError(`You provided ${null!==P&&"object"==typeof P?"an invalid object":`'${P}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(q,{z:()=>c})},5226:function(Ze){Ze.exports=function(){"use strict";const q="SweetAlert2:",c=b=>b.charAt(0).toUpperCase()+b.slice(1),P=b=>Array.prototype.slice.call(b),A=b=>{console.warn("".concat(q," ").concat("object"==typeof b?b.join(" "):b))},L=b=>{console.error("".concat(q," ").concat(b))},B=[],Q=(b,I)=>{(b=>{B.includes(b)||(B.push(b),A(b))})('"'.concat(b,'" is deprecated and will be removed in the next major release. Please use "').concat(I,'" instead.'))},z=b=>"function"==typeof b?b():b,le=b=>b&&"function"==typeof b.toPromise,G=b=>le(b)?b.toPromise():Promise.resolve(b),W=b=>b&&Promise.resolve(b)===b,De={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ee=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Te={},$e=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],he=b=>Object.prototype.hasOwnProperty.call(De,b),pe=b=>-1!==Ee.indexOf(b),ke=b=>Te[b],Ne=b=>{he(b)||A('Unknown parameter "'.concat(b,'"'))},Pe=b=>{$e.includes(b)&&A('The parameter "'.concat(b,'" is incompatible with toasts'))},Fe=b=>{ke(b)&&Q(b,ke(b))},ie=b=>{const I={};for(const T in b)I[b[T]]="swal2-"+b[T];return I},U=ie(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),me=ie(["success","warning","info","question","error"]),J=()=>document.body.querySelector(".".concat(U.container)),ne=b=>{const I=J();return I?I.querySelector(b):null},ae=b=>ne(".".concat(b)),ce=()=>ae(U.popup),_e=()=>ae(U.icon),ze=()=>ae(U.title),gt=()=>ae(U["html-container"]),Kt=()=>ae(U.image),$t=()=>ae(U["progress-steps"]),Qe=()=>ae(U["validation-message"]),Ft=()=>ne(".".concat(U.actions," .").concat(U.confirm)),on=()=>ne(".".concat(U.actions," .").concat(U.deny)),Ht=()=>ne(".".concat(U.loader)),Mt=()=>ne(".".concat(U.actions," .").concat(U.cancel)),Gt=()=>ae(U.actions),en=()=>ae(U.footer),Pn=()=>ae(U["timer-progress-bar"]),Rn=()=>ae(U.close),oi=()=>{const b=P(ce().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((T,K)=>{const xe=parseInt(T.getAttribute("tabindex")),ht=parseInt(K.getAttribute("tabindex"));return xe>ht?1:xe<ht?-1:0}),I=P(ce().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(T=>"-1"!==T.getAttribute("tabindex"));return(b=>{const I=[];for(let T=0;T<b.length;T++)-1===I.indexOf(b[T])&&I.push(b[T]);return I})(b.concat(I)).filter(T=>mt(T))},Lr=()=>Fn(document.body,U.shown)&&!Fn(document.body,U["toast-shown"])&&!Fn(document.body,U["no-backdrop"]),Vr=()=>ce()&&Fn(ce(),U.toast),Dr={previousBodyPadding:null},at=(b,I)=>{if(b.textContent="",I){const K=(new DOMParser).parseFromString(I,"text/html");P(K.querySelector("head").childNodes).forEach(xe=>{b.appendChild(xe)}),P(K.querySelector("body").childNodes).forEach(xe=>{b.appendChild(xe)})}},Fn=(b,I)=>{if(!I)return!1;const T=I.split(/\s+/);for(let K=0;K<T.length;K++)if(!b.classList.contains(T[K]))return!1;return!0},kt=(b,I,T)=>{if(((b,I)=>{P(b.classList).forEach(T=>{!Object.values(U).includes(T)&&!Object.values(me).includes(T)&&!Object.values(I.showClass).includes(T)&&b.classList.remove(T)})})(b,I),I.customClass&&I.customClass[T]){if("string"!=typeof I.customClass[T]&&!I.customClass[T].forEach)return A("Invalid type of customClass.".concat(T,'! Expected string or iterable object, got "').concat(typeof I.customClass[T],'"'));wt(b,I.customClass[T])}},sr=(b,I)=>{if(!I)return null;switch(I){case"select":case"textarea":case"file":return b.querySelector(".".concat(U.popup," > .").concat(U[I]));case"checkbox":return b.querySelector(".".concat(U.popup," > .").concat(U.checkbox," input"));case"radio":return b.querySelector(".".concat(U.popup," > .").concat(U.radio," input:checked"))||b.querySelector(".".concat(U.popup," > .").concat(U.radio," input:first-child"));case"range":return b.querySelector(".".concat(U.popup," > .").concat(U.range," input"));default:return b.querySelector(".".concat(U.popup," > .").concat(U.input))}},nr=b=>{if(b.focus(),"file"!==b.type){const I=b.value;b.value="",b.value=I}},Tr=(b,I,T)=>{!b||!I||("string"==typeof I&&(I=I.split(/\s+/).filter(Boolean)),I.forEach(K=>{Array.isArray(b)?b.forEach(xe=>{T?xe.classList.add(K):xe.classList.remove(K)}):T?b.classList.add(K):b.classList.remove(K)}))},wt=(b,I)=>{Tr(b,I,!0)},En=(b,I)=>{Tr(b,I,!1)},Ar=(b,I)=>{const T=P(b.childNodes);for(let K=0;K<T.length;K++)if(Fn(T[K],I))return T[K]},Bt=(b,I,T)=>{T==="".concat(parseInt(T))&&(T=parseInt(T)),T||0===parseInt(T)?b.style[I]="number"==typeof T?"".concat(T,"px"):T:b.style.removeProperty(I)},Ye=function(b){b.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},tt=b=>{b.style.display="none"},ai=(b,I,T,K)=>{const xe=b.querySelector(I);xe&&(xe.style[T]=K)},Vn=function(b,I){I?Ye(b,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):tt(b)},mt=b=>!(!b||!(b.offsetWidth||b.offsetHeight||b.getClientRects().length)),An=b=>b.scrollHeight>b.clientHeight,Cn=b=>{const I=window.getComputedStyle(b),T=parseFloat(I.getPropertyValue("animation-duration")||"0"),K=parseFloat(I.getPropertyValue("transition-duration")||"0");return T>0||K>0},se=function(b){let I=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const T=Pn();mt(T)&&(I&&(T.style.transition="none",T.style.width="100%"),setTimeout(()=>{T.style.transition="width ".concat(b/1e3,"s linear"),T.style.width="0%"},10))},ue=()=>typeof window>"u"||typeof document>"u",Z={},Ge=b=>new Promise(I=>{if(!b)return I();const T=window.scrollX,K=window.scrollY;Z.restoreFocusTimeout=setTimeout(()=>{Z.previousActiveElement instanceof HTMLElement?(Z.previousActiveElement.focus(),Z.previousActiveElement=null):document.body&&document.body.focus(),I()},100),window.scrollTo(T,K)}),ot='\n <div aria-labelledby="'.concat(U.title,'" aria-describedby="').concat(U["html-container"],'" class="').concat(U.popup,'" tabindex="-1">\n   <button type="button" class="').concat(U.close,'"></button>\n   <ul class="').concat(U["progress-steps"],'"></ul>\n   <div class="').concat(U.icon,'"></div>\n   <img class="').concat(U.image,'" />\n   <h2 class="').concat(U.title,'" id="').concat(U.title,'"></h2>\n   <div class="').concat(U["html-container"],'" id="').concat(U["html-container"],'"></div>\n   <input class="').concat(U.input,'" />\n   <input type="file" class="').concat(U.file,'" />\n   <div class="').concat(U.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(U.select,'"></select>\n   <div class="').concat(U.radio,'"></div>\n   <label for="').concat(U.checkbox,'" class="').concat(U.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(U.label,'"></span>\n   </label>\n   <textarea class="').concat(U.textarea,'"></textarea>\n   <div class="').concat(U["validation-message"],'" id="').concat(U["validation-message"],'"></div>\n   <div class="').concat(U.actions,'">\n     <div class="').concat(U.loader,'"></div>\n     <button type="button" class="').concat(U.confirm,'"></button>\n     <button type="button" class="').concat(U.deny,'"></button>\n     <button type="button" class="').concat(U.cancel,'"></button>\n   </div>\n   <div class="').concat(U.footer,'"></div>\n   <div class="').concat(U["timer-progress-bar-container"],'">\n     <div class="').concat(U["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),St=()=>{Z.currentInstance.resetValidationMessage()},X=b=>{const I=(()=>{const b=J();return!!b&&(b.remove(),En([document.documentElement,document.body],[U["no-backdrop"],U["toast-shown"],U["has-column"]]),!0)})();if(ue())return void L("SweetAlert2 requires document to initialize");const T=document.createElement("div");T.className=U.container,I&&wt(T,U["no-transition"]),at(T,ot);const K=(b=>"string"==typeof b?document.querySelector(b):b)(b.target);K.appendChild(T),(b=>{const I=ce();I.setAttribute("role",b.toast?"alert":"dialog"),I.setAttribute("aria-live",b.toast?"polite":"assertive"),b.toast||I.setAttribute("aria-modal","true")})(b),(b=>{"rtl"===window.getComputedStyle(b).direction&&wt(J(),U.rtl)})(K),(()=>{const b=ce(),I=Ar(b,U.input),T=Ar(b,U.file),K=b.querySelector(".".concat(U.range," input")),xe=b.querySelector(".".concat(U.range," output")),ht=Ar(b,U.select),wn=b.querySelector(".".concat(U.checkbox," input")),Yt=Ar(b,U.textarea);I.oninput=St,T.onchange=St,ht.onchange=St,wn.onchange=St,Yt.oninput=St,K.oninput=()=>{St(),xe.value=K.value},K.onchange=()=>{St(),xe.value=K.value}})(),ee(T,b)},ee=(b,I)=>{if(I.toast)return;const T=(b=>b[Math.floor(Math.random()*b.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"},{text:"\u042e\u0420\u0418\u0419 \u041f\u041e\u0414\u041e\u041b\u042f\u041a\u0410 \u0447\u0435\u0441\u0442\u043d\u043e <br> \u043e \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u0430\u0445 \u0420\u0423\u0421\u0421\u041a\u041e\u0419 \u0410\u0420\u041c\u0418\u0418",youtubeId:"w4-_8BJKfpk"},{text:"\u041f\u043e\u043b\u043a\u043e\u0432\u043d\u0438\u043a \u0424\u0421\u0411 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u043e\u0431 \u0443\u0441\u043f\u0435\u0445\u0430\u0445 \u0420\u041e\u0421\u0421\u0418\u0418 \u0432 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"saK5UTKroDA"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const K=document.createElement("div");K.className=U["no-war"],at(K,'<a href="https://www.youtube.com/watch?v='.concat(T.youtubeId,'" target="_blank">').concat(T.text,"</a>")),b.appendChild(K),b.style.paddingTop="4em"}},Re=(b,I)=>{b instanceof HTMLElement?I.appendChild(b):"object"==typeof b?Je(b,I):b&&at(I,b)},Je=(b,I)=>{b.jquery?bt(I,b):at(I,b.toString())},bt=(b,I)=>{if(b.textContent="",0 in I)for(let T=0;T in I;T++)b.appendChild(I[T].cloneNode(!0));else b.appendChild(I.cloneNode(!0))},Be=(()=>{if(ue())return!1;const b=document.createElement("div"),I={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const T in I)if(Object.prototype.hasOwnProperty.call(I,T)&&typeof b.style[T]<"u")return I[T];return!1})(),Tt=(b,I)=>{const T=Gt(),K=Ht();I.showConfirmButton||I.showDenyButton||I.showCancelButton?Ye(T):tt(T),kt(T,I,"actions"),function fn(b,I,T){const K=Ft(),xe=on(),ht=Mt();Ct(K,"confirm",T),Ct(xe,"deny",T),Ct(ht,"cancel",T),function or(b,I,T,K){if(!K.buttonsStyling)return En([b,I,T],U.styled);wt([b,I,T],U.styled),K.confirmButtonColor&&(b.style.backgroundColor=K.confirmButtonColor,wt(b,U["default-outline"])),K.denyButtonColor&&(I.style.backgroundColor=K.denyButtonColor,wt(I,U["default-outline"])),K.cancelButtonColor&&(T.style.backgroundColor=K.cancelButtonColor,wt(T,U["default-outline"]))}(K,xe,ht,T),T.reverseButtons&&(T.toast?(b.insertBefore(ht,K),b.insertBefore(xe,K)):(b.insertBefore(ht,I),b.insertBefore(xe,I),b.insertBefore(K,I)))}(T,K,I),at(K,I.loaderHtml),kt(K,I,"loader")};function Ct(b,I,T){Vn(b,T["show".concat(c(I),"Button")],"inline-block"),at(b,T["".concat(I,"ButtonText")]),b.setAttribute("aria-label",T["".concat(I,"ButtonAriaLabel")]),b.className=U[I],kt(b,T,"".concat(I,"Button")),wt(b,T["".concat(I,"ButtonClass")])}const rr=(b,I)=>{const T=J();!T||(function Sn(b,I){"string"==typeof I?b.style.background=I:I||wt([document.documentElement,document.body],U["no-backdrop"])}(T,I.backdrop),function Js(b,I){I in U?wt(b,U[I]):(A('The "position" parameter is not valid, defaulting to "center"'),wt(b,U.center))}(T,I.position),function xi(b,I){if(I&&"string"==typeof I){const T="grow-".concat(I);T in U&&wt(b,U[T])}}(T,I.grow),kt(T,I,"container"))};var et={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Kn=["input","file","range","select","radio","checkbox","textarea"],Mo=b=>{if(!qt[b.input])return L('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(b.input,'"'));const I=Wi(b.input),T=qt[b.input](I,b);Ye(I),setTimeout(()=>{nr(T)})},ar=(b,I)=>{const T=sr(ce(),b);if(T){(b=>{for(let I=0;I<b.attributes.length;I++){const T=b.attributes[I].name;["type","value","style"].includes(T)||b.removeAttribute(T)}})(T);for(const K in I)T.setAttribute(K,I[K])}},Ts=b=>{const I=Wi(b.input);"object"==typeof b.customClass&&wt(I,b.customClass.input)},Mi=(b,I)=>{(!b.placeholder||I.inputPlaceholder)&&(b.placeholder=I.inputPlaceholder)},Nn=(b,I,T)=>{if(T.inputLabel){b.id=U.input;const K=document.createElement("label"),xe=U["input-label"];K.setAttribute("for",b.id),K.className=xe,"object"==typeof T.customClass&&wt(K,T.customClass.inputLabel),K.innerText=T.inputLabel,I.insertAdjacentElement("beforebegin",K)}},Wi=b=>Ar(ce(),U[b]||U.input),$n=(b,I)=>{["string","number"].includes(typeof I)?b.value="".concat(I):W(I)||A('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof I,'"'))},qt={};qt.text=qt.email=qt.password=qt.number=qt.tel=qt.url=(b,I)=>($n(b,I.inputValue),Nn(b,b,I),Mi(b,I),b.type=I.input,b),qt.file=(b,I)=>(Nn(b,b,I),Mi(b,I),b),qt.range=(b,I)=>{const T=b.querySelector("input"),K=b.querySelector("output");return $n(T,I.inputValue),T.type=I.input,$n(K,I.inputValue),Nn(T,b,I),b},qt.select=(b,I)=>{if(b.textContent="",I.inputPlaceholder){const T=document.createElement("option");at(T,I.inputPlaceholder),T.value="",T.disabled=!0,T.selected=!0,b.appendChild(T)}return Nn(b,b,I),b},qt.radio=b=>(b.textContent="",b),qt.checkbox=(b,I)=>{const T=sr(ce(),"checkbox");T.value="1",T.id=U.checkbox,T.checked=Boolean(I.inputValue);const K=b.querySelector("span");return at(K,I.inputPlaceholder),T},qt.textarea=(b,I)=>{$n(b,I.inputValue),Mi(b,I),Nn(b,b,I);return setTimeout(()=>{if("MutationObserver"in window){const K=parseInt(window.getComputedStyle(ce()).width);new MutationObserver(()=>{const ht=b.offsetWidth+(K=>parseInt(window.getComputedStyle(K).marginLeft)+parseInt(window.getComputedStyle(K).marginRight))(b);ce().style.width=ht>K?"".concat(ht,"px"):null}).observe(b,{attributes:!0,attributeFilter:["style"]})}}),b};const Ya=(b,I)=>{const T=gt();kt(T,I,"htmlContainer"),I.html?(Re(I.html,T),Ye(T,"block")):I.text?(T.textContent=I.text,Ye(T,"block")):tt(T),((b,I)=>{const T=ce(),K=et.innerParams.get(b),xe=!K||I.input!==K.input;Kn.forEach(ht=>{const wn=Ar(T,U[ht]);ar(ht,I.inputAttributes),wn.className=U[ht],xe&&tt(wn)}),I.input&&(xe&&Mo(I),Ts(I))})(b,I)},Ri=(b,I)=>{for(const T in me)I.icon!==T&&En(b,me[T]);wt(b,me[I.icon]),Br(b,I),Ss(),kt(b,I,"icon")},Ss=()=>{const b=ce(),I=window.getComputedStyle(b).getPropertyValue("background-color"),T=b.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let K=0;K<T.length;K++)T[K].style.backgroundColor=I},is=(b,I)=>{let K,T=b.innerHTML;I.iconHtml?K=lr(I.iconHtml):"success"===I.icon?(K='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',T=T.replace(/ style=".*?"/g,"")):K="error"===I.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':lr({question:"?",warning:"!",info:"i"}[I.icon]),T.trim()!==K.trim()&&at(b,K)},Br=(b,I)=>{if(I.iconColor){b.style.color=I.iconColor,b.style.borderColor=I.iconColor;for(const T of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ai(b,T,"backgroundColor",I.iconColor);ai(b,".swal2-success-ring","borderColor",I.iconColor)}},lr=b=>'<div class="'.concat(U["icon-content"],'">').concat(b,"</div>"),Qa=b=>{const I=document.createElement("li");return wt(I,U["progress-step"]),at(I,b),I},ui=b=>{const I=document.createElement("li");return wt(I,U["progress-step-line"]),b.progressStepsDistance&&Bt(I,"width",b.progressStepsDistance),I},Ol=(b,I)=>{b.className="".concat(U.popup," ").concat(mt(b)?I.showClass.popup:""),I.toast?(wt([document.documentElement,document.body],U["toast-shown"]),wt(b,U.toast)):wt(b,U.modal),kt(b,I,"popup"),"string"==typeof I.customClass&&wt(b,I.customClass),I.icon&&wt(b,U["icon-".concat(I.icon)])},pa=(b,I)=>{((b,I)=>{const T=J(),K=ce();I.toast?(Bt(T,"width",I.width),K.style.width="100%",K.insertBefore(Ht(),_e())):Bt(K,"width",I.width),Bt(K,"padding",I.padding),I.color&&(K.style.color=I.color),I.background&&(K.style.background=I.background),tt(Qe()),Ol(K,I)})(0,I),rr(0,I),((b,I)=>{const T=$t();if(!I.progressSteps||0===I.progressSteps.length)return tt(T);Ye(T),T.textContent="",I.currentProgressStep>=I.progressSteps.length&&A("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),I.progressSteps.forEach((K,xe)=>{const ht=Qa(K);if(T.appendChild(ht),xe===I.currentProgressStep&&wt(ht,U["active-progress-step"]),xe!==I.progressSteps.length-1){const wn=ui(I);T.appendChild(wn)}})})(0,I),((b,I)=>{const T=et.innerParams.get(b),K=_e();T&&I.icon===T.icon?(is(K,I),Ri(K,I)):I.icon||I.iconHtml?I.icon&&-1===Object.keys(me).indexOf(I.icon)?(L('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(I.icon,'"')),tt(K)):(Ye(K),is(K,I),Ri(K,I),wt(K,I.showClass.icon)):tt(K)})(b,I),((b,I)=>{const T=Kt();if(!I.imageUrl)return tt(T);Ye(T,""),T.setAttribute("src",I.imageUrl),T.setAttribute("alt",I.imageAlt),Bt(T,"width",I.imageWidth),Bt(T,"height",I.imageHeight),T.className=U.image,kt(T,I,"image")})(0,I),((b,I)=>{const T=ze();Vn(T,I.title||I.titleText,"block"),I.title&&Re(I.title,T),I.titleText&&(T.innerText=I.titleText),kt(T,I,"title")})(0,I),((b,I)=>{const T=Rn();at(T,I.closeButtonHtml),kt(T,I,"closeButton"),Vn(T,I.showCloseButton),T.setAttribute("aria-label",I.closeButtonAriaLabel)})(0,I),Ya(b,I),Tt(0,I),((b,I)=>{const T=en();Vn(T,I.footer),I.footer&&Re(I.footer,T),kt(T,I,"footer")})(0,I),"function"==typeof I.didRender&&I.didRender(ce())},Zi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Kr=()=>{P(document.body.children).forEach(I=>{I.hasAttribute("data-previous-aria-hidden")?(I.setAttribute("aria-hidden",I.getAttribute("data-previous-aria-hidden")),I.removeAttribute("data-previous-aria-hidden")):I.removeAttribute("aria-hidden")})},Fl=["swal-title","swal-html","swal-footer"],Yc=b=>{const I={};return P(b.querySelectorAll("swal-param")).forEach(T=>{eo(T,["name","value"]);const K=T.getAttribute("name"),xe=T.getAttribute("value");"boolean"==typeof De[K]&&"false"===xe&&(I[K]=!1),"object"==typeof De[K]&&(I[K]=JSON.parse(xe))}),I},Nu=b=>{const I={};return P(b.querySelectorAll("swal-button")).forEach(T=>{eo(T,["type","color","aria-label"]);const K=T.getAttribute("type");I["".concat(K,"ButtonText")]=T.innerHTML,I["show".concat(c(K),"Button")]=!0,T.hasAttribute("color")&&(I["".concat(K,"ButtonColor")]=T.getAttribute("color")),T.hasAttribute("aria-label")&&(I["".concat(K,"ButtonAriaLabel")]=T.getAttribute("aria-label"))}),I},Qc=b=>{const I={},T=b.querySelector("swal-image");return T&&(eo(T,["src","width","height","alt"]),T.hasAttribute("src")&&(I.imageUrl=T.getAttribute("src")),T.hasAttribute("width")&&(I.imageWidth=T.getAttribute("width")),T.hasAttribute("height")&&(I.imageHeight=T.getAttribute("height")),T.hasAttribute("alt")&&(I.imageAlt=T.getAttribute("alt"))),I},Ro=b=>{const I={},T=b.querySelector("swal-icon");return T&&(eo(T,["type","color"]),T.hasAttribute("type")&&(I.icon=T.getAttribute("type")),T.hasAttribute("color")&&(I.iconColor=T.getAttribute("color")),I.iconHtml=T.innerHTML),I},Xs=b=>{const I={},T=b.querySelector("swal-input");T&&(eo(T,["type","label","placeholder","value"]),I.input=T.getAttribute("type")||"text",T.hasAttribute("label")&&(I.inputLabel=T.getAttribute("label")),T.hasAttribute("placeholder")&&(I.inputPlaceholder=T.getAttribute("placeholder")),T.hasAttribute("value")&&(I.inputValue=T.getAttribute("value")));const K=b.querySelectorAll("swal-input-option");return K.length&&(I.inputOptions={},P(K).forEach(xe=>{eo(xe,["value"]);const ht=xe.getAttribute("value");I.inputOptions[ht]=xe.innerHTML})),I},ku=(b,I)=>{const T={};for(const K in I){const xe=I[K],ht=b.querySelector(xe);ht&&(eo(ht,[]),T[xe.replace(/^swal-/,"")]=ht.innerHTML.trim())}return T},Ll=b=>{const I=Fl.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);P(b.children).forEach(T=>{const K=T.tagName.toLowerCase();-1===I.indexOf(K)&&A("Unrecognized element <".concat(K,">"))})},eo=(b,I)=>{P(b.attributes).forEach(T=>{-1===I.indexOf(T.name)&&A(['Unrecognized attribute "'.concat(T.name,'" on <').concat(b.tagName.toLowerCase(),">."),"".concat(I.length?"Allowed attributes are: ".concat(I.join(", ")):"To set the value, use HTML within the element.")])})};var ga={email:(b,I)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(b)?Promise.resolve():Promise.resolve(I||"Invalid email address"),url:(b,I)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(b)?Promise.resolve():Promise.resolve(I||"Invalid URL")};function vh(b){(function ss(b){b.inputValidator||Object.keys(ga).forEach(I=>{b.input===I&&(b.inputValidator=ga[I])})})(b),b.showLoaderOnConfirm&&!b.preConfirm&&A("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function Xa(b){(!b.target||"string"==typeof b.target&&!document.querySelector(b.target)||"string"!=typeof b.target&&!b.target.appendChild)&&(A('Target parameter is not valid, defaulting to "body"'),b.target="body")}(b),"string"==typeof b.title&&(b.title=b.title.split("\n").join("<br />")),X(b)}class to{constructor(I,T){this.callback=I,this.remaining=T,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(I){const T=this.running;return T&&this.stop(),this.remaining+=I,T&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const _h=()=>{null===Dr.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Dr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Dr.previousBodyPadding+(()=>{const b=document.createElement("div");b.className=U["scrollbar-measure"],document.body.appendChild(b);const I=b.getBoundingClientRect().width-b.clientWidth;return document.body.removeChild(b),I})(),"px"))},os=()=>{const b=navigator.userAgent,I=!!b.match(/iPad/i)||!!b.match(/iPhone/i),T=!!b.match(/WebKit/i);I&&T&&!b.match(/CriOS/i)&&ce().scrollHeight>window.innerHeight-44&&(J().style.paddingBottom="".concat(44,"px"))},Rs=()=>{const b=J();let I;b.ontouchstart=T=>{I=Ou(T)},b.ontouchmove=T=>{I&&(T.preventDefault(),T.stopPropagation())}},Ou=b=>{const I=b.target,T=J();return!(ma(b)||ya(b)||I!==T&&(An(T)||"INPUT"===I.tagName||"TEXTAREA"===I.tagName||An(gt())&&gt().contains(I)))},ma=b=>b.touches&&b.touches.length&&"stylus"===b.touches[0].touchType,ya=b=>b.touches&&b.touches.length>1,Lu=b=>{const I=J(),T=ce();"function"==typeof b.willOpen&&b.willOpen(T);const xe=window.getComputedStyle(document.body).overflowY;Po(I,T,b),setTimeout(()=>{Hn(I,T)},10),Lr()&&(va(I,b.scrollbarPadding,xe),P(document.body.children).forEach(I=>{I===J()||I.contains(J())||(I.hasAttribute("aria-hidden")&&I.setAttribute("data-previous-aria-hidden",I.getAttribute("aria-hidden")),I.setAttribute("aria-hidden","true"))})),!Vr()&&!Z.previousActiveElement&&(Z.previousActiveElement=document.activeElement),"function"==typeof b.didOpen&&setTimeout(()=>b.didOpen(T)),En(I,U["no-transition"])},mi=b=>{const I=ce();if(b.target!==I)return;const T=J();I.removeEventListener(Be,mi),T.style.overflowY="auto"},Hn=(b,I)=>{Be&&Cn(I)?(b.style.overflowY="hidden",I.addEventListener(Be,mi)):b.style.overflowY="auto"},va=(b,I,T)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Fn(document.body,U.iosfix)){const I=document.body.scrollTop;document.body.style.top="".concat(-1*I,"px"),wt(document.body,U.iosfix),Rs(),os()}})(),I&&"hidden"!==T&&_h(),setTimeout(()=>{b.scrollTop=0})},Po=(b,I,T)=>{wt(b,T.showClass.backdrop),I.style.setProperty("opacity","0","important"),Ye(I,"grid"),setTimeout(()=>{wt(I,T.showClass.popup),I.style.removeProperty("opacity")},10),wt([document.documentElement,document.body],U.shown),T.heightAuto&&T.backdrop&&!T.toast&&wt([document.documentElement,document.body],U["height-auto"])},Gn=b=>{let I=ce();I||new ps,I=ce();const T=Ht();Vr()?tt(_e()):_a(I,b),Ye(T),I.setAttribute("data-loading","true"),I.setAttribute("aria-busy","true"),I.focus()},_a=(b,I)=>{const T=Gt(),K=Ht();!I&&mt(Ft())&&(I=Ft()),Ye(T),I&&(tt(I),K.setAttribute("data-button-to-replace",I.className)),K.parentNode.insertBefore(K,I),wt([b,T],U.loading)},eu=b=>b.checked?1:0,wa=b=>b.checked?b.value:null,Vl=b=>b.files.length?null!==b.getAttribute("multiple")?b.files:b.files[0]:null,pn=(b,I)=>{const T=ce(),K=xe=>ba[I.input](T,xn(xe),I);le(I.inputOptions)||W(I.inputOptions)?(Gn(Ft()),G(I.inputOptions).then(xe=>{b.hideLoading(),K(xe)})):"object"==typeof I.inputOptions?K(I.inputOptions):L("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof I.inputOptions))},io=(b,I)=>{const T=b.getInput();tt(T),G(I.inputValue).then(K=>{T.value="number"===I.input?parseFloat(K)||0:"".concat(K),Ye(T),T.focus(),b.hideLoading()}).catch(K=>{L("Error in inputValue promise: ".concat(K)),T.value="",Ye(T),T.focus(),b.hideLoading()})},ba={select:(b,I,T)=>{const K=Ar(b,U.select),xe=(ht,wn,Yt)=>{const kn=document.createElement("option");kn.value=Yt,at(kn,wn),kn.selected=Ps(Yt,T.inputValue),ht.appendChild(kn)};I.forEach(ht=>{const wn=ht[0],Yt=ht[1];if(Array.isArray(Yt)){const kn=document.createElement("optgroup");kn.label=wn,kn.disabled=!1,K.appendChild(kn),Yt.forEach(yt=>xe(kn,yt[1],yt[0]))}else xe(K,Yt,wn)}),K.focus()},radio:(b,I,T)=>{const K=Ar(b,U.radio);I.forEach(ht=>{const wn=ht[0],Yt=ht[1],kn=document.createElement("input"),yt=document.createElement("label");kn.type="radio",kn.name=U.radio,kn.value=wn,Ps(wn,T.inputValue)&&(kn.checked=!0);const Sr=document.createElement("span");at(Sr,Yt),Sr.className=U.label,yt.appendChild(kn),yt.appendChild(Sr),K.appendChild(yt)});const xe=K.querySelectorAll("input");xe.length&&xe[0].focus()}},xn=b=>{const I=[];return typeof Map<"u"&&b instanceof Map?b.forEach((T,K)=>{let xe=T;"object"==typeof xe&&(xe=xn(xe)),I.push([K,xe])}):Object.keys(b).forEach(T=>{let K=b[T];"object"==typeof K&&(K=xn(K)),I.push([T,K])}),I},Ps=(b,I)=>I&&I.toString()===b.toString();function Ns(){const b=et.innerParams.get(this);if(!b)return;const I=et.domCache.get(this);tt(I.loader),Vr()?b.icon&&Ye(_e()):yi(I),En([I.popup,I.actions],U.loading),I.popup.removeAttribute("aria-busy"),I.popup.removeAttribute("data-loading"),I.confirmButton.disabled=!1,I.denyButton.disabled=!1,I.cancelButton.disabled=!1}const yi=b=>{const I=b.popup.getElementsByClassName(b.loader.getAttribute("data-button-to-replace"));I.length?Ye(I[0],"inline-block"):!mt(Ft())&&!mt(on())&&!mt(Mt())&&tt(b.actions)};var vi={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const _i=()=>Ft()&&Ft().click(),as=b=>{b.keydownTarget&&b.keydownHandlerAdded&&(b.keydownTarget.removeEventListener("keydown",b.keydownHandler,{capture:b.keydownListenerCapture}),b.keydownHandlerAdded=!1)},cr=(b,I,T)=>{const K=oi();if(K.length)return(I+=T)===K.length?I=0:-1===I&&(I=K.length-1),K[I].focus();ce().focus()},Os=["ArrowRight","ArrowDown"],us=["ArrowLeft","ArrowUp"],Pt=(b,I,T)=>{const K=et.innerParams.get(b);!K||I.isComposing||229===I.keyCode||(K.stopKeydownPropagation&&I.stopPropagation(),"Enter"===I.key?ki(b,I,K):"Tab"===I.key?so(I,K):[...Os,...us].includes(I.key)?oo(I.key):"Escape"===I.key&&ao(I,K,T))},ki=(b,I,T)=>{if(z(T.allowEnterKey)&&I.target&&b.getInput()&&I.target instanceof HTMLElement&&I.target.outerHTML===b.getInput().outerHTML){if(["textarea","file"].includes(T.input))return;_i(),I.preventDefault()}},so=(b,I)=>{const T=b.target,K=oi();let xe=-1;for(let ht=0;ht<K.length;ht++)if(T===K[ht]){xe=ht;break}cr(0,xe,b.shiftKey?-1:1),b.stopPropagation(),b.preventDefault()},oo=b=>{const I=Ft(),T=on(),K=Mt();if(document.activeElement instanceof HTMLElement&&![I,T,K].includes(document.activeElement))return;const xe=Os.includes(b)?"nextElementSibling":"previousElementSibling";let ht=document.activeElement;for(let wn=0;wn<Gt().children.length;wn++){if(ht=ht[xe],!ht)return;if(ht instanceof HTMLButtonElement&&mt(ht))break}ht instanceof HTMLButtonElement&&ht.focus()},ao=(b,I,T)=>{z(I.allowEscapeKey)&&(b.preventDefault(),T(Zi.esc))};function nu(b,I,T,K){Vr()?cs(b,K):(Ge(T).then(()=>cs(b,K)),as(Z)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(I.setAttribute("style","display:none !important"),I.removeAttribute("class"),I.innerHTML=""):I.remove(),Lr()&&(null!==Dr.previousBodyPadding&&(document.body.style.paddingRight="".concat(Dr.previousBodyPadding,"px"),Dr.previousBodyPadding=null),(()=>{if(Fn(document.body,U.iosfix)){const b=parseInt(document.body.style.top,10);En(document.body,U.iosfix),document.body.style.top="",document.body.scrollTop=-1*b}})(),Kr()),function Fs(){En([document.documentElement,document.body],[U.shown,U["height-auto"],U["no-backdrop"],U["toast-shown"]])}()}function No(b){b=Ls(b);const I=vi.swalPromiseResolve.get(this),T=He(this);this.isAwaitingPromise()?b.isDismissed||(wi(this),I(b)):T&&I(b)}const He=b=>{const I=ce();if(!I)return!1;const T=et.innerParams.get(b);if(!T||Fn(I,T.hideClass.popup))return!1;En(I,T.showClass.popup),wt(I,T.hideClass.popup);const K=J();return En(K,T.showClass.backdrop),wt(K,T.hideClass.backdrop),ir(b,I,T),!0};const wi=b=>{b.isAwaitingPromise()&&(et.awaitingPromise.delete(b),et.innerParams.get(b)||b._destroy())},Ls=b=>typeof b>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},b),ir=(b,I,T)=>{const K=J(),xe=Be&&Cn(I);"function"==typeof T.willClose&&T.willClose(I),xe?ls(b,I,K,T.returnFocus,T.didClose):nu(b,K,T.returnFocus,T.didClose)},ls=(b,I,T,K,xe)=>{Z.swalCloseEventFinishedCallback=nu.bind(null,b,T,K,xe),I.addEventListener(Be,function(ht){ht.target===I&&(Z.swalCloseEventFinishedCallback(),delete Z.swalCloseEventFinishedCallback)})},cs=(b,I)=>{setTimeout(()=>{"function"==typeof I&&I.bind(b.params)(),b._destroy()})};function $r(b,I,T){const K=et.domCache.get(b);I.forEach(xe=>{K[xe].disabled=T})}function Oo(b,I){if(!b)return!1;if("radio"===b.type){const K=b.parentNode.parentNode.querySelectorAll("input");for(let xe=0;xe<K.length;xe++)K[xe].disabled=I}else b.disabled=I}const Oi=b=>{const I={};return Object.keys(b).forEach(T=>{pe(T)?I[T]=b[T]:A("Invalid parameter to update: ".concat(T))}),I};const Fo=b=>{Lo(b),delete b.params,delete Z.keydownHandler,delete Z.keydownTarget,delete Z.currentInstance},Lo=b=>{b.isAwaitingPromise()?(uo(et,b),et.awaitingPromise.set(b,!0)):(uo(vi,b),uo(et,b))},uo=(b,I)=>{for(const T in b)b[T].delete(I)};var Bu=Object.freeze({hideLoading:Ns,disableLoading:Ns,getInput:function jr(b){const I=et.innerParams.get(b||this),T=et.domCache.get(b||this);return T?sr(T.popup,I.input):null},close:No,isAwaitingPromise:function ko(){return!!et.awaitingPromise.get(this)},rejectPromise:function Zt(b){const I=vi.swalPromiseReject.get(this);wi(this),I&&I(b)},handleAwaitingPromise:wi,closePopup:No,closeModal:No,closeToast:No,enableButtons:function Ea(){$r(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function Uu(){$r(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function Ul(){return Oo(this.getInput(),!1)},disableInput:function Bl(){return Oo(this.getInput(),!0)},showValidationMessage:function Vs(b){const I=et.domCache.get(this),T=et.innerParams.get(this);at(I.validationMessage,b),I.validationMessage.className=U["validation-message"],T.customClass&&T.customClass.validationMessage&&wt(I.validationMessage,T.customClass.validationMessage),Ye(I.validationMessage);const K=this.getInput();K&&(K.setAttribute("aria-invalid",!0),K.setAttribute("aria-describedby",U["validation-message"]),nr(K),wt(K,U.inputerror))},resetValidationMessage:function dr(){const b=et.domCache.get(this);b.validationMessage&&tt(b.validationMessage);const I=this.getInput();I&&(I.removeAttribute("aria-invalid"),I.removeAttribute("aria-describedby"),En(I,U.inputerror))},getProgressSteps:function bi(){return et.domCache.get(this).progressSteps},update:function Ca(b){const I=ce(),T=et.innerParams.get(this);if(!I||Fn(I,T.hideClass.popup))return A("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const K=Oi(b),xe=Object.assign({},T,K);pa(this,xe),et.innerParams.set(this,xe),Object.defineProperties(this,{params:{value:Object.assign({},this.params,b),writable:!1,enumerable:!0}})},_destroy:function Yi(){const b=et.domCache.get(this),I=et.innerParams.get(this);I?(b.popup&&Z.swalCloseEventFinishedCallback&&(Z.swalCloseEventFinishedCallback(),delete Z.swalCloseEventFinishedCallback),"function"==typeof I.didDestroy&&I.didDestroy(),Fo(this)):Lo(this)}});const Vo=(b,I)=>{const T=et.innerParams.get(b);if(!T.input)return L('The "input" parameter is needed to be set when using returnInputValueOn'.concat(c(I)));const K=((b,I)=>{const T=b.getInput();if(!T)return null;switch(I.input){case"checkbox":return eu(T);case"radio":return wa(T);case"file":return Vl(T);default:return I.inputAutoTrim?T.value.trim():T.value}})(b,T);T.inputValidator?jl(b,K,I):b.getInput().checkValidity()?"deny"===I?ds(b,K):Ji(b,K):(b.enableButtons(),b.showValidationMessage(T.validationMessage))},jl=(b,I,T)=>{const K=et.innerParams.get(b);b.disableInput(),Promise.resolve().then(()=>G(K.inputValidator(I,K.validationMessage))).then(ht=>{b.enableButtons(),b.enableInput(),ht?b.showValidationMessage(ht):"deny"===T?ds(b,I):Ji(b,I)})},ds=(b,I)=>{const T=et.innerParams.get(b||void 0);T.showLoaderOnDeny&&Gn(on()),T.preDeny?(et.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>G(T.preDeny(I,T.validationMessage))).then(xe=>{!1===xe?(b.hideLoading(),wi(b)):b.closePopup({isDenied:!0,value:typeof xe>"u"?I:xe})}).catch(xe=>Uo(b||void 0,xe))):b.closePopup({isDenied:!0,value:I})},Qi=(b,I)=>{b.closePopup({isConfirmed:!0,value:I})},Uo=(b,I)=>{b.rejectPromise(I)},Ji=(b,I)=>{const T=et.innerParams.get(b||void 0);T.showLoaderOnConfirm&&Gn(),T.preConfirm?(b.resetValidationMessage(),et.awaitingPromise.set(b||void 0,!0),Promise.resolve().then(()=>G(T.preConfirm(I,T.validationMessage))).then(xe=>{mt(Qe())||!1===xe?(b.hideLoading(),wi(b)):Qi(b,typeof xe>"u"?I:xe)}).catch(xe=>Uo(b||void 0,xe))):Qi(b,I)},$u=(b,I,T)=>{I.popup.onclick=()=>{const K=et.innerParams.get(b);K&&(Ia(K)||K.timer||K.input)||T(Zi.close)}},Ia=b=>b.showConfirmButton||b.showDenyButton||b.showCancelButton||b.showCloseButton;let co=!1;const Hu=b=>{b.popup.onmousedown=()=>{b.container.onmouseup=function(I){b.container.onmouseup=void 0,I.target===b.container&&(co=!0)}}},hr=b=>{b.container.onmousedown=()=>{b.popup.onmouseup=function(I){b.popup.onmouseup=void 0,(I.target===b.popup||b.popup.contains(I.target))&&(co=!0)}}},Bs=(b,I,T)=>{I.container.onclick=K=>{const xe=et.innerParams.get(b);co?co=!1:K.target===I.container&&z(xe.allowOutsideClick)&&T(Zi.backdrop)}},wh=b=>b instanceof Element||(b=>"object"==typeof b&&b.jquery)(b);const ou=()=>{if(Z.timeout)return(()=>{const b=Pn(),I=parseInt(window.getComputedStyle(b).width);b.style.removeProperty("transition"),b.style.width="100%";const K=I/parseInt(window.getComputedStyle(b).width)*100;b.style.removeProperty("transition"),b.style.width="".concat(K,"%")})(),Z.timeout.stop()},hs=()=>{if(Z.timeout){const b=Z.timeout.start();return se(b),b}};let Qn=!1;const uu={};const fo=b=>{for(let I=b.target;I&&I!==document;I=I.parentNode)for(const T in uu){const K=I.getAttribute(T);if(K)return void uu[T].fire({template:K})}};var Gu=Object.freeze({isValidParameter:he,isUpdatableParameter:pe,isDeprecatedParameter:ke,argsToParams:b=>{const I={};return"object"!=typeof b[0]||wh(b[0])?["title","html","icon"].forEach((T,K)=>{const xe=b[K];"string"==typeof xe||wh(xe)?I[T]=xe:void 0!==xe&&L("Unexpected type of ".concat(T,'! Expected "string" or "Element", got ').concat(typeof xe))}):Object.assign(I,b[0]),I},isVisible:()=>mt(ce()),clickConfirm:_i,clickDeny:()=>on()&&on().click(),clickCancel:()=>Mt()&&Mt().click(),getContainer:J,getPopup:ce,getTitle:ze,getHtmlContainer:gt,getImage:Kt,getIcon:_e,getInputLabel:()=>ae(U["input-label"]),getCloseButton:Rn,getActions:Gt,getConfirmButton:Ft,getDenyButton:on,getCancelButton:Mt,getLoader:Ht,getFooter:en,getTimerProgressBar:Pn,getFocusableElements:oi,getValidationMessage:Qe,isLoading:()=>ce().hasAttribute("data-loading"),fire:function ho(){const b=this;for(var I=arguments.length,T=new Array(I),K=0;K<I;K++)T[K]=arguments[K];return new b(...T)},mixin:function bh(b){return class I extends(this){_main(K,xe){return super._main(K,Object.assign({},b,xe))}}},showLoading:Gn,enableLoading:Gn,getTimerLeft:()=>Z.timeout&&Z.timeout.getTimerLeft(),stopTimer:ou,resumeTimer:hs,toggleTimer:()=>{const b=Z.timeout;return b&&(b.running?ou():hs())},increaseTimer:b=>{if(Z.timeout){const I=Z.timeout.increase(b);return se(I,!0),I}},isTimerRunning:()=>Z.timeout&&Z.timeout.isRunning(),bindClickHandler:function fs(){uu[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Qn||(document.body.addEventListener("click",fo),Qn=!0)}});let Ei;class Yr{constructor(){if(typeof window>"u")return;Ei=this;for(var I=arguments.length,T=new Array(I),K=0;K<I;K++)T[K]=arguments[K];const xe=Object.freeze(this.constructor.argsToParams(T));Object.defineProperties(this,{params:{value:xe,writable:!1,enumerable:!0,configurable:!0}});const ht=Ei._main(Ei.params);et.promise.set(this,ht)}_main(I){let T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(b=>{!b.backdrop&&b.allowOutsideClick&&A('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const I in b)Ne(I),b.toast&&Pe(I),Fe(I)})(Object.assign({},T,I)),Z.currentInstance&&(Z.currentInstance._destroy(),Lr()&&Kr()),Z.currentInstance=Ei;const K=Xc(I,T);vh(K),Object.freeze(K),Z.timeout&&(Z.timeout.stop(),delete Z.timeout),clearTimeout(Z.restoreFocusTimeout);const xe=ed(Ei);return pa(Ei,K),et.innerParams.set(Ei,K),jo(Ei,xe,K)}then(I){return et.promise.get(this).then(I)}finally(I){return et.promise.get(this).finally(I)}}const jo=(b,I,T)=>new Promise((K,xe)=>{const ht=wn=>{b.closePopup({isDismissed:!0,dismiss:wn})};vi.swalPromiseResolve.set(b,K),vi.swalPromiseReject.set(b,xe),I.confirmButton.onclick=()=>(b=>{const I=et.innerParams.get(b);b.disableButtons(),I.input?Vo(b,"confirm"):Ji(b,!0)})(b),I.denyButton.onclick=()=>(b=>{const I=et.innerParams.get(b);b.disableButtons(),I.returnInputValueOnDeny?Vo(b,"deny"):ds(b,!1)})(b),I.cancelButton.onclick=()=>((b,I)=>{b.disableButtons(),I(Zi.cancel)})(b,ht),I.closeButton.onclick=()=>ht(Zi.close),((b,I,T)=>{et.innerParams.get(b).toast?$u(b,I,T):(Hu(I),hr(I),Bs(b,I,T))})(b,I,ht),((b,I,T,K)=>{as(I),T.toast||(I.keydownHandler=xe=>Pt(b,xe,K),I.keydownTarget=T.keydownListenerCapture?window:ce(),I.keydownListenerCapture=T.keydownListenerCapture,I.keydownTarget.addEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!0)})(b,Z,T,ht),((b,I)=>{"select"===I.input||"radio"===I.input?pn(b,I):["text","email","number","tel","textarea"].includes(I.input)&&(le(I.inputValue)||W(I.inputValue))&&(Gn(Ft()),io(b,I))})(b,T),Lu(T),Eh(Z,T,ht),_p(I,T),setTimeout(()=>{I.container.scrollTop=0})}),Xc=(b,I)=>{const T=(b=>{const I="string"==typeof b.template?document.querySelector(b.template):b.template;if(!I)return{};const T=I.content;return Ll(T),Object.assign(Yc(T),Nu(T),Qc(T),Ro(T),Xs(T),ku(T,Fl))})(b),K=Object.assign({},De,I,T,b);return K.showClass=Object.assign({},De.showClass,K.showClass),K.hideClass=Object.assign({},De.hideClass,K.hideClass),K},ed=b=>{const I={popup:ce(),container:J(),actions:Gt(),confirmButton:Ft(),denyButton:on(),cancelButton:Mt(),loader:Ht(),closeButton:Rn(),validationMessage:Qe(),progressSteps:$t()};return et.domCache.set(b,I),I},Eh=(b,I,T)=>{const K=Pn();tt(K),I.timer&&(b.timeout=new to(()=>{T("timer"),delete b.timeout},I.timer),I.timerProgressBar&&(Ye(K),kt(K,I,"timerProgressBar"),setTimeout(()=>{b.timeout&&b.timeout.running&&se(I.timer)})))},_p=(b,I)=>{if(!I.toast){if(!z(I.allowEnterKey))return qu();vr(b,I)||cr(0,-1,1)}},vr=(b,I)=>I.focusDeny&&mt(b.denyButton)?(b.denyButton.focus(),!0):I.focusCancel&&mt(b.cancelButton)?(b.cancelButton.focus(),!0):!(!I.focusConfirm||!mt(b.confirmButton)||(b.confirmButton.focus(),0)),qu=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(Yr.prototype,Bu),Object.assign(Yr,Gu),Object.keys(Bu).forEach(b=>{Yr[b]=function(){if(Ei)return Ei[b](...arguments)}}),Yr.DismissReason=Zi,Yr.version="11.4.17";const ps=Yr;return ps.default=ps,ps}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(q,R){var c=q.createElement("style");if(q.getElementsByTagName("head")[0].appendChild(c),c.styleSheet)c.styleSheet.disabled||(c.styleSheet.cssText=R);else try{c.innerHTML=R}catch{c.innerText=R}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},655:(Ze,q,R)=>{"use strict";function L(J,ne){var ae={};for(var ce in J)Object.prototype.hasOwnProperty.call(J,ce)&&ne.indexOf(ce)<0&&(ae[ce]=J[ce]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var _e=0;for(ce=Object.getOwnPropertySymbols(J);_e<ce.length;_e++)ne.indexOf(ce[_e])<0&&Object.prototype.propertyIsEnumerable.call(J,ce[_e])&&(ae[ce[_e]]=J[ce[_e]])}return ae}function z(J,ne,ae,ce){return new(ae||(ae=Promise))(function(ze,gt){function Kt(Ft){try{Qe(ce.next(Ft))}catch(on){gt(on)}}function $t(Ft){try{Qe(ce.throw(Ft))}catch(on){gt(on)}}function Qe(Ft){Ft.done?ze(Ft.value):function _e(ze){return ze instanceof ae?ze:new ae(function(gt){gt(ze)})}(Ft.value).then(Kt,$t)}Qe((ce=ce.apply(J,ne||[])).next())})}function he(J){return this instanceof he?(this.v=J,this):new he(J)}function pe(J,ne,ae){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ce=ae.apply(J,ne||[]),ze=[];return _e={},gt("next"),gt("throw"),gt("return"),_e[Symbol.asyncIterator]=function(){return this},_e;function gt(an){ce[an]&&(_e[an]=function(Ht){return new Promise(function(Mt,Gt){ze.push([an,Ht,Mt,Gt])>1||Kt(an,Ht)})})}function Kt(an,Ht){try{!function $t(an){an.value instanceof he?Promise.resolve(an.value.v).then(Qe,Ft):on(ze[0][2],an)}(ce[an](Ht))}catch(Mt){on(ze[0][3],Mt)}}function Qe(an){Kt("next",an)}function Ft(an){Kt("throw",an)}function on(an,Ht){an(Ht),ze.shift(),ze.length&&Kt(ze[0][0],ze[0][1])}}function Ne(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ae,ne=J[Symbol.asyncIterator];return ne?ne.call(J):(J=function te(J){var ne="function"==typeof Symbol&&Symbol.iterator,ae=ne&&J[ne],ce=0;if(ae)return ae.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ce>=J.length&&(J=void 0),{value:J&&J[ce++],done:!J}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ae={},ce("next"),ce("throw"),ce("return"),ae[Symbol.asyncIterator]=function(){return this},ae);function ce(ze){ae[ze]=J[ze]&&function(gt){return new Promise(function(Kt,$t){!function _e(ze,gt,Kt,$t){Promise.resolve($t).then(function(Qe){ze({value:Qe,done:Kt})},gt)}(Kt,$t,(gt=J[ze](gt)).done,gt.value)})}}}R.d(q,{FC:()=>pe,KL:()=>Ne,_T:()=>L,mG:()=>z,qq:()=>he})},4650:(Ze,q,R)=>{"use strict";R.d(q,{$8M:()=>Go,$Z:()=>Vy,AFp:()=>Tl,ALo:()=>__,AaK:()=>z,CHM:()=>wi,CRH:()=>T_,CZH:()=>mm,CqO:()=>Mg,D6c:()=>jE,DdM:()=>g_,EJc:()=>_m,EiD:()=>Mp,EpF:()=>xv,F4k:()=>xg,FYo:()=>Ib,FiY:()=>Pr,G48:()=>SE,Gf:()=>D_,GfV:()=>Tb,Gpc:()=>W,JOm:()=>Xo,JVY:()=>Jm,KtG:()=>Ls,L6k:()=>v,LAX:()=>m,LFG:()=>ft,LSH:()=>Na,Lbi:()=>O_,MAs:()=>Lw,MMx:()=>Xg,NdJ:()=>gf,OlP:()=>tn,Oqu:()=>Vd,PXZ:()=>wE,Q6J:()=>Tv,QGY:()=>Cc,QP$:()=>Il,Qsj:()=>pD,R0b:()=>ws,RDi:()=>eu,Rgc:()=>ca,SBq:()=>Xd,Sil:()=>fE,Suo:()=>Gb,TTD:()=>os,TgZ:()=>ff,Tol:()=>Cu,VKq:()=>Pb,X6Q:()=>Em,XFs:()=>at,Xpm:()=>Z,Y36:()=>_d,YKP:()=>Cb,YNc:()=>Fw,Yjl:()=>Ce,Yz7:()=>Ht,ZZ4:()=>op,_Bn:()=>fi,_UZ:()=>Dg,_Vd:()=>Jd,_c5:()=>K_,_uU:()=>Ld,aQg:()=>Z_,c2e:()=>hE,cJS:()=>Gt,cg1:()=>Hd,dDg:()=>$c,deG:()=>Ku,dqk:()=>Ye,eBb:()=>p,eFA:()=>$_,ekj:()=>Lv,eoX:()=>U_,g9A:()=>si,h0i:()=>Ws,hGG:()=>BE,hM9:()=>th,hij:()=>Ud,iGM:()=>I_,ifc:()=>Bt,ip1:()=>Dl,kL8:()=>Qv,lG2:()=>Zn,lcZ:()=>Lb,lqb:()=>Fa,lri:()=>lh,mCW:()=>Mn,n5z:()=>nd,oAB:()=>St,oxw:()=>_f,pB0:()=>E,q3G:()=>br,q4F:()=>Ab,qLn:()=>kh,qOj:()=>Dd,qZA:()=>di,qzn:()=>bo,rWj:()=>Al,s9C:()=>Rg,sBO:()=>qc,sIi:()=>Td,s_b:()=>rh,soG:()=>Kf,tBr:()=>Di,tb:()=>vm,tp0:()=>_o,uIk:()=>bg,vHH:()=>Te,vpe:()=>la,wAp:()=>Nt,xi3:()=>Vb,xp6:()=>Ey,yhl:()=>Sp,z2F:()=>ch,z3N:()=>Jo,zSh:()=>Oa,zs3:()=>na});var c=R(7579),P=R(727),A=R(8306),L=R(6451),B=R(3099);function H(i){for(let s in i)if(i[s]===H)return s;throw Error("Could not find renamed property on target object.")}function Q(i,s){for(const a in s)s.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=s[a])}function z(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(z).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const a=s.indexOf("\n");return-1===a?s:s.substring(0,a)}function le(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const G=H({__forward_ref__:H});function W(i){return i.__forward_ref__=W,i.toString=function(){return z(this())},i}function te(i){return De(i)?i():i}function De(i){return"function"==typeof i&&i.hasOwnProperty(G)&&i.__forward_ref__===W}class Te extends Error{constructor(s,a){super(function $e(i,s){return`NG0${Math.abs(i)}${s?": "+s:""}`}(s,a)),this.code=s}}function he(i){return"string"==typeof i?i:null==i?"":String(i)}function Fe(i,s){throw new Te(-201,!1)}function $t(i,s){null==i&&function Qe(i,s,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Ht(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Gt(i){return{providers:i.providers||[],imports:i.imports||[]}}function en(i){return Pn(i,Lr)||Pn(i,jn)}function Pn(i,s){return i.hasOwnProperty(s)?i[s]:null}function oi(i){return i&&(i.hasOwnProperty(Vr)||i.hasOwnProperty(Dr))?i[Vr]:null}const Lr=H({\u0275prov:H}),Vr=H({\u0275inj:H}),jn=H({ngInjectableDef:H}),Dr=H({ngInjectorDef:H});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let Fn;function kt(i){const s=Fn;return Fn=i,s}function sr(i,s,a){const l=en(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&at.Optional?null:void 0!==s?s:void Fe(z(i))}function Tr(i){return{toString:i}.toString()}var wt=(()=>((wt=wt||{})[wt.OnPush=0]="OnPush",wt[wt.Default=1]="Default",wt))(),Bt=(()=>{return(i=Bt||(Bt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Bt;var i})();const Ye=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Vn={},mt=[],Ur=H({\u0275cmp:H}),An=H({\u0275dir:H}),Cn=H({\u0275pipe:H}),se=H({\u0275mod:H}),re=H({\u0275fac:H}),ue=H({__NG_ELEMENT_ID__:H});let Oe=0;function Z(i){return Tr(()=>{const a=!0===i.standalone,l={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===wt.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||mt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Bt.Emulated,id:"c",styles:i.styles||mt,_:null,setInput:null,schemas:i.schemas||null,tView:null},f=i.dependencies,y=i.features;return d.id+=Oe++,d.inputs=Rt(i.inputs,l),d.outputs=Rt(i.outputs),y&&y.forEach(_=>_(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(Ge).filter(ot):null,d.pipeDefs=f?()=>("function"==typeof f?f():f).map(Re).filter(ot):null,d})}function Ge(i){return X(i)||ee(i)}function ot(i){return null!==i}const Et={};function St(i){return Tr(()=>{const s={type:i.type,bootstrap:i.bootstrap||mt,declarations:i.declarations||mt,imports:i.imports||mt,exports:i.exports||mt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Et[i.id]=i.type),s})}function Rt(i,s){if(null==i)return Vn;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=l,s&&(s[d]=f)}return a}const Zn=Z;function Ce(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function X(i){return i[Ur]||null}function ee(i){return i[An]||null}function Re(i){return i[Cn]||null}function Je(i,s){const a=i[se]||null;if(!a&&!0===s)throw new Error(`Type ${z(i)} does not have '\u0275mod' property.`);return a}function Br(i){return Array.isArray(i)&&"object"==typeof i[1]}function lr(i){return Array.isArray(i)&&!0===i[1]}function fa(i){return 0!=(8&i.flags)}function xs(i){return 2==(2&i.flags)}function Qa(i){return 1==(1&i.flags)}function ui(i){return null!==i.template}function Ja(i){return 0!=(256&i[2])}function gi(i,s){return i.hasOwnProperty(re)?i[re]:null}class Ni{constructor(s,a,l){this.previousValue=s,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function os(){return Rs}function Rs(i){return i.type.prototype.ngOnChanges&&(i.setInput=ma),Ou}function Ou(){const i=Fu(this),s=i?.current;if(s){const a=i.previous;if(a===Vn)i.previous=s;else for(let l in s)a[l]=s[l];i.current=null,this.ngOnChanges(s)}}function ma(i,s,a,l){const d=Fu(i)||function no(i,s){return i[ya]=s}(i,{previous:Vn,current:null}),f=d.current||(d.current={}),y=d.previous,_=this.declaredInputs[a],C=y[_];f[_]=new Ni(C&&C.currentValue,s,y===Vn),i[l]=s}os.ngInherit=!0;const ya="__ngSimpleChanges__";function Fu(i){return i[ya]||null}let ro;function eu(i){ro=i}function pn(i){return!!i.listen}const io={createRenderer:(i,s)=>function wa(){return void 0!==ro?ro:typeof document<"u"?document:void 0}()};function xn(i){for(;Array.isArray(i);)i=i[0];return i}function yi(i,s){return xn(s[i])}function jr(i,s){return xn(s[i.index])}function ks(i,s){return i.data[s]}function _i(i,s){return i[s]}function un(i,s){const a=s[i];return Br(a)?a:a[0]}function tu(i){return 4==(4&i[2])}function as(i){return 64==(64&i[2])}function cr(i,s){return null==s?null:i[s]}function Os(i){i[18]=0}function us(i,s){i[5]+=s;let a=i,l=i[3];for(;null!==l&&(1===s&&1===a[5]||-1===s&&0===a[5]);)l[5]+=s,a=l,l=l[3]}const Pt={lFrame:Ji(null),bindingsEnabled:!0};function Fs(){return Pt.bindingsEnabled}function He(){return Pt.lFrame.lView}function Zt(){return Pt.lFrame.tView}function wi(i){return Pt.lFrame.contextLView=i,i[8]}function Ls(i){return Pt.lFrame.contextLView=null,i}function ir(){let i=ls();for(;null!==i&&64===i.type;)i=i.parent;return i}function ls(){return Pt.lFrame.currentTNode}function $r(i,s){const a=Pt.lFrame;a.currentTNode=i,a.isParent=s}function Oo(){return Pt.lFrame.isParent}function dr(){const i=Pt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Oi(){return Pt.lFrame.bindingIndex++}function Yi(i){const s=Pt.lFrame,a=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,a}function uo(i,s){const a=Pt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Us(s)}function Us(i){Pt.lFrame.currentDirectiveIndex=i}function lo(){return Pt.lFrame.currentQueryIndex}function Vo(i){Pt.lFrame.currentQueryIndex=i}function jl(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function ds(i,s,a){if(a&at.SkipSelf){let d=s,f=i;for(;!(d=d.parent,null!==d||a&at.Host||(d=jl(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;s=d,i=f}const l=Pt.lFrame=Uo();return l.currentTNode=s,l.lView=i,!0}function Qi(i){const s=Uo(),a=i[1];Pt.lFrame=s,s.currentTNode=a.firstChild,s.lView=i,s.tView=a,s.contextLView=i,s.bindingIndex=a.bindingStartIndex,s.inI18n=!1}function Uo(){const i=Pt.lFrame,s=null===i?null:i.child;return null===s?Ji(i):s}function Ji(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function ju(){const i=Pt.lFrame;return Pt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const $u=ju;function Ia(){const i=ju();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function hr(){return Pt.lFrame.selectedIndex}function Bs(i){Pt.lFrame.selectedIndex=i}function Yn(){const i=Pt.lFrame;return ks(i.tView,i.selectedIndex)}function hs(i,s){for(let a=s.directiveStart,l=s.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:_,ngAfterViewInit:C,ngAfterViewChecked:M,ngOnDestroy:k}=f;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),_&&((i.contentHooks||(i.contentHooks=[])).push(a,_),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,_)),C&&(i.viewHooks||(i.viewHooks=[])).push(-a,C),M&&((i.viewHooks||(i.viewHooks=[])).push(a,M),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,M)),null!=k&&(i.destroyHooks||(i.destroyHooks=[])).push(a,k)}}function Xi(i,s,a){Qn(i,s,3,a)}function Bo(i,s,a,l){(3&i[2])===a&&Qn(i,s,a,l)}function au(i,s){let a=i[2];(3&a)===s&&(a&=2047,a+=1,i[2]=a)}function Qn(i,s,a,l){const f=l??-1,y=s.length-1;let _=0;for(let C=void 0!==l?65535&i[18]:0;C<y;C++)if("number"==typeof s[C+1]){if(_=s[C],null!=l&&_>=l)break}else s[C]<0&&(i[18]+=65536),(_<f||-1==f)&&(uu(i,a,s,C),i[18]=(4294901760&i[18])+C+2),C++}function uu(i,s,a,l){const d=a[l]<0,f=a[l+1],_=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{f.call(_)}finally{}}}else try{f.call(_)}finally{}}class fo{constructor(s,a,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function vr(i,s,a){const l=pn(i);let d=0;for(;d<a.length;){const f=a[d];if("number"==typeof f){if(0!==f)break;d++;const y=a[d++],_=a[d++],C=a[d++];l?i.setAttribute(s,_,C,y):s.setAttributeNS(y,_,C)}else{const y=f,_=a[++d];ps(y)?l&&i.setProperty(s,y,_):l?i.setAttribute(s,y,_):s.setAttribute(y,_),d++}}return d}function qu(i){return 3===i||4===i||6===i}function ps(i){return 64===i.charCodeAt(0)}function b(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let a=-1;for(let l=0;l<s.length;l++){const d=s[l];"number"==typeof d?a=d:0===a||I(i,a,d,null,-1===a||2===a?s[++l]:null)}}return i}function I(i,s,a,l,d){let f=0,y=i.length;if(-1===s)y=-1;else for(;f<i.length;){const _=i[f++];if("number"==typeof _){if(_===s){y=-1;break}if(_>s){y=f-1;break}}}for(;f<i.length;){const _=i[f];if("number"==typeof _)break;if(_===a){if(null===l)return void(null!==d&&(i[f+1]=d));if(l===i[f+1])return void(i[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==y&&(i.splice(y,0,s),f=y+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==d&&i.splice(f++,0,d)}function T(i){return-1!==i}function K(i){return 32767&i}function ht(i,s){let a=function xe(i){return i>>16}(i),l=s;for(;a>0;)l=l[15],a--;return l}let wn=!0;function Yt(i){const s=wn;return wn=i,s}let Fi=0;const qn={};function Ta(i,s){const a=Aa(i,s);if(-1!==a)return a;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,js(l.data,i),js(s,null),js(l.blueprint,null));const d=Ci(i,s),f=i.injectorIndex;if(T(d)){const y=K(d),_=ht(d,s),C=_[1].data;for(let M=0;M<8;M++)s[f+M]=_[y+M]|C[y+M]}return s[f+8]=d,f}function js(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Aa(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Ci(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=s;for(;null!==d;){if(l=Zu(d),null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function $o(i,s,a){!function Da(i,s,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(ue)&&(l=a[ue]),null==l&&(l=a[ue]=Fi++);const d=255&l;s.data[i+(d>>5)]|=1<<d}(i,s,a)}function xt(i,s,a){if(a&at.Optional)return i;Fe()}function $l(i,s,a,l){if(a&at.Optional&&void 0===l&&(l=null),0==(a&(at.Self|at.Host))){const d=i[9],f=kt(void 0);try{return d?d.get(s,l,a&at.Optional):sr(s,l,a&at.Optional)}finally{kt(f)}}return xt(l,0,a)}function lu(i,s,a,l=at.Default,d){if(null!==i){if(1024&s[2]){const y=function Sa(i,s,a,l,d){let f=i,y=s;for(;null!==f&&null!==y&&1024&y[2]&&!(256&y[2]);){const _=$s(f,y,a,l|at.Self,qn);if(_!==qn)return _;let C=f.parent;if(!C){const M=y[21];if(M){const k=M.get(a,qn,l);if(k!==qn)return k}C=Zu(y),y=y[15]}f=C}return d}(i,s,a,l,qn);if(y!==qn)return y}const f=$s(i,s,a,l,qn);if(f!==qn)return f}return $l(s,a,l,d)}function $s(i,s,a,l,d){const f=function Hl(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ue)?i[ue]:void 0;return"number"==typeof s?s>=0?255&s:gs:s}(a);if("function"==typeof f){if(!ds(s,i,l))return l&at.Host?xt(d,0,l):$l(s,a,l,d);try{const y=f(l);if(null!=y||l&at.Optional)return y;Fe()}finally{$u()}}else if("number"==typeof f){let y=null,_=Aa(i,s),C=-1,M=l&at.Host?s[16][6]:null;for((-1===_||l&at.SkipSelf)&&(C=-1===_?Ci(i,s):s[_+8],-1!==C&&cu(l,!1)?(y=s[1],_=K(C),s=ht(C,s)):_=-1);-1!==_;){const k=s[1];if(td(f,_,k.data)){const $=zu(_,s,a,y,l,M);if($!==qn)return $}C=s[_+8],-1!==C&&cu(l,s[1].data[_+8]===M)&&td(f,_,s)?(y=k,_=K(C),s=ht(C,s)):_=-1}}return d}function zu(i,s,a,l,d,f){const y=s[1],_=y.data[i+8],k=xr(_,y,a,null==l?xs(_)&&wn:l!=y&&0!=(3&_.type),d&at.Host&&f===_);return null!==k?Wu(s,y,k,_):qn}function xr(i,s,a,l,d){const f=i.providerIndexes,y=s.data,_=1048575&f,C=i.directiveStart,k=f>>20,oe=d?_+k:i.directiveEnd;for(let ye=l?_:_+k;ye<oe;ye++){const Ve=y[ye];if(ye<C&&a===Ve||ye>=C&&Ve.type===a)return ye}if(d){const ye=y[C];if(ye&&ui(ye)&&ye.type===a)return C}return null}function Wu(i,s,a,l){let d=i[a];const f=s.data;if(function Gu(i){return i instanceof fo}(d)){const y=d;y.resolving&&function ke(i,s){const a=s?`. Dependency path: ${s.join(" > ")} > ${i}`:"";throw new Te(-200,`Circular dependency in DI detected for ${i}${a}`)}(function pe(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():he(i)}(f[a]));const _=Yt(y.canSeeViewProviders);y.resolving=!0;const C=y.injectImpl?kt(y.injectImpl):null;ds(i,l,at.Default);try{d=i[a]=y.factory(void 0,f,i,l),s.firstCreatePass&&a>=l.directiveStart&&function ou(i,s,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(l){const y=Rs(s);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,f))}(a,f[a],s)}finally{null!==C&&kt(C),Yt(_),y.resolving=!1,$u()}}return d}function td(i,s,a){return!!(a[s+(i>>5)]&1<<i)}function cu(i,s){return!(i&at.Self||i&at.Host&&s)}class Mr{constructor(s,a){this._tNode=s,this._lView=a}get(s,a,l){return lu(this._tNode,this._lView,s,l,a)}}function gs(){return new Mr(ir(),He())}function nd(i){return Tr(()=>{const s=i.prototype.constructor,a=s[re]||ms(s),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const f=d[re]||ms(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function ms(i){return De(i)?()=>{const s=ms(te(i));return s&&s()}:gi(i)}function Zu(i){const s=i[1],a=s.type;return 2===a?s.declTNode:1===a?i[6]:null}function Go(i){return function Ho(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const f=a[d];if(qu(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(f===s)return a[d+1];d+=2}}}return null}(ir(),i)}const po="__parameters__";function qo(i,s,a){return Tr(()=>{const l=function Jn(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(s);function d(...f){if(this instanceof d)return l.apply(this,f),this;const y=new d(...f);return _.annotation=y,_;function _(C,M,k){const $=C.hasOwnProperty(po)?C[po]:Object.defineProperty(C,po,{value:[]})[po];for(;$.length<=k;)$.push(null);return($[k]=$[k]||[]).push(y),C}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class tn{constructor(s,a){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Ht({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ku=new tn("AnalyzeForEntryComponents");function Rr(i,s){void 0===s&&(s=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(s===i&&(s=i.slice(0,a)),Rr(l,s)):s!==i&&s.push(l)}return s}function pr(i,s){i.forEach(a=>Array.isArray(a)?pr(a,s):s(a))}function Li(i,s,a){s>=i.length?i.push(a):i.splice(s,0,a)}function Vi(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function Xr(i,s,a){let l=Ii(i,s);return l>=0?i[1|l]=a:(l=~l,function hu(i,s,a,l){let d=i.length;if(d==s)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>s;)i[d]=i[d-2],d--;i[s]=a,i[s+1]=l}}(i,l,s,a)),l}function Wl(i,s){const a=Ii(i,s);if(a>=0)return i[1|a]}function Ii(i,s){return function Ju(i,s,a){let l=0,d=i.length>>a;for(;d!==l;){const f=l+(d-l>>1),y=i[f<<a];if(s===y)return f<<a;y>s?d=f:l=f+1}return~(d<<a)}(i,s,1)}const Ma={},D="__NG_DI_FLAG__",x="ngTempTokenPath",Y=/\n/gm,Ie="__source";let Ue;function rt(i){const s=Ue;return Ue=i,s}function Vt(i,s=at.Default){if(void 0===Ue)throw new Te(-203,"");return null===Ue?sr(i,void 0,s):Ue.get(i,s&at.Optional?null:void 0,s)}function ft(i,s=at.Default){return(function Tn(){return Fn}()||Vt)(te(i),s)}function Hr(i){const s=[];for(let a=0;a<i.length;a++){const l=te(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Te(900,"");let d,f=at.Default;for(let y=0;y<l.length;y++){const _=l[y],C=Ra(_);"number"==typeof C?-1===C?d=_.token:f|=C:d=_}s.push(ft(d,f))}else s.push(ft(l))}return s}function Ln(i,s){return i[D]=s,i.prototype[D]=s,i}function Ra(i){return i[D]}const Di=Ln(qo("Inject",i=>({token:i})),-1),Pr=Ln(qo("Optional"),8),_o=Ln(qo("SkipSelf"),4);let Jl;function Yo(i){return function Xl(){if(void 0===Jl&&(Jl=null,Ye.trustedTypes))try{Jl=Ye.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Jl}()?.createHTML(i)||i}class Gs{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Tp extends Gs{getTypeName(){return"HTML"}}class rc extends Gs{getTypeName(){return"Style"}}class Ap extends Gs{getTypeName(){return"Script"}}class ad extends Gs{getTypeName(){return"URL"}}class ud extends Gs{getTypeName(){return"ResourceURL"}}function Jo(i){return i instanceof Gs?i.changingThisBreaksApplicationSecurity:i}function bo(i,s){const a=Sp(i);if(null!=a&&a!==s){if("ResourceURL"===a&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===s}function Sp(i){return i instanceof Gs&&i.getTypeName()||null}function Jm(i){return new Tp(i)}function v(i){return new rc(i)}function p(i){return new Ap(i)}function m(i){return new ad(i)}function E(i){return new ud(i)}class j{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const a=(new window.DOMParser).parseFromString(Yo(s),"text/html").body;return null===a?this.inertDocumentHelper.getInertBodyElement(s):(a.removeChild(a.firstChild),a)}catch{return null}}}class we{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const a=this.inertDocument.createElement("html");this.inertDocument.appendChild(a);const l=this.inertDocument.createElement("body");a.appendChild(l)}}getInertBodyElement(s){const a=this.inertDocument.createElement("template");if("content"in a)return a.innerHTML=Yo(s),a;const l=this.inertDocument.createElement("body");return l.innerHTML=Yo(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const a=s.attributes;for(let d=a.length-1;0<d;d--){const y=a.item(d).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const ct=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Mn(i){return(i=String(i)).match(ct)||i.match(Xt)?i:"unsafe:"+i}function ei(i){const s={};for(const a of i.split(","))s[a]=!0;return s}function Eo(...i){const s={};for(const a of i)for(const l in a)a.hasOwnProperty(l)&&(s[l]=!0);return s}const xh=ei("area,br,col,hr,img,wbr"),ic=ei("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ld=ei("rp,rt"),cd=Eo(xh,Eo(ic,ei("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Eo(ld,ei("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Eo(ld,ic)),sc=ei("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oc=ei("srcset"),ny=Eo(sc,oc,ei("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ei("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kA=ei("script,style,template");class OA{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let a=s.firstChild,l=!0;for(;a;)if(a.nodeType===Node.ELEMENT_NODE?l=this.startElement(a):a.nodeType===Node.TEXT_NODE?this.chars(a.nodeValue):this.sanitizedSomething=!0,l&&a.firstChild)a=a.firstChild;else for(;a;){a.nodeType===Node.ELEMENT_NODE&&this.endElement(a);let d=this.checkClobberedElement(a,a.nextSibling);if(d){a=d;break}a=this.checkClobberedElement(a,a.parentNode)}return this.buf.join("")}startElement(s){const a=s.nodeName.toLowerCase();if(!cd.hasOwnProperty(a))return this.sanitizedSomething=!0,!kA.hasOwnProperty(a);this.buf.push("<"),this.buf.push(a);const l=s.attributes;for(let d=0;d<l.length;d++){const f=l.item(d),y=f.name,_=y.toLowerCase();if(!ny.hasOwnProperty(_)){this.sanitizedSomething=!0;continue}let C=f.value;sc[_]&&(C=Mn(C)),oc[_]&&(i=C,C=(i=String(i)).split(",").map(s=>Mn(s.trim())).join(", ")),this.buf.push(" ",y,'="',_0(C),'"')}var i;return this.buf.push(">"),!0}endElement(s){const a=s.nodeName.toLowerCase();cd.hasOwnProperty(a)&&!xh.hasOwnProperty(a)&&(this.buf.push("</"),this.buf.push(a),this.buf.push(">"))}chars(s){this.buf.push(_0(s))}checkClobberedElement(s,a){if(a&&(s.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return a}}const ry=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gC=/([^\#-~ |!])/g;function _0(i){return i.replace(/&/g,"&amp;").replace(ry,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(gC,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let xp;function Mp(i,s){let a=null;try{xp=xp||function N(i){const s=new we(i);return function je(){try{return!!(new window.DOMParser).parseFromString(Yo(""),"text/html")}catch{return!1}}()?new j(s):s}(i);let l=s?String(s):"";a=xp.getInertBodyElement(l);let d=5,f=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=f,f=a.innerHTML,a=xp.getInertBodyElement(l)}while(l!==f);return Yo((new OA).sanitizeChildren(ys(a)||a))}finally{if(a){const l=ys(a)||a;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function ys(i){return"content"in i&&function w0(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var br=(()=>((br=br||{})[br.NONE=0]="NONE",br[br.HTML=1]="HTML",br[br.STYLE=2]="STYLE",br[br.SCRIPT=3]="SCRIPT",br[br.URL=4]="URL",br[br.RESOURCE_URL=5]="RESOURCE_URL",br))();function Na(i){const s=function dd(){const i=He();return i&&i[12]}();return s?s.sanitize(br.URL,i)||"":bo(i,"URL")?Jo(i):Mn(he(i))}const hd=new Map;let Np=0;const Fp="__ngContext__";function Gr(i,s){Br(s)?(i[Fp]=s[20],function CC(i){hd.set(i[20],i)}(s)):i[Fp]=s}function fd(i){const s=i[Fp];return"number"==typeof s?function E0(i){return hd.get(i)||null}(s):s||null}function Lp(i){const s=fd(i);return s?Br(s)?s:s.lView:null}function oy(i){return i.ngOriginalError}function Nh(i,...s){i.error(...s)}class kh{constructor(){this._console=console}handleError(s){const a=this._findOriginalError(s),l=function MC(i){return i&&i.ngErrorLogger||Nh}(s);l(this._console,"ERROR",s),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(s){let a=s&&oy(s);for(;a&&oy(a);)a=oy(a);return a||null}}const VC=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ye))();function ka(i){return i instanceof Function?i():i}var Xo=(()=>((Xo=Xo||{})[Xo.Important=1]="Important",Xo[Xo.DashCase=2]="DashCase",Xo))();function Oh(i,s){return undefined(i,s)}function Fh(i){const s=i[3];return lr(s)?s[3]:s}function jp(i){return M0(i[13])}function gd(i){return M0(i[4])}function M0(i){for(;null!==i&&!lr(i);)i=i[4];return i}function md(i,s,a,l,d){if(null!=l){let f,y=!1;lr(l)?f=l:Br(l)&&(y=!0,l=l[0]);const _=xn(l);0===i&&null!==a?null==d?F0(s,a,_):il(s,a,_,d||null,!0):1===i&&null!==a?il(s,a,_,d||null,!0):2===i?function yy(i,s,a){const l=Lh(i,s);l&&function QC(i,s,a,l){pn(i)?i.removeChild(s,a,l):s.removeChild(a)}(i,l,s,a)}(s,_,y):3===i&&s.destroyNode(_),null!=f&&function eI(i,s,a,l,d){const f=a[7];f!==xn(a)&&md(s,i,l,f,d);for(let _=10;_<a.length;_++){const C=a[_];Uh(C[1],C,i,s,l,f)}}(s,i,f,a,d)}}function cy(i,s,a){if(pn(i))return i.createElement(s,a);{const l=null!==a?function Jc(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(s):i.createElementNS(l,s)}}function P0(i,s){const a=i[9],l=a.indexOf(s),d=s[3];512&s[2]&&(s[2]&=-513,us(d,-1)),a.splice(l,1)}function Nr(i,s){if(i.length<=10)return;const a=10+s,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&P0(d,l),s>0&&(i[a-1][4]=l[4]);const f=Vi(i,10+s);!function zC(i,s){Uh(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function N0(i,s){if(!(128&s[2])){const a=s[11];pn(a)&&a.destroyNode&&Uh(i,s,a,3,null,null),function KC(i){let s=i[13];if(!s)return Gp(i[1],i);for(;s;){let a=null;if(Br(s))a=s[13];else{const l=s[10];l&&(a=l)}if(!a){for(;s&&!s[4]&&s!==i;)Br(s)&&Gp(s[1],s),s=s[3];null===s&&(s=i),Br(s)&&Gp(s[1],s),a=s&&s[4]}s=a}}(s)}}function Gp(i,s){if(!(128&s[2])){s[2]&=-65,s[2]|=128,function lc(i,s){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=s[a[l]];if(!(d instanceof fo)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const _=d[f[y]],C=f[y+1];try{C.call(_)}finally{}}else try{f.call(d)}finally{}}}}(i,s),function uc(i,s){const a=i.cleanup,l=s[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+1],_="function"==typeof y?y(s):xn(s[y]),C=l[d=a[f+2]],M=a[f+3];"boolean"==typeof M?_.removeEventListener(a[f],C,M):M>=0?l[d=M]():l[d=-M].unsubscribe(),f+=2}else{const y=l[d=a[f+1]];a[f].call(y)}if(null!==l){for(let f=d+1;f<l.length;f++)l[f]();s[7]=null}}(i,s),1===s[1].type&&pn(s[11])&&s[11].destroy();const a=s[17];if(null!==a&&lr(s[3])){a!==s[3]&&P0(a,s);const l=s[19];null!==l&&l.detachView(i)}!function IC(i){hd.delete(i[20])}(s)}}function k0(i,s,a){return function O0(i,s,a){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===Bt.None||d===Bt.Emulated)return null}return jr(l,a)}(i,s.parent,a)}function il(i,s,a,l,d){pn(i)?i.insertBefore(s,a,l,d):(hy(s)?s.content:s).insertBefore(a,l,d)}function F0(i,s,a){pn(i)?i.appendChild(s,a):(hy(s)?s.content:s).appendChild(a)}function dy(i,s,a,l,d){null!==l?il(i,s,a,l,d):F0(i,s,a)}function hy(i){return"TEMPLATE"===i.tagName&&void 0!==i.content}function Lh(i,s){return pn(i)?i.parentNode(s):s.parentNode}let py=function sl(i,s,a){return 40&i.type?jr(i,a):null};function Vh(i,s,a,l){const d=k0(i,l,s),f=s[11],_=function JC(i,s,a){return py(i,s,a)}(l.parent||s[6],l,s);if(null!=d)if(Array.isArray(a))for(let C=0;C<a.length;C++)dy(f,d,a[C],_,!1);else dy(f,d,a,_,!1)}function qp(i,s){if(null!==s){const a=s.type;if(3&a)return jr(s,i);if(4&a)return my(-1,i[s.index]);if(8&a){const l=s.child;if(null!==l)return qp(i,l);{const d=i[s.index];return lr(d)?my(-1,d):xn(d)}}if(32&a)return Oh(s,i)()||xn(i[s.index]);{const l=V0(i,s);return null!==l?Array.isArray(l)?l[0]:qp(Fh(i[16]),l):qp(i,s.next)}}return null}function V0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function my(i,s){const a=10+i+1;if(a<s.length){const l=s[a],d=l[1].firstChild;if(null!==d)return qp(l,d)}return s[7]}function vy(i,s,a,l,d,f,y){for(;null!=a;){const _=l[a.index],C=a.type;if(y&&0===s&&(_&&Gr(xn(_),l),a.flags|=4),64!=(64&a.flags))if(8&C)vy(i,s,a.child,l,d,f,!1),md(s,i,d,_,f);else if(32&C){const M=Oh(a,l);let k;for(;k=M();)md(s,i,d,k,f);md(s,i,d,_,f)}else 16&C?zp(i,s,l,a,d,f):md(s,i,d,_,f);a=y?a.projectionNext:a.next}}function Uh(i,s,a,l,d,f){vy(a,l,i.firstChild,s,d,f,!1)}function zp(i,s,a,l,d,f){const y=a[16],C=y[6].projection[l.projection];if(Array.isArray(C))for(let M=0;M<C.length;M++)md(s,i,d,C[M],f);else vy(i,s,C,y[3],d,f,!0)}function _y(i,s,a){pn(i)?i.setAttribute(s,"style",a):s.style.cssText=a}function wy(i,s,a){pn(i)?""===a?i.removeAttribute(s,"class"):i.setAttribute(s,"class",a):s.className=a}function nI(i,s,a){let l=i.length;for(;;){const d=i.indexOf(s,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const f=s.length;if(d+f===l||i.charCodeAt(d+f)<=32)return d}a=d+1}}const by="ng-template";function cc(i,s,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==nI(d.toLowerCase(),s,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===s)return!0;return!1}}return!1}function ea(i){return 4===i.type&&i.value!==by}function rI(i,s,a){return s===(4!==i.type||a?i.value:by)}function U0(i,s,a){let l=4;const d=i.attrs||[],f=function ol(i){for(let s=0;s<i.length;s++)if(qu(i[s]))return s;return i.length}(d);let y=!1;for(let _=0;_<s.length;_++){const C=s[_];if("number"!=typeof C){if(!y)if(4&l){if(l=2|1&l,""!==C&&!rI(i,C,a)||""===C&&1===s.length){if(ta(l))return!1;y=!0}}else{const M=8&l?C:s[++_];if(8&l&&null!==i.attrs){if(!cc(i.attrs,M,a)){if(ta(l))return!1;y=!0}continue}const $=iI(8&l?"class":C,d,ea(i),a);if(-1===$){if(ta(l))return!1;y=!0;continue}if(""!==M){let oe;oe=$>f?"":d[$+1].toLowerCase();const ye=8&l?oe:null;if(ye&&-1!==nI(ye,M,0)||2&l&&M!==oe){if(ta(l))return!1;y=!0}}}}else{if(!y&&!ta(l)&&!ta(C))return!1;if(y&&ta(C))continue;y=!1,l=C|1&l}}return ta(l)||y}function ta(i){return 0==(1&i)}function iI(i,s,a,l){if(null===s)return-1;let d=0;if(l||!a){let f=!1;for(;d<s.length;){const y=s[d];if(y===i)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let _=s[++d];for(;"string"==typeof _;)_=s[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function j0(i,s){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===s)return a;a++}return-1}(s,i)}function B0(i,s,a=!1){for(let l=0;l<s.length;l++)if(U0(i,s[l],a))return!0;return!1}function mu(i,s){return i?":not("+s.trim()+")":s}function sI(i){let s=i[0],a=1,l=2,d="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const _=i[++a];d+="["+y+(_.length>0?'="'+_+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!ta(y)&&(s+=mu(f,d),d=""),l=y,f=f||!ta(l);a++}return""!==d&&(s+=mu(f,d)),s}const zt={};function Ey(i){Cy(Zt(),He(),hr()+i,!1)}function Cy(i,s,a,l){if(!l)if(3==(3&s[2])){const f=i.preOrderCheckHooks;null!==f&&Xi(s,f,a)}else{const f=i.preOrderHooks;null!==f&&Bo(s,f,0,a)}Bs(a)}const W0=new tn("ENVIRONMENT_INITIALIZER"),Ay=new tn("INJECTOR_DEF_TYPES");function Z0(...i){return{\u0275providers:Zp(0,i)}}function Zp(i,...s){const a=[],l=new Set;let d;return pr(s,f=>{const y=f;Bh(y,a,[],l)&&(d||(d=[]),d.push(y))}),void 0!==d&&Sy(d,a),a}function Sy(i,s){for(let a=0;a<i.length;a++){const{providers:d}=i[a];pr(d,f=>{s.push(f)})}}function Bh(i,s,a,l){if(!(i=te(i)))return!1;let d=null,f=oi(i);const y=!f&&X(i);if(f||y){if(y&&!y.standalone)return!1;d=i}else{const C=i.ngModule;if(f=oi(C),!f)return!1;d=C}const _=l.has(d);if(y){if(_)return!1;if(l.add(d),y.dependencies){const C="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const M of C)Bh(M,s,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!_){let M;l.add(d);try{pr(f.imports,k=>{Bh(k,s,a,l)&&(M||(M=[]),M.push(k))})}finally{}void 0!==M&&Sy(M,s)}if(!_){const M=gi(d)||(()=>new d);s.push({provide:d,useFactory:M,deps:mt},{provide:Ay,useValue:d,multi:!0},{provide:W0,useValue:()=>ft(d),multi:!0})}const C=f.providers;null==C||_||pr(C,k=>{s.push(k)})}}return d!==i&&void 0!==i.providers}const K0=H({provide:String,useValue:H});function Kp(i){return null!==i&&"object"==typeof i&&K0 in i}function al(i){return"function"==typeof i}const Qp=new tn("INJECTOR",-1);class Hi{get(s,a=Ma){if(a===Ma){const l=new Error(`NullInjectorError: No provider for ${z(s)}!`);throw l.name="NullInjectorError",l}return a}}const Oa=new tn("Set Injector scope."),$h={},UA={};let Q0;function hc(){return void 0===Q0&&(Q0=new Hi),Q0}class Fa{}class Jp extends Fa{constructor(s,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,X0(s,y=>this.processProvider(y)),this.records.set(Qp,Hh(void 0,this)),d.has("environment")&&this.records.set(Fa,Hh(void 0,this));const f=this.records.get(Oa);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Ay.multi,mt,at.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();for(const s of this._onDestroyHooks)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(s){this._onDestroyHooks.push(s)}get(s,a=Ma,l=at.Default){this.assertNotDestroyed();const d=rt(this),f=kt(void 0);try{if(!(l&at.SkipSelf)){let _=this.records.get(s);if(void 0===_){const C=function $A(i){return"function"==typeof i||"object"==typeof i&&i instanceof tn}(s)&&en(s);_=C&&this.injectableDefInScope(C)?Hh(yd(s),$h):null,this.records.set(s,_)}if(null!=_)return this.hydrate(s,_)}return(l&at.Self?hc():this.parent).get(s,a=l&at.Optional&&a===Ma?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[x]=y[x]||[]).unshift(z(s)),d)throw y;return function fu(i,s,a,l){const d=i[x];throw s[Ie]&&d.unshift(s[Ie]),i.message=function vo(i,s,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=z(s);if(Array.isArray(s))d=s.map(z).join(" -> ");else if("object"==typeof s){let f=[];for(let y in s)if(s.hasOwnProperty(y)){let _=s[y];f.push(y+":"+("string"==typeof _?JSON.stringify(_):z(_)))}d=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(Y,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[x]=null,i}(y,s,"R3InjectorError",this.source)}throw y}finally{kt(f),rt(d)}}resolveInjectorInitializers(){const s=rt(this),a=kt(void 0);try{const l=this.get(W0.multi,mt,at.Self);for(const d of l)d()}finally{rt(s),kt(a)}}toString(){const s=[],a=this.records;for(const l of a.keys())s.push(z(l));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Te(205,!1)}processProvider(s){let a=al(s=te(s))?s:te(s&&s.provide);const l=function xy(i){return Kp(i)?Hh(void 0,i.useValue):Hh(J0(i),$h)}(s);if(al(s)||!0!==s.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Hh(void 0,$h,!0),d.factory=()=>Hr(d.multi),this.records.set(a,d)),a=s,d.multi.push(s)}this.records.set(a,l)}hydrate(s,a){return a.value===$h&&(a.value=UA,a.value=a.factory()),"object"==typeof a.value&&a.value&&function jA(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(s){if(!s.providedIn)return!1;const a=te(s.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function yd(i){const s=en(i),a=null!==s?s.factory:gi(i);if(null!==a)return a;if(i instanceof tn)throw new Te(204,!1);if(i instanceof Function)return function uI(i){const s=i.length;if(s>0)throw function go(i,s){const a=[];for(let l=0;l<i;l++)a.push(s);return a}(s,"?"),new Te(204,!1);const a=function Rn(i){const s=i&&(i[Lr]||i[jn]);if(s){const a=function _n(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),s}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Te(204,!1)}function J0(i,s,a){let l;if(al(i)){const d=te(i);return gi(d)||yd(d)}if(Kp(i))l=()=>te(i.useValue);else if(function jh(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Hr(i.deps||[]));else if(function Yp(i){return!(!i||!i.useExisting)}(i))l=()=>ft(te(i.useExisting));else{const d=te(i&&(i.useClass||i.provide));if(!function BA(i){return!!i.deps}(i))return gi(d)||yd(d);l=()=>new d(...Hr(i.deps))}return l}function Hh(i,s,a=!1){return{factory:i,value:s,multi:a?[]:void 0}}function HA(i){return!!i.\u0275providers}function X0(i,s){for(const a of i)Array.isArray(a)?X0(a,s):HA(a)?X0(a.\u0275providers,s):s(a)}function lI(i,s=null,a=null,l){const d=ew(i,s,a,l);return d.resolveInjectorInitializers(),d}function ew(i,s=null,a=null,l,d=new Set){const f=[a||mt,Z0(i)];return l=l||("object"==typeof i?void 0:z(i)),new Jp(f,s||hc(),l||null,d)}let na=(()=>{class i{static create(a,l){if(Array.isArray(a))return lI({name:""},l,a,"");{const d=a.name??"";return lI({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Ma,i.NULL=new Hi,i.\u0275prov=Ht({token:i,providedIn:"any",factory:()=>ft(Qp)}),i.__NG_ELEMENT_ID__=-1,i})();function _d(i,s=at.Default){const a=He();return null===a?ft(i,s):lu(ir(),a,te(i),s)}function Vy(){throw new Error("invalid")}function Uy(i,s){return i<<17|s<<2}function ra(i){return i>>17&32767}function Yh(i){return 2|i}function yu(i){return(131068&i)>>2}function sg(i,s){return-131069&i|s<<2}function jy(i){return 1|i}function Wy(i,s){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],f=a[l+1];if(-1!==f){const y=i.data[f];Vo(d),y.contentQueries(2,s[f],f)}}}function yc(i,s,a,l,d,f,y,_,C,M,k){const $=s.blueprint.slice();return $[0]=d,$[2]=76|l,(null!==k||i&&1024&i[2])&&($[2]|=1024),Os($),$[3]=$[15]=i,$[8]=a,$[10]=y||i&&i[10],$[11]=_||i&&i[11],$[12]=C||i&&i[12]||null,$[9]=M||i&&i[9]||null,$[6]=f,$[20]=function EC(){return Np++}(),$[21]=k,$[16]=2==s.type?i[16]:$,$}function bd(i,s,a,l,d){let f=i.data[s];if(null===f)f=function cg(i,s,a,l,d){const f=ls(),y=Oo(),C=i.data[s]=function oS(i,s,a,l,d,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,s,l,d);return null===i.firstChild&&(i.firstChild=C),null!==f&&(y?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C)),C}(i,s,a,l,d),function Fo(){return Pt.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=a,f.value=l,f.attrs=d;const y=function cs(){const i=Pt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return $r(f,!0),f}function vc(i,s,a,l){if(0===a)return-1;const d=s.length;for(let f=0;f<a;f++)s.push(l),i.blueprint.push(l),i.data.push(null);return d}function tf(i,s,a){Qi(s);try{const l=i.viewQuery;null!==l&&iv(1,l,a);const d=i.template;null!==d&&fw(i,s,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Wy(i,s),i.staticViewQueries&&iv(2,i.viewQuery,a);const f=i.components;null!==f&&function sS(i,s){for(let a=0;a<s.length;a++)rf(i,s[a])}(s,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,Ia()}}function _c(i,s,a,l){const d=s[2];if(128!=(128&d)){Qi(s);try{Os(s),function Ca(i){return Pt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&fw(i,s,a,2,l);const y=3==(3&d);if(y){const M=i.preOrderCheckHooks;null!==M&&Xi(s,M,null)}else{const M=i.preOrderHooks;null!==M&&Bo(s,M,0,null),au(s,0)}if(function Wt(i){for(let s=jp(i);null!==s;s=gd(s)){if(!s[2])continue;const a=s[9];for(let l=0;l<a.length;l++){const d=a[l],f=d[3];0==(512&d[2])&&us(f,1),d[2]|=512}}}(s),function tv(i){for(let s=jp(i);null!==s;s=gd(s))for(let a=10;a<s.length;a++){const l=s[a],d=l[1];as(l)&&_c(d,l,d.template,l[8])}}(s),null!==i.contentQueries&&Wy(i,s),y){const M=i.contentCheckHooks;null!==M&&Xi(s,M)}else{const M=i.contentHooks;null!==M&&Bo(s,M,1),au(s,1)}!function bI(i,s){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Bs(~d);else{const f=d,y=a[++l],_=a[++l];uo(y,f),_(2,s[f])}}}finally{Bs(-1)}}(i,s);const _=i.components;null!==_&&function EI(i,s){for(let a=0;a<s.length;a++)gg(i,s[a])}(s,_);const C=i.viewQuery;if(null!==C&&iv(2,C,l),y){const M=i.viewCheckHooks;null!==M&&Xi(s,M)}else{const M=i.viewHooks;null!==M&&Bo(s,M,2),au(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),s[2]&=-41,512&s[2]&&(s[2]&=-513,us(s[3],-1))}finally{Ia()}}}function CI(i,s,a,l){const d=s[10],y=tu(s);try{!y&&d.begin&&d.begin(),y&&tf(i,s,l),_c(i,s,a,l)}finally{!y&&d.end&&d.end()}}function fw(i,s,a,l,d){const f=hr(),y=2&l;try{Bs(-1),y&&s.length>22&&Cy(i,s,22,!1),a(l,d)}finally{Bs(f)}}function hg(i,s,a){!Fs()||(function wc(i,s,a,l){const d=a.directiveStart,f=a.directiveEnd;i.firstCreatePass||Ta(a,s),Gr(l,s);const y=a.initialInputs;for(let _=d;_<f;_++){const C=i.data[_],M=ui(C);M&&_u(s,a,C);const k=Wu(s,i,_,a);Gr(k,s),null!==y&&sn(0,_-d,k,C,0,y),M&&(un(a.index,s)[8]=k)}}(i,s,a,jr(a,s)),128==(128&a.flags)&&function Xy(i,s,a){const l=a.directiveStart,d=a.directiveEnd,f=a.index,y=function Bu(){return Pt.lFrame.currentDirectiveIndex}();try{Bs(f);for(let _=l;_<d;_++){const C=i.data[_],M=s[_];Us(_),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&In(C,M)}}finally{Bs(-1),Us(y)}}(i,s,a))}function Ky(i,s,a=jr){const l=s.localNames;if(null!==l){let d=s.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],_=-1===y?a(s,i):i[y];i[d++]=_}}}function Yy(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=fg(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function fg(i,s,a,l,d,f,y,_,C,M){const k=22+l,$=k+d,oe=function pw(i,s){const a=[];for(let l=0;l<s;l++)a.push(l<i?null:zt);return a}(k,$),ye="function"==typeof M?M():M;return oe[1]={type:i,blueprint:oe,template:a,queries:null,viewQuery:_,declTNode:s,data:oe.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:$,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:C,consts:ye,incompleteFirstPass:!1}}function Qy(i,s,a,l){const d=sv(s);null===a?d.push(l):(d.push(a),i.firstCreatePass&&Cw(i).push(l,d.length-1))}function DI(i,s,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(s,d):a[l]=[s,d]}return a}function Co(i,s,a,l,d,f,y,_){const C=jr(s,a);let k,M=s.inputs;!_&&null!=M&&(k=M[l])?(of(i,a,k,l,d),xs(s)&&function yw(i,s){const a=un(s,i);16&a[2]||(a[2]|=32)}(a,s.index)):3&s.type&&(l=function TI(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=y?y(d,s.value||"",l):d,pn(f)?f.setProperty(C,l,d):ps(l)||(C.setProperty?C.setProperty(l,d):C[l]=d))}function _w(i,s,a,l){let d=!1;if(Fs()){const f=function ev(i,s,a){const l=i.directiveRegistry;let d=null;if(l)for(let f=0;f<l.length;f++){const y=l[f];B0(a,y.selectors,!1)&&(d||(d=[]),$o(Ta(a,s),i,y.type),ui(y)?(ww(i,a),d.unshift(y)):d.push(y))}return d}(i,s,a),y=null===l?null:{"":-1};if(null!==f){d=!0,MI(a,i.data.length,f.length);for(let k=0;k<f.length;k++){const $=f[k];$.providersResolver&&$.providersResolver($)}let _=!1,C=!1,M=vc(i,s,f.length,null);for(let k=0;k<f.length;k++){const $=f[k];a.mergedAttrs=b(a.mergedAttrs,$.hostAttrs),bw(i,a,s,M,$),ia(M,$,y),null!==$.contentQueries&&(a.flags|=8),(null!==$.hostBindings||null!==$.hostAttrs||0!==$.hostVars)&&(a.flags|=128);const oe=$.type.prototype;!_&&(oe.ngOnChanges||oe.ngOnInit||oe.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),_=!0),!C&&(oe.ngOnChanges||oe.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),C=!0),M++}!function aS(i,s){const l=s.directiveEnd,d=i.data,f=s.attrs,y=[];let _=null,C=null;for(let M=s.directiveStart;M<l;M++){const k=d[M],$=k.inputs,oe=null===f||ea(s)?null:RI($,f);y.push(oe),_=DI($,M,_),C=DI(k.outputs,M,C)}null!==_&&(_.hasOwnProperty("class")&&(s.flags|=16),_.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=_,s.outputs=C}(i,a)}y&&function xI(i,s,a){if(s){const l=i.localNames=[];for(let d=0;d<s.length;d+=2){const f=a[s[d+1]];if(null==f)throw new Te(-301,!1);l.push(s[d],f)}}}(a,l,y)}return a.mergedAttrs=b(a.mergedAttrs,a.attrs),d}function AI(i,s,a,l,d,f){const y=f.hostBindings;if(y){let _=i.hostBindingOpCodes;null===_&&(_=i.hostBindingOpCodes=[]);const C=~s.index;(function SI(i){let s=i.length;for(;s>0;){const a=i[--s];if("number"==typeof a&&a<0)return a}return 0})(_)!=C&&_.push(C),_.push(l,d,y)}}function In(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function ww(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function ia(i,s,a){if(a){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)a[s.exportAs[l]]=i;ui(s)&&(a[""]=i)}}function MI(i,s,a){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+a,i.providerIndexes=s}function bw(i,s,a,l,d){i.data[l]=d;const f=d.factory||(d.factory=gi(d.type)),y=new fo(f,ui(d),_d);i.blueprint[l]=y,a[l]=y,AI(i,s,0,l,vc(i,a,d.hostVars,zt),d)}function _u(i,s,a){const l=jr(s,i),d=Yy(a),f=i[10],y=Ed(i,yc(i,d,null,a.onPush?32:16,l,s,f,f.createRenderer(l,a),null,null,null));i[s.index]=y}function qs(i,s,a,l,d,f){const y=jr(i,s);!function La(i,s,a,l,d,f,y){if(null==f)pn(i)?i.removeAttribute(s,d,a):s.removeAttribute(d);else{const _=null==y?he(f):y(f,l||"",d);pn(i)?i.setAttribute(s,d,_,a):a?s.setAttributeNS(a,d,_):s.setAttribute(d,_)}}(s[11],y,f,i.value,a,l,d)}function sn(i,s,a,l,d,f){const y=f[s];if(null!==y){const _=l.setInput;for(let C=0;C<y.length;){const M=y[C++],k=y[C++],$=y[C++];null!==_?l.setInput(a,$,M,k):a[k]=$}}}function RI(i,s){let a=null,l=0;for(;l<s.length;){const d=s[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],s[l+1])),l+=2}else l+=2;else l+=4}return a}function pt(i,s,a,l){return new Array(i,!0,!1,s,null,0,l,a,null,null)}function gg(i,s){const a=un(s,i);if(as(a)){const l=a[1];48&a[2]?_c(l,a,l.template,a[8]):a[5]>0&&nf(a)}}function nf(i){for(let l=jp(i);null!==l;l=gd(l))for(let d=10;d<l.length;d++){const f=l[d];if(512&f[2]){const y=f[1];_c(y,f,y.template,f[8])}else f[5]>0&&nf(f)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=un(a[l],i);as(d)&&d[5]>0&&nf(d)}}function rf(i,s){const a=un(s,i),l=a[1];(function PI(i,s){for(let a=s.length;a<i.blueprint.length;a++)s.push(i.blueprint[a])})(l,a),tf(l,a,a[8])}function Ed(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function nv(i){for(;i;){i[2]|=32;const s=Fh(i);if(Ja(i)&&!s)return i;i=s}return null}function sf(i){!function rv(i){for(let s=0;s<i.components.length;s++){const a=i.components[s],l=Lp(a);if(null!==l){const d=l[1];CI(d,l,d.template,a)}}}(i[8])}function iv(i,s,a){Vo(0),s(i,a)}const Ew=(()=>Promise.resolve(null))();function sv(i){return i[7]||(i[7]=[])}function Cw(i){return i.cleanup||(i.cleanup=[])}function mg(i,s){const a=i[9],l=a?a.get(kh,null):null;l&&l.handleError(s)}function of(i,s,a,l,d){for(let f=0;f<a.length;){const y=a[f++],_=a[f++],C=s[y],M=i.data[y];null!==M.setInput?M.setInput(C,d,l,_):C[_]=d}}function Va(i,s,a){const l=yi(s,i);!function Hp(i,s,a){pn(i)?i.setValue(s,a):s.textContent=a}(i[11],l,a)}function ci(i,s,a){let l=a?i.styles:null,d=a?i.classes:null,f=0;if(null!==s)for(let y=0;y<s.length;y++){const _=s[y];"number"==typeof _?f=_:1==f?d=le(d,_):2==f&&(l=le(l,_+": "+s[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}function af(i,s){hs(Lp(i)[1],ir())}function Dd(i){let s=function Rw(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;s;){let d;if(ui(i))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Te(903,"");d=s.\u0275dir}if(d){if(a){l.push(d);const y=i;y.inputs=uf(i.inputs),y.declaredInputs=uf(i.declaredInputs),y.outputs=uf(i.outputs);const _=d.hostBindings;_&&_v(i,_);const C=d.viewQuery,M=d.contentQueries;if(C&&yv(i,C),M&&vv(i,M),Q(i.inputs,d.inputs),Q(i.declaredInputs,d.declaredInputs),Q(i.outputs,d.outputs),ui(d)&&d.data.animation){const k=i.data;k.animation=(k.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const _=f[y];_&&_.ngInherit&&_(i),_===Dd&&(a=!1)}}s=Object.getPrototypeOf(s)}!function _g(i){let s=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=s+=d.hostVars,d.hostAttrs=b(d.hostAttrs,a=b(a,d.hostAttrs))}}(l)}function uf(i){return i===Vn?{}:i===mt?[]:i}function yv(i,s){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{s(l,d),a(l,d)}:s}function vv(i,s){const a=i.contentQueries;i.contentQueries=a?(l,d,f)=>{s(l,d,f),a(l,d,f)}:s}function _v(i,s){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{s(l,d),a(l,d)}:s}let lf=null;function dl(){if(!lf){const i=Ye.Symbol;if(i&&i.iterator)lf=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<s.length;++a){const l=s[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(lf=l)}}}return lf}function Td(i){return!!cf(i)&&(Array.isArray(i)||!(i instanceof Map)&&dl()in i)}function cf(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function Un(i,s,a){return i[s]=a}function ni(i,s,a){return!Object.is(i[s],a)&&(i[s]=a,!0)}function bg(i,s,a,l){const d=He();return ni(d,Oi(),s)&&(Zt(),qs(Yn(),d,i,s,a,l)),bg}function Sd(i,s,a,l){return ni(i,Oi(),a)?s+he(a)+l:zt}function Fw(i,s,a,l,d,f,y,_){const C=He(),M=Zt(),k=i+22,$=M.firstCreatePass?function BI(i,s,a,l,d,f,y,_,C){const M=s.consts,k=bd(s,i,4,y||null,cr(M,_));_w(s,a,k,cr(M,C)),hs(s,k);const $=k.tViews=fg(2,k,l,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,M);return null!==s.queries&&(s.queries.template(s,k),$.queries=s.queries.embeddedTView(k)),k}(k,M,C,s,a,l,d,f,y):M.data[k];$r($,!1);const oe=C[11].createComment("");Vh(M,C,oe,$),Gr(oe,C),Ed(C,C[k]=pt(oe,C,oe,$)),Qa($)&&hg(M,C,$),null!=y&&Ky(C,$,_)}function Lw(i){return _i(function Ul(){return Pt.lFrame.contextLView}(),22+i)}function Tv(i,s,a){const l=He();return ni(l,Oi(),s)&&Co(Zt(),Yn(),l,i,s,l[11],a,!1),Tv}function Eu(i,s,a,l,d){const y=d?"class":"style";of(i,a,s.inputs[y],y,l)}function ff(i,s,a,l){const d=He(),f=Zt(),y=22+i,_=d[11],C=d[y]=cy(_,s,function su(){return Pt.lFrame.currentNamespace}()),M=f.firstCreatePass?function hf(i,s,a,l,d,f,y){const _=s.consts,M=bd(s,i,2,d,cr(_,f));return _w(s,a,M,cr(_,y)),null!==M.attrs&&ci(M,M.attrs,!1),null!==M.mergedAttrs&&ci(M,M.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,M),M}(y,f,d,0,s,a,l):f.data[y];$r(M,!0);const k=M.mergedAttrs;null!==k&&vr(_,C,k);const $=M.classes;null!==$&&wy(_,C,$);const oe=M.styles;return null!==oe&&_y(_,C,oe),64!=(64&M.flags)&&Vh(f,d,C,M),0===function oo(){return Pt.lFrame.elementDepthCount}()&&Gr(C,d),function ao(){Pt.lFrame.elementDepthCount++}(),Qa(M)&&(hg(f,d,M),function dg(i,s,a){if(fa(s)){const d=s.directiveEnd;for(let f=s.directiveStart;f<d;f++){const y=i.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}(f,M,d)),null!==l&&Ky(d,M),ff}function di(){let i=ir();Oo()?function Ea(){Pt.lFrame.isParent=!1}():(i=i.parent,$r(i,!1));const s=i;!function nu(){Pt.lFrame.elementDepthCount--}();const a=Zt();return a.firstCreatePass&&(hs(a,i),fa(i)&&a.queries.elementEnd(i)),null!=s.classesWithoutHost&&function Xc(i){return 0!=(16&i.flags)}(s)&&Eu(a,s,He(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function ed(i){return 0!=(32&i.flags)}(s)&&Eu(a,s,He(),s.stylesWithoutHost,!1),di}function Dg(i,s,a,l){return ff(i,s,a,l),di(),Dg}function xv(){return He()}function Cc(i){return!!i&&"function"==typeof i.then}function xg(i){return!!i&&"function"==typeof i.subscribe}const Mg=xg;function gf(i,s,a,l){const d=He(),f=Zt(),y=ir();return function Mv(i,s,a,l,d,f,y,_){const C=Qa(l),k=i.firstCreatePass&&Cw(i),$=s[8],oe=sv(s);let ye=!0;if(3&l.type||_){const st=jr(l,s),dt=_?_(st):st,At=oe.length,qe=_?It=>_(xn(It[l.index])):l.index;if(pn(a)){let It=null;if(!_&&C&&(It=function yf(i,s,a,l){const d=i.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===l){const _=s[7],C=d[f+2];return _.length>C?_[C]:null}"string"==typeof y&&(f+=2)}return null}(i,s,d,l.index)),null!==It)(It.__ngLastListenerFn__||It).__ngNextListenerFn__=f,It.__ngLastListenerFn__=f,ye=!1;else{f=vf(l,s,$,f,!1);const ln=a.listen(dt,d,f);oe.push(f,ln),k&&k.push(d,qe,At,At+1)}}else f=vf(l,s,$,f,!0),dt.addEventListener(d,f,y),oe.push(f),k&&k.push(d,qe,At,y)}else f=vf(l,s,$,f,!1);const Ve=l.outputs;let Ke;if(ye&&null!==Ve&&(Ke=Ve[d])){const st=Ke.length;if(st)for(let dt=0;dt<st;dt+=2){const Bn=s[Ke[dt]][Ke[dt+1]].subscribe(f),Es=oe.length;oe.push(f,Bn),k&&k.push(d,l.index,Es,-(Es+1))}}}(f,d,d[11],y,i,s,!!a,l),gf}function Vw(i,s,a,l){try{return!1!==a(l)}catch(d){return mg(i,d),!1}}function vf(i,s,a,l,d){return function f(y){if(y===Function)return l;nv(2&i.flags?un(i.index,s):s);let C=Vw(s,0,l,y),M=f.__ngNextListenerFn__;for(;M;)C=Vw(s,0,M,y)&&C,M=M.__ngNextListenerFn__;return d&&!1===C&&(y.preventDefault(),y.returnValue=!1),C}}function _f(i=1){return function co(i){return(Pt.lFrame.contextLView=function Hu(i,s){for(;i>0;)s=s[15],i--;return s}(i,Pt.lFrame.contextLView))[8]}(i)}function Rg(i,s,a){return Pv(i,"",s,"",a),Rg}function Pv(i,s,a,l,d){const f=He(),y=Sd(f,s,a,l);return y!==zt&&Co(Zt(),Yn(),f,i,y,f[11],d,!1),Pv}function Ov(i,s,a,l,d){const f=i[a+1],y=null===s;let _=l?ra(f):yu(f),C=!1;for(;0!==_&&(!1===C||y);){const k=i[_+1];$I(i[_],s)&&(C=!0,i[_+1]=l?jy(k):Yh(k)),_=l?ra(k):yu(k)}C&&(i[a+1]=l?Yh(f):jy(f))}function $I(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Ii(i,s)>=0}const er={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ua(i){return i.substring(er.key,er.keyEnd)}function Ef(i,s){const a=er.textEnd;return a===s?-1:(s=er.keyEnd=function HI(i,s,a){for(;s<a&&i.charCodeAt(s)>32;)s++;return s}(i,er.key=s,a),Od(i,s,a))}function Od(i,s,a){for(;s<a&&i.charCodeAt(s)<=32;)s++;return s}function Lv(i,s){return function To(i,s,a,l){const d=He(),f=Zt(),y=Yi(2);f.firstUpdatePass&&Gw(f,i,y,l),s!==zt&&ni(d,y,s)&&Lg(f,f.data[hr()],d,d[11],i,d[y+1]=function WI(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=z(Jo(i)))),i}(s,a),l,y)}(i,s,null,!0),Lv}function Cu(i){!function Ao(i,s,a,l){const d=Zt(),f=Yi(2);d.firstUpdatePass&&Gw(d,null,f,l);const y=He();if(a!==zt&&ni(y,f,a)){const _=d.data[hr()];if(Tf(_,l)&&!Dc(d,f)){let C=l?_.classesWithoutHost:_.stylesWithoutHost;null!==C&&(a=le(C,a||"")),Eu(d,_,y,a,l)}else!function Ww(i,s,a,l,d,f,y,_){d===zt&&(d=mt);let C=0,M=0,k=0<d.length?d[0]:null,$=0<f.length?f[0]:null;for(;null!==k||null!==$;){const oe=C<d.length?d[C+1]:void 0,ye=M<f.length?f[M+1]:void 0;let Ke,Ve=null;k===$?(C+=2,M+=2,oe!==ye&&(Ve=$,Ke=ye)):null===$||null!==k&&k<$?(C+=2,Ve=k):(M+=2,Ve=$,Ke=ye),null!==Ve&&Lg(i,s,a,l,Ve,Ke,y,_),k=C<d.length?d[C]:null,$=M<f.length?f[M]:null}}(d,_,y,y[11],y[f+1],y[f+1]=function Vv(i,s,a){if(null==a||""===a)return mt;const l=[],d=Jo(a);if(Array.isArray(d))for(let f=0;f<d.length;f++)i(l,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&i(l,f,d[f]);else"string"==typeof d&&s(l,d);return l}(i,s,a),l,f)}}(Xr,sa,i,!0)}function sa(i,s){for(let a=function Og(i){return function Cf(i){er.key=0,er.keyEnd=0,er.value=0,er.valueEnd=0,er.textEnd=i.length}(i),Ef(i,Od(i,0,er.textEnd))}(s);a>=0;a=Ef(s,a))Xr(i,Ua(s),!0)}function Dc(i,s){return s>=i.expandoStartIndex}function Gw(i,s,a,l){const d=i.data;if(null===d[a+1]){const f=d[hr()],y=Dc(i,a);Tf(f,l)&&null===s&&!y&&(s=!1),s=function qI(i,s,a,l){const d=function ru(i){const s=Pt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let f=l?s.residualClasses:s.residualStyles;if(null===d)0===(l?s.classBindings:s.styleBindings)&&(a=Tc(a=Fg(null,i,s,a,l),s.attrs,l),f=null);else{const y=s.directiveStylingLast;if(-1===y||i[y]!==d)if(a=Fg(d,i,s,a,l),null===f){let C=function qw(i,s,a){const l=a?s.classBindings:s.styleBindings;if(0!==yu(l))return i[ra(l)]}(i,s,l);void 0!==C&&Array.isArray(C)&&(C=Fg(null,i,s,C[1],l),C=Tc(C,s.attrs,l),function zI(i,s,a,l){i[ra(a?s.classBindings:s.styleBindings)]=l}(i,s,l,C))}else f=function zw(i,s,a){let l;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)l=Tc(l,i[f].hostAttrs,a);return Tc(l,s.attrs,a)}(i,s,l)}return void 0!==f&&(l?s.residualClasses=f:s.residualStyles=f),a}(d,f,s,l),function kv(i,s,a,l,d,f){let y=f?s.classBindings:s.styleBindings,_=ra(y),C=yu(y);i[l]=a;let k,M=!1;if(Array.isArray(a)){const $=a;k=$[1],(null===k||Ii($,k)>0)&&(M=!0)}else k=a;if(d)if(0!==C){const oe=ra(i[_+1]);i[l+1]=Uy(oe,_),0!==oe&&(i[oe+1]=sg(i[oe+1],l)),i[_+1]=function WA(i,s){return 131071&i|s<<17}(i[_+1],l)}else i[l+1]=Uy(_,0),0!==_&&(i[_+1]=sg(i[_+1],l)),_=l;else i[l+1]=Uy(C,0),0===_?_=l:i[C+1]=sg(i[C+1],l),C=l;M&&(i[l+1]=Yh(i[l+1])),Ov(i,k,l,!0),Ov(i,k,l,!1),function Ic(i,s,a,l,d){const f=d?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof s&&Ii(f,s)>=0&&(a[l+1]=jy(a[l+1]))}(s,k,i,l,f),y=Uy(_,C),f?s.classBindings=y:s.styleBindings=y}(d,f,s,a,y,l)}}function Fg(i,s,a,l,d){let f=null;const y=a.directiveEnd;let _=a.directiveStylingLast;for(-1===_?_=a.directiveStart:_++;_<y&&(f=s[_],l=Tc(l,f.hostAttrs,d),f!==i);)_++;return null!==i&&(a.directiveStylingLast=_),l}function Tc(i,s,a){const l=a?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const y=s[f];"number"==typeof y?d=y:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Xr(i,y,!!a||s[++f]))}return void 0===i?null:i}function Lg(i,s,a,l,d,f,y,_){if(!(3&s.type))return;const C=i.data,M=C[_+1];Vg(function og(i){return 1==(1&i)}(M)?Zw(C,s,a,d,yu(M),y):void 0)||(Vg(f)||function By(i){return 2==(2&i)}(M)&&(f=Zw(C,null,a,d,_,y)),function tI(i,s,a,l,d){const f=pn(i);if(s)d?f?i.addClass(a,l):a.classList.add(l):f?i.removeClass(a,l):a.classList.remove(l);else{let y=-1===l.indexOf("-")?void 0:Xo.DashCase;if(null==d)f?i.removeStyle(a,l,y):a.style.removeProperty(l);else{const _="string"==typeof d&&d.endsWith("!important");_&&(d=d.slice(0,-10),y|=Xo.Important),f?i.setStyle(a,l,d,y):a.style.setProperty(l,d,_?"important":"")}}}(l,y,yi(hr(),a),d,f))}function Zw(i,s,a,l,d,f){const y=null===s;let _;for(;d>0;){const C=i[d],M=Array.isArray(C),k=M?C[1]:C,$=null===k;let oe=a[d+1];oe===zt&&(oe=$?mt:void 0);let ye=$?Wl(oe,l):k===l?oe:void 0;if(M&&!Vg(ye)&&(ye=Wl(C,l)),Vg(ye)&&(_=ye,y))return _;const Ve=i[d+1];d=y?ra(Ve):yu(Ve)}if(null!==s){let C=f?s.residualClasses:s.residualStyles;null!=C&&(_=Wl(C,l))}return _}function Vg(i){return void 0!==i}function Tf(i,s){return 0!=(i.flags&(s?16:32))}function Ld(i,s=""){const a=He(),l=Zt(),d=i+22,f=l.firstCreatePass?bd(l,d,1,s,null):l.data[d],y=a[d]=function $p(i,s){return pn(i)?i.createText(s):i.createTextNode(s)}(a[11],s);Vh(l,a,y,f),$r(f,!1)}function Vd(i){return Ud("",i,""),Vd}function Ud(i,s,a){const l=He(),d=Sd(l,i,s,a);return d!==zt&&Va(l,hr(),d),Ud}const zs=void 0;var ab=["en",[["a","p"],["AM","PM"],zs],[["AM","PM"],zs,zs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zs,"{1} 'at' {0}",zs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ob(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ac={};function Hd(i){const s=function JI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Jv(s);if(a)return a;const l=s.split("-")[0];if(a=Jv(l),a)return a;if("en"===l)return ab;throw new Error(`Missing locale data for the locale "${i}".`)}function Qv(i){return Hd(i)[Nt.PluralCase]}function Jv(i){return i in Ac||(Ac[i]=Ye.ng&&Ye.ng.common&&Ye.ng.common.locales&&Ye.ng.common.locales[i]),Ac[i]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const Gd="en-US";let hi=Gd;function Qd(i,s,a,l,d){if(i=te(i),Array.isArray(i))for(let f=0;f<i.length;f++)Qd(i[f],s,a,l,d);else{const f=Zt(),y=He();let _=al(i)?i:te(i.provide),C=J0(i);const M=ir(),k=1048575&M.providerIndexes,$=M.directiveStart,oe=M.providerIndexes>>20;if(al(i)||!i.multi){const ye=new fo(C,d,_d),Ve=u_(_,s,d?k:k+oe,$);-1===Ve?($o(Ta(M,y),f,_),Nc(f,i,s.length),s.push(_),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),a.push(ye),y.push(ye)):(a[Ve]=ye,y[Ve]=ye)}else{const ye=u_(_,s,k+oe,$),Ve=u_(_,s,k,k+oe),Ke=ye>=0&&a[ye],st=Ve>=0&&a[Ve];if(d&&!st||!d&&!Ke){$o(Ta(M,y),f,_);const dt=function Kg(i,s,a,l,d){const f=new fo(i,a,_d);return f.multi=[],f.index=s,f.componentProviders=0,a_(f,d,l&&!a),f}(d?Eb:aa,a.length,d,l,C);!d&&st&&(a[Ve].providerFactory=dt),Nc(f,i,s.length,0),s.push(_),M.directiveStart++,M.directiveEnd++,d&&(M.providerIndexes+=1048576),a.push(dt),y.push(dt)}else Nc(f,i,ye>-1?ye:Ve,a_(a[d?Ve:ye],C,!d&&l));!d&&l&&st&&a[Ve].componentProviders++}}}function Nc(i,s,a,l){const d=al(s),f=function Y0(i){return!!i.useClass}(s);if(d||f){const C=(f?te(s.useClass):s).prototype.ngOnDestroy;if(C){const M=i.destroyHooks||(i.destroyHooks=[]);if(!d&&s.multi){const k=M.indexOf(a);-1===k?M.push(a,[l,C]):M[k+1].push(l,C)}else M.push(a,C)}}}function a_(i,s,a){return a&&i.componentProviders++,i.multi.push(s)-1}function u_(i,s,a,l){for(let d=a;d<l;d++)if(s[d]===i)return d;return-1}function aa(i,s,a,l){return gr(this.multi,[])}function Eb(i,s,a,l){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,_=Wu(a,a[1],this.providerFactory.index,l);f=_.slice(0,y),gr(d,f);for(let C=y;C<_.length;C++)f.push(_[C])}else f=[],gr(d,f);return f}function gr(i,s){for(let a=0;a<i.length;a++)s.push((0,i[a])());return s}function fi(i,s=[]){return a=>{a.providersResolver=(l,d)=>function Pc(i,s,a){const l=Zt();if(l.firstCreatePass){const d=ui(i);Qd(a,l.data,l.blueprint,d,!0),Qd(s,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,s)}}class fD{resolveComponentFactory(s){throw function Wn(i){const s=Error(`No component factory found for ${z(i)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=i,s}(s)}}let Jd=(()=>{class i{}return i.NULL=new fD,i})();class Ws{}class Cb{}class Uf{}function Yg(){return kc(ir(),He())}function kc(i,s){return new Xd(jr(i,s))}let Xd=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Yg,i})();function Ai(i){return i instanceof Xd?i.nativeElement:i}class Ib{}let pD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function gD(){const i=He(),a=un(ir().index,i);return function Db(i){return i[11]}(Br(a)?a:i)}(),i})(),mD=(()=>{class i{}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:()=>null}),i})();class Tb{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Ab=new Tb("14.0.0"),Ga={};function Du(i,s,a,l,d=!1){for(;null!==a;){const f=s[a.index];if(null!==f&&l.push(xn(f)),lr(f))for(let _=10;_<f.length;_++){const C=f[_],M=C[1].firstChild;null!==M&&Du(C[1],C,M,l)}const y=a.type;if(8&y)Du(i,s,a.child,l);else if(32&y){const _=Oh(a,s);let C;for(;C=_();)l.push(C)}else if(16&y){const _=V0(s,a);if(Array.isArray(_))l.push(..._);else{const C=Fh(s[16]);Du(C[1],C,_,l,!0)}}a=d?a.projectionNext:a.next}return l}class Bf{constructor(s,a){this._lView=s,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,a=s[1];return Du(a,s,a.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(lr(s)){const a=s[8],l=a?a.indexOf(this):-1;l>-1&&(Nr(s,l),Vi(a,l))}this._attachedToViewContainer=!1}N0(this._lView[1],this._lView)}onDestroy(s){Qy(this._lView[1],this._lView,null,s)}markForCheck(){nv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function ti(i,s,a){const l=s[10];l.begin&&l.begin();try{_c(i,s,i.template,a)}catch(d){throw mg(s,d),d}finally{l.end&&l.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Te(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ZC(i,s){Uh(i,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Te(902,"");this._appRef=s}}class Sb extends Bf{constructor(s){super(s),this._view=s}detectChanges(){sf(this._view)}checkNoChanges(){}get context(){return null}}class Qg extends Jd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const a=X(s);return new c_(a,this.ngModule)}}function qa(i){const s=[];for(let a in i)i.hasOwnProperty(a)&&s.push({propName:i[a],templateName:a});return s}class eh{constructor(s,a){this.injector=s,this.parentInjector=a}get(s,a,l){const d=this.injector.get(s,Ga,l);return d!==Ga||a===Ga?d:this.parentInjector.get(s,a,l)}}class c_ extends Uf{constructor(s,a){super(),this.componentDef=s,this.ngModule=a,this.componentType=s.type,this.selector=function $i(i){return i.map(sI).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return qa(this.componentDef.inputs)}get outputs(){return qa(this.componentDef.outputs)}create(s,a,l,d){let f=(d=d||this.ngModule)instanceof Fa?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new eh(s,f):s,_=y.get(Ib,io),C=y.get(mD,null),M=_.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",$=l?function mw(i,s,a){if(pn(i))return i.selectRootElement(s,a===Bt.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(M,l,this.componentDef.encapsulation):cy(_.createRenderer(null,this.componentDef),k,function xb(i){const s=i.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(k)),oe=this.componentDef.onPush?288:272,ye=function Mw(i,s){return{components:[],scheduler:i||VC,clean:Ew,playerHandler:s||null,flags:0}}(),Ve=fg(0,null,null,1,0,null,null,null,null,null),Ke=yc(null,Ve,ye,oe,null,null,_,M,C,y,null);let st,dt;Qi(Ke);try{const At=function Ti(i,s,a,l,d,f){const y=a[1];a[22]=i;const C=bd(y,22,2,"#host",null),M=C.mergedAttrs=s.hostAttrs;null!==M&&(ci(C,M,!0),null!==i&&(vr(d,i,M),null!==C.classes&&wy(d,i,C.classes),null!==C.styles&&_y(d,i,C.styles)));const k=l.createRenderer(i,s),$=yc(a,Yy(s),null,s.onPush?32:16,a[22],C,l,k,f||null,null,null);return y.firstCreatePass&&($o(Ta(C,a),y,s.type),ww(y,C),MI(C,a.length,1)),Ed(a,$),a[22]=$}($,this.componentDef,Ke,_,M);if($)if(l)vr(M,$,["ng-version",Ab.full]);else{const{attrs:qe,classes:It}=function $0(i){const s=[],a=[];let l=1,d=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===d?""!==f&&s.push(f,i[++l]):8===d&&a.push(f);else{if(!ta(d))break;d=f}l++}return{attrs:s,classes:a}}(this.componentDef.selectors[0]);qe&&vr(M,$,qe),It&&It.length>0&&wy(M,$,It.join(" "))}if(dt=ks(Ve,22),void 0!==a){const qe=dt.projection=[];for(let It=0;It<this.ngContentSelectors.length;It++){const ln=a[It];qe.push(null!=ln?Array.from(ln):null)}}st=function Id(i,s,a,l,d){const f=a[1],y=function lS(i,s,a){const l=ir();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),bw(i,l,s,vc(i,s,1,null),a));const d=Wu(s,i,l.directiveStart,l);Gr(d,s);const f=jr(l,s);return f&&Gr(f,s),d}(f,a,s);if(l.components.push(y),i[8]=y,d&&d.forEach(C=>C(y,s)),s.contentQueries){const C=ir();s.contentQueries(1,y,C.directiveStart)}const _=ir();return!f.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Bs(_.index),AI(a[1],_,0,_.directiveStart,_.directiveEnd,s),In(s,y)),y}(At,this.componentDef,Ke,ye,[af]),tf(Ve,Ke,null)}finally{Ia()}return new h_(this.componentType,st,kc(dt,Ke),Ke,dt)}}class h_ extends class Vf{}{constructor(s,a,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new Sb(d),this.componentType=s}get injector(){return new Mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function th(i,s){return new Zs(i,s??null)}class Zs extends Ws{constructor(s,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Qg(this);const l=Je(s);this._bootstrapComponents=ka(l.bootstrap),this._r3Injector=ew(s,a,[{provide:Ws,useValue:this},{provide:Jd,useValue:this.componentFactoryResolver}],z(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(s)}get(s,a=na.THROW_IF_NOT_FOUND,l=at.Default){return s===na||s===Ws||s===Qp?this:this._r3Injector.get(s,a,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Jg extends Cb{constructor(s){super(),this.moduleType=s}create(s){return new Zs(this.moduleType,s)}}class jf extends Ws{constructor(s,a,l){super(),this.componentFactoryResolver=new Qg(this),this.instance=null;const d=new Jp([...s,{provide:Ws,useValue:this},{provide:Jd,useValue:this.componentFactoryResolver}],a||hc(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Xg(i,s=null,a=null){return new jf(i,s,a).injector}function g_(i,s,a){const l=dr()+i,d=He();return d[l]===zt?Un(d,l,a?s.call(a):s()):function kr(i,s){return i[s]}(d,l)}function Pb(i,s,a,l){return m_(He(),dr(),i,s,a,l)}function ua(i,s){const a=i[s];return a===zt?void 0:a}function m_(i,s,a,l,d,f){const y=s+a;return ni(i,y,d)?Un(i,y+1,f?l.call(f,d):l(d)):ua(i,y+1)}function El(i,s,a,l,d,f,y){const _=s+a;return function wu(i,s,a,l){const d=ni(i,s,a);return ni(i,s+1,l)||d}(i,_,d,f)?Un(i,_+2,y?l.call(y,d,f):l(d,f)):ua(i,_+2)}function __(i,s){const a=Zt();let l;const d=i+22;a.firstCreatePass?(l=function $f(i,s){if(s)for(let a=s.length-1;a>=0;a--){const l=s[a];if(i===l.name)return l}}(s,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const f=l.factory||(l.factory=gi(l.type)),y=kt(_d);try{const _=Yt(!1),C=f();return Yt(_),function Pd(i,s,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),s[a]=l}(a,He(),d,C),C}finally{kt(y)}}function Lb(i,s,a){const l=i+22,d=He(),f=_i(d,l);return Hf(d,l)?m_(d,dr(),s,f.transform,a,f):f.transform(a)}function Vb(i,s,a,l){const d=i+22,f=He(),y=_i(f,d);return Hf(f,d)?El(f,dr(),s,y.transform,a,l,y):y.transform(a,l)}function Hf(i,s){return i[1].data[s].pure}function b_(i){return s=>{setTimeout(i,void 0,s)}}const la=class w_ extends c.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,a,l){let d=s,f=a||(()=>null),y=l;if(s&&"object"==typeof s){const C=s;d=C.next?.bind(C),f=C.error?.bind(C),y=C.complete?.bind(C)}this.__isAsync&&(f=b_(f),d&&(d=b_(d)),y&&(y=b_(y)));const _=super.subscribe({next:d,error:f,complete:y});return s instanceof P.w0&&s.add(_),_}};function Ub(){return this._results[dl()]()}class Fc{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=dl(),l=Fc.prototype;l[a]||(l[a]=Ub)}get changes(){return this._changes||(this._changes=new la)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,a){return this._results.reduce(s,a)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,a){const l=this;l.dirty=!1;const d=Rr(s);(this._changesDetected=!function ql(i,s,a){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],f=s[l];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ca=(()=>{class i{}return i.__NG_ELEMENT_ID__=$b,i})();const Bb=ca,jb=class extends Bb{constructor(s,a,l){super(),this._declarationLView=s,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(s,a){const l=this._declarationTContainer.tViews,d=yc(this._declarationLView,l,s,16,null,l.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(l)),tf(l,d,s),new Bf(d)}};function $b(){return Cl(ir(),He())}function Cl(i,s){return 4&i.type?new jb(s,i,kc(i,s)):null}let rh=(()=>{class i{}return i.__NG_ELEMENT_ID__=_D,i})();function _D(){return Tu(ir(),He())}const Zr=rh,gn=class extends Zr{constructor(s,a,l){super(),this._lContainer=s,this._hostTNode=a,this._hostLView=l}get element(){return kc(this._hostTNode,this._hostLView)}get injector(){return new Mr(this._hostTNode,this._hostLView)}get parentInjector(){const s=Ci(this._hostTNode,this._hostLView);if(T(s)){const a=ht(s,this._hostLView),l=K(s);return new Mr(a[1].data[l+8],a)}return new Mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const a=E_(this._lContainer);return null!==a&&a[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,a,l){let d,f;"number"==typeof l?d=l:null!=l&&(d=l.index,f=l.injector);const y=s.createEmbeddedView(a||{},f);return this.insert(y,d),y}createComponent(s,a,l,d,f){const y=s&&!function Jr(i){return"function"==typeof i}(s);let _;if(y)_=a;else{const $=a||{};_=$.index,l=$.injector,d=$.projectableNodes,f=$.environmentInjector||$.ngModuleRef}const C=y?s:new c_(X(s)),M=l||this.parentInjector;if(!f&&null==C.ngModule){const oe=(y?M:this.parentInjector).get(Fa,null);oe&&(f=oe)}const k=C.create(M,d,void 0,f);return this.insert(k.hostView,_),k}insert(s,a){const l=s._lView,d=l[1];if(function Vu(i){return lr(i[3])}(l)){const k=this.indexOf(s);if(-1!==k)this.detach(k);else{const $=l[3],oe=new gn($,$[6],$[3]);oe.detach(oe.indexOf(s))}}const f=this._adjustIndex(a),y=this._lContainer;!function R0(i,s,a,l){const d=10+l,f=a.length;l>0&&(a[d-1][4]=s),l<f-10?(s[4]=a[d],Li(a,10+l,s)):(a.push(s),s[4]=null),s[3]=a;const y=s[17];null!==y&&a!==y&&function YC(i,s){const a=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===a?i[9]=[s]:a.push(s)}(y,s);const _=s[19];null!==_&&_.insertView(i),s[2]|=64}(d,l,y,f);const _=my(f,y),C=l[11],M=Lh(C,y[7]);return null!==M&&function WC(i,s,a,l,d,f){l[0]=d,l[6]=s,Uh(i,l,a,1,d,f)}(d,y[6],C,l,M,_),s.attachToViewContainerRef(),Li(rm(y),f,s),s}move(s,a){return this.insert(s,a)}indexOf(s){const a=E_(this._lContainer);return null!==a?a.indexOf(s):-1}remove(s){const a=this._adjustIndex(s,-1),l=Nr(this._lContainer,a);l&&(Vi(rm(this._lContainer),a),N0(l[1],l))}detach(s){const a=this._adjustIndex(s,-1),l=Nr(this._lContainer,a);return l&&null!=Vi(rm(this._lContainer),a)?new Bf(l):null}_adjustIndex(s,a=0){return s??this.length+a}};function E_(i){return i[8]}function rm(i){return i[8]||(i[8]=[])}function Tu(i,s){let a;const l=s[i.index];if(lr(l))a=l;else{let d;if(8&i.type)d=xn(l);else{const f=s[11];d=f.createComment("");const y=jr(i,s);il(f,Lh(f,y),d,function fy(i,s){return pn(i)?i.nextSibling(s):s.nextSibling}(f,y),!1)}s[i.index]=a=pt(l,s,d,i),Ed(s,a)}return new gn(a,i,s)}class Gf{constructor(s){this.queryList=s,this.matches=null}clone(){return new Gf(this.queryList)}setDirty(){this.queryList.setDirty()}}class Lc{constructor(s=[]){this.queries=s}createEmbeddedView(s){const a=s.queries;if(null!==a){const l=null!==s.contentQueries?s.contentQueries[0]:a.length,d=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new Lc(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let a=0;a<this.queries.length;a++)null!==ih(s,a).matches&&this.queries[a].setDirty()}}class Hb{constructor(s,a,l=null){this.predicate=s,this.flags=a,this.read=l}}class C_{constructor(s=[]){this.queries=s}elementStart(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,a)}elementEnd(s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(s)}embeddedTView(s){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(s,d);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new C_(a):null}template(s,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,a)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Dn{constructor(s,a=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(s,a){this.isApplyingToNode(a)&&this.matchTNode(s,a)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,a){this.elementStart(s,a)}embeddedTView(s,a){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,a),new Dn(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(s,a,bD(a,f)),this.matchTNodeWithReadOption(s,a,xr(a,s,f,!1,!1))}else l===ca?4&a.type&&this.matchTNodeWithReadOption(s,a,-1):this.matchTNodeWithReadOption(s,a,xr(a,s,l,!1,!1))}matchTNodeWithReadOption(s,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Xd||d===rh||d===ca&&4&a.type)this.addMatch(a.index,-2);else{const f=xr(a,s,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(s,a){null===this.matches?this.matches=[s,a]:this.matches.push(s,a)}}function bD(i,s){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===s)return a[l+1];return null}function qf(i,s,a,l){return-1===a?function im(i,s){return 11&i.type?kc(i,s):4&i.type?Cl(i,s):null}(s,i):-2===a?function zf(i,s,a){return a===Xd?kc(s,i):a===ca?Cl(s,i):a===rh?Tu(s,i):void 0}(i,s,l):Wu(i,i[1],a,s)}function Wf(i,s,a,l){const d=s[19].queries[l];if(null===d.matches){const f=i.data,y=a.matches,_=[];for(let C=0;C<y.length;C+=2){const M=y[C];_.push(M<0?null:qf(s,f[M],y[C+1],a.metadata.read))}d.matches=_}return d.matches}function sm(i,s,a,l){const d=i.queries.getByIndex(a),f=d.matches;if(null!==f){const y=Wf(i,s,d,a);for(let _=0;_<f.length;_+=2){const C=f[_];if(C>0)l.push(y[_/2]);else{const M=f[_+1],k=s[-C];for(let $=10;$<k.length;$++){const oe=k[$];oe[17]===oe[3]&&sm(oe[1],oe,M,l)}if(null!==k[9]){const $=k[9];for(let oe=0;oe<$.length;oe++){const ye=$[oe];sm(ye[1],ye,M,l)}}}}}return l}function I_(i){const s=He(),a=Zt(),l=lo();Vo(l+1);const d=ih(a,l);if(i.dirty&&tu(s)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const f=d.crossesNgTemplate?sm(a,s,l,[]):Wf(a,s,d,l);i.reset(f,Ai),i.notifyOnChanges()}return!0}return!1}function D_(i,s,a){const l=Zt();l.firstCreatePass&&(Wb(l,new Hb(i,s,a),-1),2==(2&s)&&(l.staticViewQueries=!0)),zb(l,He(),s)}function Gb(i,s,a,l){const d=Zt();if(d.firstCreatePass){const f=ir();Wb(d,new Hb(s,a,l),f.index),function ED(i,s){const a=i.contentQueries||(i.contentQueries=[]);s!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,s)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}zb(d,He(),a)}function T_(){return function qb(i,s){return i[19].queries[s].queryList}(He(),lo())}function zb(i,s,a){const l=new Fc(4==(4&a));Qy(i,s,l,l.destroy),null===s[19]&&(s[19]=new Lc),s[19].queries.push(new Gf(l))}function Wb(i,s,a){null===i.queries&&(i.queries=new C_),i.queries.track(new Dn(s,a))}function ih(i,s){return i.queries.getByIndex(s)}function Il(i){const s=X(i)||ee(i)||Re(i);return null!==s&&s.standalone}function pm(...i){}const Dl=new tn("Application Initializer");let mm=(()=>{class i{constructor(a){this.appInits=a,this.resolve=pm,this.reject=pm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(Cc(f))a.push(f);else if(Mg(f)){const y=new Promise((_,C)=>{f.subscribe({complete:_,error:C})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(ft(Dl,8))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Tl=new tn("AppId",{providedIn:"root",factory:function k_(){return`${ym()}${ym()}${ym()}`}});function ym(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const si=new tn("Platform Initializer"),O_=new tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),vm=new tn("appBootstrapListener");let hE=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const Kf=new tn("LocaleId",{providedIn:"root",factory:()=>function jt(i,s=at.Default){return ft(i,s)}(Kf,at.Optional|at.SkipSelf)||function LD(){return typeof $localize<"u"&&$localize.locale||Gd}()}),_m=new tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Qf{constructor(s,a){this.ngModuleFactory=s,this.componentFactories=a}}let fE=(()=>{class i{compileModuleSync(a){return new Jg(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=ka(Je(a).declarations).reduce((y,_)=>{const C=X(_);return C&&y.push(new c_(C)),y},[]);return new Qf(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const gE=(()=>Promise.resolve(0))();function L_(i){typeof Zone>"u"?gE.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class ws{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new la(!1),this.onMicrotaskEmpty=new la(!1),this.onStable=new la(!1),this.onError=new la(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function mE(){let i=Ye.requestAnimationFrame,s=Ye.cancelAnimationFrame;if(typeof Zone<"u"&&i&&s){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function VD(i){const s=()=>{!function jc(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Ye,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,wm(i),i.isCheckStableRunning=!0,Bc(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),wm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,f,y,_)=>{try{return yE(i),a.invokeTask(d,f,y,_)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&s(),vE(i)}},onInvoke:(a,l,d,f,y,_,C)=>{try{return yE(i),a.invoke(d,f,y,_,C)}finally{i.shouldCoalesceRunChangeDetection&&s(),vE(i)}},onHasTask:(a,l,d,f)=>{a.hasTask(d,f),l===d&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,wm(i),Bc(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,d,f)=>(a.handleError(d,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ws.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ws.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,a,l){return this._inner.run(s,a,l)}runTask(s,a,l,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,s,V_,pm,pm);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(s,a,l){return this._inner.runGuarded(s,a,l)}runOutsideAngular(s){return this._outer.run(s)}}const V_={};function Bc(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function wm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function yE(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function vE(i){i._nesting--,Bc(i)}class UD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new la,this.onMicrotaskEmpty=new la,this.onStable=new la,this.onError=new la}run(s,a,l){return s.apply(a,l)}runGuarded(s,a,l){return s.apply(a,l)}runOutsideAngular(s){return s()}runTask(s,a,l,d){return s.apply(a,l)}}const lh=new tn(""),Al=new tn("");let B_,$c=(()=>{class i{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,B_||(function BD(i){B_=i}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ws.assertNotInAngularZone(),L_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())L_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(ft(ws),ft(U_),ft(Al))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac}),i})(),U_=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return B_?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Ht({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Za=null;const Jf=new tn("AllowMultipleToken"),_E=new tn("PlatformOnDestroy");class wE{constructor(s,a){this.name=s,this.token=a}}function $_(i,s,a=[]){const l=`Platform: ${s}`,d=new tn(l);return(f=[])=>{let y=xu();if(!y||y.injector.get(Jf,!1)){const _=[...a,...f,{provide:d,useValue:!0}];i?i(_):function bs(i){if(Za&&!Za.get(Jf,!1))throw new Te(400,"");Za=i;const s=i.get(CE);(function ep(i){const s=i.get(si,null);s&&s.forEach(a=>a())})(i)}(function Hc(i=[],s){return na.create({name:s,providers:[{provide:Oa,useValue:"platform"},{provide:_E,useValue:()=>Za=null},...i]})}(_,l))}return function Sl(i){const s=xu();if(!s)throw new Te(401,"");return s}()}}function xu(){return Za?.get(CE)??null}let CE=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function IE(i,s){let a;return a="noop"===i?new UD:("zone.js"===i?void 0:i)||new ws(s),a}(l?.ngZone,function Gc(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),f=[{provide:ws,useValue:d}];return d.run(()=>{const y=na.create({providers:f,parent:this.injector,name:a.moduleType.name}),_=a.create(y),C=_.injector.get(kh,null);if(!C)throw new Te(402,"");return d.runOutsideAngular(()=>{const M=d.onError.subscribe({next:k=>{C.handleError(k)}});_.onDestroy(()=>{tp(this._modules,_),M.unsubscribe()})}),function Mu(i,s,a){try{const l=a();return Cc(l)?l.catch(d=>{throw s.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(C,d,()=>{const M=_.injector.get(mm);return M.runInitializers(),M.donePromise.then(()=>(function xc(i){$t(i,"Expected localeId to be defined"),"string"==typeof i&&(hi=i.toLowerCase().replace(/_/g,"-"))}(_.injector.get(Kf,Gd)||Gd),this._moduleDoBootstrap(_),_))})})}bootstrapModule(a,l=[]){const d=xl({},l);return function Xf(i,s,a){const l=new Jg(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const l=a.injector.get(ch);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Te(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Te(404,"");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._injector.get(_E,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(ft(na))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function xl(i,s){return Array.isArray(s)?s.reduce(xl,i):{...i,...s}}let ch=(()=>{class i{constructor(a,l,d,f){this._zone=a,this._injector=l,this._exceptionHandler=d,this._initStatus=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new A.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),_=new A.y(C=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{ws.assertNotInAngularZone(),L_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{ws.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,L.T)(y,_.pipe((0,B.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof Uf;if(!this._initStatus.done)throw!d&&Il(a),new Te(405,false);let f;f=d?a:this._injector.get(Jd).resolveComponentFactory(a),this.componentTypes.push(f.componentType);const y=function bm(i){return i.isBoundToModule}(f)?void 0:this._injector.get(Ws),C=f.create(na.NULL,[],l||f.selector,y),M=C.location.nativeElement,k=C.injector.get(lh,null);return k?.registerApplication(M),C.onDestroy(()=>{this.detachView(C.hostView),tp(this.components,C),k?.unregisterApplication(M)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Te(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;tp(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(vm,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>tp(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Te(406,false);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(ft(ws),ft(na),ft(kh),ft(mm))},i.\u0275prov=Ht({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function tp(i,s){const a=i.indexOf(s);a>-1&&i.splice(a,1)}let TE=!0,AE=!1;function Em(){return AE=!0,TE}function SE(){if(AE)throw new Error("Cannot enable prod mode after platform setup.");TE=!1}let qc=(()=>{class i{}return i.__NG_ELEMENT_ID__=np,i})();function np(i){return function xE(i,s,a){if(xs(i)&&!a){const l=un(i.index,s);return new Bf(l,l)}return 47&i.type?new Bf(s[16],s):null}(ir(),He(),16==(16&i))}class Sm{constructor(){}supports(s){return Td(s)}create(s){return new NE(s)}}const xm=(i,s)=>s;class NE{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||xm}forEachItem(s){let a;for(a=this._itHead;null!==a;a=a._next)s(a)}forEachOperation(s){let a=this._itHead,l=this._removalsHead,d=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<Mm(l,d,f)?a:l,_=Mm(y,d,f),C=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const M=_-d,k=C-d;if(M!=k){for(let oe=0;oe<M;oe++){const ye=oe<f.length?f[oe]:f[oe]=0,Ve=ye+oe;k<=Ve&&Ve<M&&(f[oe]=ye+1)}f[y.previousIndex]=k-M}}_!==C&&s(y,_,C)}}forEachPreviousItem(s){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachMovedItem(s){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}forEachIdentityChange(s){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)s(a)}diff(s){if(null==s&&(s=[]),!Td(s))throw new Te(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,y,a=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let _=0;_<this.length;_++)f=s[_],y=this._trackByFn(_,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,_)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,_),l=!0),a=a._next}else d=0,function wv(i,s){if(Array.isArray(i))for(let a=0;a<i.length;a++)s(i[a]);else{const a=i[dl()]();let l;for(;!(l=a.next()).done;)s(l.value)}}(s,_=>{y=this._trackByFn(d,_),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,_,y,d)),Object.is(a.item,_)||this._addIdentityChange(a,_)):(a=this._mismatch(a,_,y,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,a,l,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(s.item,a)||this._addIdentityChange(s,a),this._moveAfter(s,f,d)):s=this._addAfter(new kE(a,l),f,d),s}_verifyReinsertion(s,a,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const a=s._next;this._addToRemovals(this._unlink(s)),s=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,a,l),this._addToMoves(s,l),s}_moveAfter(s,a,l){return this._unlink(s),this._insertAfter(s,a,l),this._addToMoves(s,l),s}_addAfter(s,a,l){return this._insertAfter(s,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,a,l){const d=null===a?this._itHead:a._next;return s._next=d,s._prev=a,null===d?this._itTail=s:d._prev=s,null===a?this._itHead=s:a._next=s,null===this._linkedRecords&&(this._linkedRecords=new FE),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const a=s._prev,l=s._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,s}_addToMoves(s,a){return s.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new FE),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,a){return s.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class kE{constructor(s,a){this.item=s,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OE{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const a=s._prevDup,l=s._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class FE{constructor(){this.map=new Map}put(s){const a=s.trackById;let l=this.map.get(a);l||(l=new OE,this.map.set(a,l)),l.add(s)}get(s,a){const d=this.map.get(s);return d?d.get(s,a):null}remove(s){const a=s.trackById;return this.map.get(a).remove(s)&&this.map.delete(a),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Mm(i,s,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+s+d}class LE{constructor(){}supports(s){return s instanceof Map||cf(s)}create(){return new W_}}class W_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let a;for(a=this._mapHead;null!==a;a=a._next)s(a)}forEachPreviousItem(s){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)s(a)}forEachChangedItem(s){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)s(a)}forEachAddedItem(s){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)s(a)}forEachRemovedItem(s){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)s(a)}diff(s){if(s){if(!(s instanceof Map||cf(s)))throw new Te(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,a){if(s){const l=s._prev;return a._next=s,a._prev=l,s._prev=a,l&&(l._next=a),s===this._mapHead&&(this._mapHead=a),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(s,a){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const l=new WD(s);return this._records.set(s,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,a){Object.is(a,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=a,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,a){s instanceof Map?s.forEach(a):Object.keys(s).forEach(l=>a(s[l],l))}}class WD{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function VE(){return new op([new Sm])}let op=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||VE()),deps:[[i,new _o,new Pr]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Te(901,"")}}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:VE}),i})();function UE(){return new Z_([new LE])}let Z_=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||UE()),deps:[[i,new _o,new Pr]]}}find(a){const l=this.factories.find(f=>f.supports(a));if(l)return l;throw new Te(901,"")}}return i.\u0275prov=Ht({token:i,providedIn:"root",factory:UE}),i})();const K_=$_(null,"core",[]);let BE=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(ft(ch))},i.\u0275mod=St({type:i}),i.\u0275inj=Gt({}),i})();function jE(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(Ze,q,R)=>{"use strict";R.d(q,{Z:()=>Te});var c=R(2090),P=R(4859),A=R(9681),L=R(1877);class B{constructor(he,pe){this._delegate=he,this.firebase=pe,(0,A._addComponent)(he,new P.wA("app-compat",()=>this,"PUBLIC")),this.container=he.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this._delegate.automaticDataCollectionEnabled=he}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(he=>{this._delegate.checkDestroyed(),he()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,A.deleteApp)(this._delegate)))}_getService(he,pe=A._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const Ne=this._delegate.container.getProvider(he);return!Ne.isInitialized()&&"EXPLICIT"===(null===(ke=Ne.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&Ne.initialize(),Ne.getImmediate({identifier:pe})}_removeServiceInstance(he,pe=A._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(he).clearInstance(pe)}_addComponent(he){(0,A._addComponent)(this._delegate,he)}_addOrOverwriteComponent(he){(0,A._addOrOverwriteComponent)(this._delegate,he)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),G=function le(){const $e=function z($e){const he={},pe={__esModule:!0,initializeApp:function Pe(ie,U={}){const me=A.initializeApp(ie,U);if((0,c.r3)(he,me.name))return he[me.name];const J=new $e(me,pe);return he[me.name]=J,J},app:Ne,registerVersion:A.registerVersion,setLogLevel:A.setLogLevel,onLog:A.onLog,apps:null,SDK_VERSION:A.SDK_VERSION,INTERNAL:{registerComponent:function fe(ie){const U=ie.name,me=U.replace("-compat","");if(A._registerComponent(ie)&&"PUBLIC"===ie.type){const J=(ne=Ne())=>{if("function"!=typeof ne[me])throw Q.create("invalid-app-argument",{appName:U});return ne[me]()};void 0!==ie.serviceProps&&(0,c.ZB)(J,ie.serviceProps),pe[me]=J,$e.prototype[me]=function(...ne){return this._getService.bind(this,U).apply(this,ie.multipleInstances?ne:[])}}return"PUBLIC"===ie.type?pe[me]:null},removeApp:function ke(ie){delete he[ie]},useAsService:function Le(ie,U){return"serverAuth"===U?null:U},modularAPIs:A}};function Ne(ie){if(!(0,c.r3)(he,ie=ie||A._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:ie});return he[ie]}return pe.default=pe,Object.defineProperty(pe,"apps",{get:function Fe(){return Object.keys(he).map(ie=>he[ie])}}),Ne.App=$e,pe}(B);return $e.INTERNAL=Object.assign(Object.assign({},$e.INTERNAL),{createFirebaseNamespace:le,extendNamespace:function he(pe){(0,c.ZB)($e,pe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),$e}(),W=new L.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const $e=self.firebase.SDK_VERSION;$e&&$e.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Te=G;!function Ee($e){(0,A.registerVersion)("@firebase/app-compat","0.1.26",$e)}()},9681:(Ze,q,R)=>{"use strict";R.r(q),R.d(q,{FirebaseError:()=>L.ZR,SDK_VERSION:()=>Lr,_DEFAULT_ENTRY_NAME:()=>$t,_addComponent:()=>an,_addOrOverwriteComponent:()=>Ht,_apps:()=>Ft,_clearComponents:()=>Pn,_components:()=>on,_getProvider:()=>Gt,_registerComponent:()=>Mt,_removeServiceInstance:()=>en,deleteApp:()=>at,getApp:()=>jn,getApps:()=>Dr,initializeApp:()=>Vr,onLog:()=>kt,registerVersion:()=>Tn,setLogLevel:()=>sr});var c=R(5861),P=R(4859),A=R(1877),L=R(2090),B=R(8766);class H{constructor(ve){this.container=ve}getPlatformInfoString(){return this.container.getProviders().map(Ge=>{if(function Q(Z){return"VERSION"===Z.getComponent()?.type}(Ge)){const ot=Ge.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(Ge=>Ge).join(" ")}}const z="@firebase/app",G=new A.Yd("@firebase/app"),$t="[DEFAULT]",Qe={[z]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ft=new Map,on=new Map;function an(Z,ve){try{Z.container.addComponent(ve)}catch(Ge){G.debug(`Component ${ve.name} failed to register with FirebaseApp ${Z.name}`,Ge)}}function Ht(Z,ve){Z.container.addOrOverwriteComponent(ve)}function Mt(Z){const ve=Z.name;if(on.has(ve))return G.debug(`There were multiple attempts to register component ${ve}.`),!1;on.set(ve,Z);for(const Ge of Ft.values())an(Ge,Z);return!0}function Gt(Z,ve){const Ge=Z.container.getProvider("heartbeat").getImmediate({optional:!0});return Ge&&Ge.triggerHeartbeat(),Z.container.getProvider(ve)}function en(Z,ve,Ge=$t){Gt(Z,ve).clearInstance(Ge)}function Pn(){on.clear()}const _n=new L.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class oi{constructor(ve,Ge,ot){this._isDeleted=!1,this._options=Object.assign({},ve),this._config=Object.assign({},Ge),this._name=Ge.name,this._automaticDataCollectionEnabled=Ge.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new P.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this.checkDestroyed(),this._automaticDataCollectionEnabled=ve}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ve){this._isDeleted=ve}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const Lr="9.8.2";function Vr(Z,ve={}){"object"!=typeof ve&&(ve={name:ve});const Ge=Object.assign({name:$t,automaticDataCollectionEnabled:!1},ve),ot=Ge.name;if("string"!=typeof ot||!ot)throw _n.create("bad-app-name",{appName:String(ot)});const Et=Ft.get(ot);if(Et){if((0,L.vZ)(Z,Et.options)&&(0,L.vZ)(Ge,Et.config))return Et;throw _n.create("duplicate-app",{appName:ot})}const St=new P.H0(ot);for(const Rt of on.values())St.addComponent(Rt);const yn=new oi(Z,Ge,St);return Ft.set(ot,yn),yn}function jn(Z=$t){const ve=Ft.get(Z);if(!ve)throw _n.create("no-app",{appName:Z});return ve}function Dr(){return Array.from(Ft.values())}function at(Z){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,c.Z)(function*(Z){const ve=Z.name;Ft.has(ve)&&(Ft.delete(ve),yield Promise.all(Z.container.getProviders().map(Ge=>Ge.delete())),Z.isDeleted=!0)})).apply(this,arguments)}function Tn(Z,ve,Ge){var ot;let Et=null!==(ot=Qe[Z])&&void 0!==ot?ot:Z;Ge&&(Et+=`-${Ge}`);const St=Et.match(/\s|\//),yn=ve.match(/\s|\//);if(St||yn){const Rt=[`Unable to register library "${Et}" with version "${ve}":`];return St&&Rt.push(`library name "${Et}" contains illegal characters (whitespace or "/")`),St&&yn&&Rt.push("and"),yn&&Rt.push(`version name "${ve}" contains illegal characters (whitespace or "/")`),void G.warn(Rt.join(" "))}Mt(new P.wA(`${Et}-version`,()=>({library:Et,version:ve}),"VERSION"))}function kt(Z,ve){if(null!==Z&&"function"!=typeof Z)throw _n.create("invalid-log-argument");(0,A.Am)(Z,ve)}function sr(Z){(0,A.Ub)(Z)}const wt="firebase-heartbeat-store";let En=null;function Ar(){return En||(En=(0,B.X3)("firebase-heartbeat-database",1,{upgrade:(Z,ve)=>{0===ve&&Z.createObjectStore(wt)}}).catch(Z=>{throw _n.create("storage-open",{originalErrorMessage:Z.message})})),En}function Ye(){return(Ye=(0,c.Z)(function*(Z){try{return(yield Ar()).transaction(wt).objectStore(wt).get(Vn(Z))}catch(ve){throw _n.create("storage-get",{originalErrorMessage:ve.message})}})).apply(this,arguments)}function tt(Z,ve){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(Z,ve){try{const ot=(yield Ar()).transaction(wt,"readwrite");return yield ot.objectStore(wt).put(ve,Vn(Z)),ot.done}catch(Ge){throw _n.create("storage-set",{originalErrorMessage:Ge.message})}})).apply(this,arguments)}function Vn(Z){return`${Z.name}!${Z.options.appId}`}class An{constructor(ve){this.container=ve,this._heartbeatsCache=null;const Ge=this.container.getProvider("app").getImmediate();this._storage=new re(Ge),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var ve=this;return(0,c.Z)(function*(){const ot=ve.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Et=Cn();if(null===ve._heartbeatsCache&&(ve._heartbeatsCache=yield ve._heartbeatsCachePromise),ve._heartbeatsCache.lastSentHeartbeatDate!==Et&&!ve._heartbeatsCache.heartbeats.some(St=>St.date===Et))return ve._heartbeatsCache.heartbeats.push({date:Et,agent:ot}),ve._heartbeatsCache.heartbeats=ve._heartbeatsCache.heartbeats.filter(St=>{const yn=new Date(St.date).valueOf();return Date.now()-yn<=2592e6}),ve._storage.overwrite(ve._heartbeatsCache)})()}getHeartbeatsHeader(){var ve=this;return(0,c.Z)(function*(){if(null===ve._heartbeatsCache&&(yield ve._heartbeatsCachePromise),null===ve._heartbeatsCache||0===ve._heartbeatsCache.heartbeats.length)return"";const Ge=Cn(),{heartbeatsToSend:ot,unsentEntries:Et}=function se(Z,ve=1024){const Ge=[];let ot=Z.slice();for(const Et of Z){const St=Ge.find(yn=>yn.agent===Et.agent);if(St){if(St.dates.push(Et.date),ue(Ge)>ve){St.dates.pop();break}}else if(Ge.push({agent:Et.agent,dates:[Et.date]}),ue(Ge)>ve){Ge.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:Ge,unsentEntries:ot}}(ve._heartbeatsCache.heartbeats),St=(0,L.L)(JSON.stringify({version:2,heartbeats:ot}));return ve._heartbeatsCache.lastSentHeartbeatDate=Ge,Et.length>0?(ve._heartbeatsCache.heartbeats=Et,yield ve._storage.overwrite(ve._heartbeatsCache)):(ve._heartbeatsCache.heartbeats=[],ve._storage.overwrite(ve._heartbeatsCache)),St})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class re{constructor(ve){this.app=ve,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,L.hl)()&&(0,L.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ve=this;return(0,c.Z)(function*(){return(yield ve._canUseIndexedDBPromise)&&(yield function Bt(Z){return Ye.apply(this,arguments)}(ve.app))||{heartbeats:[]}})()}overwrite(ve){var Ge=this;return(0,c.Z)(function*(){var ot;if(yield Ge._canUseIndexedDBPromise){const St=yield Ge.read();return tt(Ge.app,{lastSentHeartbeatDate:null!==(ot=ve.lastSentHeartbeatDate)&&void 0!==ot?ot:St.lastSentHeartbeatDate,heartbeats:ve.heartbeats})}})()}add(ve){var Ge=this;return(0,c.Z)(function*(){var ot;if(yield Ge._canUseIndexedDBPromise){const St=yield Ge.read();return tt(Ge.app,{lastSentHeartbeatDate:null!==(ot=ve.lastSentHeartbeatDate)&&void 0!==ot?ot:St.lastSentHeartbeatDate,heartbeats:[...St.heartbeats,...ve.heartbeats]})}})()}}function ue(Z){return(0,L.L)(JSON.stringify({version:2,heartbeats:Z})).length}!function Oe(Z){Mt(new P.wA("platform-logger",ve=>new H(ve),"PRIVATE")),Mt(new P.wA("heartbeat",ve=>new An(ve),"PRIVATE")),Tn(z,"0.7.25",Z),Tn(z,"0.7.25","esm2017"),Tn("fire-js","")}("")},4859:(Ze,q,R)=>{"use strict";R.d(q,{H0:()=>z,wA:()=>A});var c=R(5861),P=R(2090);class A{constructor(G,W,te){this.name=G,this.instanceFactory=W,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(G){return this.instantiationMode=G,this}setMultipleInstances(G){return this.multipleInstances=G,this}setServiceProps(G){return this.serviceProps=G,this}setInstanceCreatedCallback(G){return this.onInstanceCreated=G,this}}const L="[DEFAULT]";class B{constructor(G,W){this.name=G,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(G){const W=this.normalizeInstanceIdentifier(G);if(!this.instancesDeferred.has(W)){const te=new P.BH;if(this.instancesDeferred.set(W,te),this.isInitialized(W)||this.shouldAutoInitialize())try{const De=this.getOrInitializeService({instanceIdentifier:W});De&&te.resolve(De)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(G){var W;const te=this.normalizeInstanceIdentifier(G?.identifier),De=null!==(W=G?.optional)&&void 0!==W&&W;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(De)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Ee){if(De)return null;throw Ee}}getComponent(){return this.component}setComponent(G){if(G.name!==this.name)throw Error(`Mismatching Component ${G.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=G,this.shouldAutoInitialize()){if(function Q(le){return"EAGER"===le.instantiationMode}(G))try{this.getOrInitializeService({instanceIdentifier:L})}catch{}for(const[W,te]of this.instancesDeferred.entries()){const De=this.normalizeInstanceIdentifier(W);try{const Ee=this.getOrInitializeService({instanceIdentifier:De});te.resolve(Ee)}catch{}}}}clearInstance(G=L){this.instancesDeferred.delete(G),this.instancesOptions.delete(G),this.instances.delete(G)}delete(){var G=this;return(0,c.Z)(function*(){const W=Array.from(G.instances.values());yield Promise.all([...W.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...W.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(G=L){return this.instances.has(G)}getOptions(G=L){return this.instancesOptions.get(G)||{}}initialize(G={}){const{options:W={}}=G,te=this.normalizeInstanceIdentifier(G.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const De=this.getOrInitializeService({instanceIdentifier:te,options:W});for(const[Ee,Te]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Ee)&&Te.resolve(De);return De}onInit(G,W){var te;const De=this.normalizeInstanceIdentifier(W),Ee=null!==(te=this.onInitCallbacks.get(De))&&void 0!==te?te:new Set;Ee.add(G),this.onInitCallbacks.set(De,Ee);const Te=this.instances.get(De);return Te&&G(Te,De),()=>{Ee.delete(G)}}invokeOnInitCallbacks(G,W){const te=this.onInitCallbacks.get(W);if(te)for(const De of te)try{De(G,W)}catch{}}getOrInitializeService({instanceIdentifier:G,options:W={}}){let te=this.instances.get(G);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(le=G,le===L?void 0:le),options:W}),this.instances.set(G,te),this.instancesOptions.set(G,W),this.invokeOnInitCallbacks(te,G),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,G,te)}catch{}var le;return te||null}normalizeInstanceIdentifier(G=L){return this.component?this.component.multipleInstances?G:L:G}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(G){this.name=G,this.providers=new Map}addComponent(G){const W=this.getProvider(G.name);if(W.isComponentSet())throw new Error(`Component ${G.name} has already been registered with ${this.name}`);W.setComponent(G)}addOrOverwriteComponent(G){this.getProvider(G.name).isComponentSet()&&this.providers.delete(G.name),this.addComponent(G)}getProvider(G){if(this.providers.has(G))return this.providers.get(G);const W=new B(G,this);return this.providers.set(G,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(Ze,q,R)=>{"use strict";R.d(q,{Am:()=>le,Ub:()=>z,Yd:()=>Q,in:()=>P});const c=[];var P=(()=>{return(G=P||(P={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",P;var G})();const A={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},L=P.INFO,B={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},H=(G,W,...te)=>{if(W<G.logLevel)return;const De=(new Date).toISOString(),Ee=B[W];if(!Ee)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Ee](`[${De}]  ${G.name}:`,...te)};class Q{constructor(W){this.name=W,this._logLevel=L,this._logHandler=H,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in P))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?A[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...W),this._logHandler(this,P.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...W),this._logHandler(this,P.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,P.INFO,...W),this._logHandler(this,P.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,P.WARN,...W),this._logHandler(this,P.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...W),this._logHandler(this,P.ERROR,...W)}}function z(G){c.forEach(W=>{W.setLogLevel(G)})}function le(G,W){for(const te of c){let De=null;W&&W.level&&(De=A[W.level]),te.userLogHandler=null===G?null:(Ee,Te,...$e)=>{const he=$e.map(pe=>{if(null==pe)return null;if("string"==typeof pe)return pe;if("number"==typeof pe||"boolean"==typeof pe)return pe.toString();if(pe instanceof Error)return pe.message;try{return JSON.stringify(pe)}catch{return null}}).filter(pe=>pe).join(" ");Te>=(De??Ee.logLevel)&&G({level:P[Te].toLowerCase(),message:he,args:$e,type:Ee.name})}}}},8766:(Ze,q,R)=>{"use strict";R.d(q,{Lj:()=>Pe,X3:()=>Ne});var c=R(5861);let A,L;const Q=new WeakMap,z=new WeakMap,le=new WeakMap,G=new WeakMap,W=new WeakMap;let Ee={get(U,me,J){if(U instanceof IDBTransaction){if("done"===me)return z.get(U);if("objectStoreNames"===me)return U.objectStoreNames||le.get(U);if("store"===me)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return pe(U[me])},set:(U,me,J)=>(U[me]=J,!0),has:(U,me)=>U instanceof IDBTransaction&&("done"===me||"store"===me)||me in U};function he(U){return"function"==typeof U?function $e(U){return U!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function H(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(U)?function(...me){return U.apply(ke(this),me),pe(Q.get(this))}:function(...me){return pe(U.apply(ke(this),me))}:function(me,...J){const ne=U.call(ke(this),me,...J);return le.set(ne,me.sort?me.sort():[me]),pe(ne)}}(U):(U instanceof IDBTransaction&&function De(U){if(z.has(U))return;const me=new Promise((J,ne)=>{const ae=()=>{U.removeEventListener("complete",ce),U.removeEventListener("error",_e),U.removeEventListener("abort",_e)},ce=()=>{J(),ae()},_e=()=>{ne(U.error||new DOMException("AbortError","AbortError")),ae()};U.addEventListener("complete",ce),U.addEventListener("error",_e),U.addEventListener("abort",_e)});z.set(U,me)}(U),((U,me)=>me.some(J=>U instanceof J))(U,function B(){return A||(A=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(U,Ee):U)}function pe(U){if(U instanceof IDBRequest)return function te(U){const me=new Promise((J,ne)=>{const ae=()=>{U.removeEventListener("success",ce),U.removeEventListener("error",_e)},ce=()=>{J(pe(U.result)),ae()},_e=()=>{ne(U.error),ae()};U.addEventListener("success",ce),U.addEventListener("error",_e)});return me.then(J=>{J instanceof IDBCursor&&Q.set(J,U)}).catch(()=>{}),W.set(me,U),me}(U);if(G.has(U))return G.get(U);const me=he(U);return me!==U&&(G.set(U,me),W.set(me,U)),me}const ke=U=>W.get(U);function Ne(U,me,{blocked:J,upgrade:ne,blocking:ae,terminated:ce}={}){const _e=indexedDB.open(U,me),ze=pe(_e);return ne&&_e.addEventListener("upgradeneeded",gt=>{ne(pe(_e.result),gt.oldVersion,gt.newVersion,pe(_e.transaction))}),J&&_e.addEventListener("blocked",()=>J()),ze.then(gt=>{ce&&gt.addEventListener("close",()=>ce()),ae&&gt.addEventListener("versionchange",()=>ae())}).catch(()=>{}),ze}function Pe(U,{blocked:me}={}){const J=indexedDB.deleteDatabase(U);return me&&J.addEventListener("blocked",()=>me()),pe(J).then(()=>{})}const Fe=["get","getKey","getAll","getAllKeys","count"],fe=["put","add","delete","clear"],Le=new Map;function ie(U,me){if(!(U instanceof IDBDatabase)||me in U||"string"!=typeof me)return;if(Le.get(me))return Le.get(me);const J=me.replace(/FromIndex$/,""),ne=me!==J,ae=fe.includes(J);if(!(J in(ne?IDBIndex:IDBObjectStore).prototype)||!ae&&!Fe.includes(J))return;const ce=function(){var _e=(0,c.Z)(function*(ze,...gt){const Kt=this.transaction(ze,ae?"readwrite":"readonly");let $t=Kt.store;return ne&&($t=$t.index(gt.shift())),(yield Promise.all([$t[J](...gt),ae&&Kt.done]))[0]});return function(gt){return _e.apply(this,arguments)}}();return Le.set(me,ce),ce}!function Te(U){Ee=U(Ee)}(U=>({...U,get:(me,J,ne)=>ie(me,J)||U.get(me,J,ne),has:(me,J)=>!!ie(me,J)||U.has(me,J)}))},5861:(Ze,q,R)=>{"use strict";function c(A,L,B,H,Q,z,le){try{var G=A[z](le),W=G.value}catch(te){return void B(te)}G.done?L(W):Promise.resolve(W).then(H,Q)}function P(A){return function(){var L=this,B=arguments;return new Promise(function(H,Q){var z=A.apply(L,B);function le(W){c(z,H,Q,le,G,"next",W)}function G(W){c(z,H,Q,le,G,"throw",W)}le(void 0)})}}R.d(q,{Z:()=>P})}},Ze=>{Ze(Ze.s=2065)}]);